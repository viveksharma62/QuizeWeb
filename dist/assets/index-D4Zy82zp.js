(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dy={exports:{}},yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4;function bR(){if(d4)return yp;d4=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:a}}return yp.Fragment=t,yp.jsx=e,yp.jsxs=e,yp}var p4;function _R(){return p4||(p4=1,dy.exports=bR()),dy.exports}var A=_R(),py={exports:{}},Nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4;function wR(){if(m4)return Nn;m4=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=w&&W[w]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function k(W,gt,q){this.props=W,this.context=gt,this.refs=I,this.updater=q||v}k.prototype.isReactComponent={},k.prototype.setState=function(W,gt){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,gt,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=k.prototype;function H(W,gt,q){this.props=W,this.context=gt,this.refs=I,this.updater=q||v}var X=H.prototype=new P;X.constructor=H,N(X,k.prototype),X.isPureReactComponent=!0;var Z=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function K(W,gt,q,z,nt,lt){return q=lt.ref,{$$typeof:n,type:W,key:gt,ref:q!==void 0?q:null,props:lt}}function U(W,gt){return K(W.type,gt,void 0,void 0,void 0,W.props)}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function G(W){var gt={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(q){return gt[q]})}var S=/\/+/g;function O(W,gt){return typeof W=="object"&&W!==null&&W.key!=null?G(""+W.key):gt.toString(36)}function R(){}function at(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(R,R):(W.status="pending",W.then(function(gt){W.status==="pending"&&(W.status="fulfilled",W.value=gt)},function(gt){W.status==="pending"&&(W.status="rejected",W.reason=gt)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function vt(W,gt,q,z,nt){var lt=typeof W;(lt==="undefined"||lt==="boolean")&&(W=null);var mt=!1;if(W===null)mt=!0;else switch(lt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(W.$$typeof){case n:case t:mt=!0;break;case p:return mt=W._init,vt(mt(W._payload),gt,q,z,nt)}}if(mt)return nt=nt(W),mt=z===""?"."+O(W,0):z,Z(nt)?(q="",mt!=null&&(q=mt.replace(S,"$&/")+"/"),vt(nt,gt,q,"",function(Rt){return Rt})):nt!=null&&(M(nt)&&(nt=U(nt,q+(nt.key==null||W&&W.key===nt.key?"":(""+nt.key).replace(S,"$&/")+"/")+mt)),gt.push(nt)),1;mt=0;var At=z===""?".":z+":";if(Z(W))for(var St=0;St<W.length;St++)z=W[St],lt=At+O(z,St),mt+=vt(z,gt,q,lt,nt);else if(St=_(W),typeof St=="function")for(W=St.call(W),St=0;!(z=W.next()).done;)z=z.value,lt=At+O(z,St++),mt+=vt(z,gt,q,lt,nt);else if(lt==="object"){if(typeof W.then=="function")return vt(at(W),gt,q,z,nt);throw gt=String(W),Error("Objects are not valid as a React child (found: "+(gt==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":gt)+"). If you meant to render a collection of children, use an array instead.")}return mt}function Q(W,gt,q){if(W==null)return W;var z=[],nt=0;return vt(W,z,"","",function(lt){return gt.call(q,lt,nt++)}),z}function ut(W){if(W._status===-1){var gt=W._result;gt=gt(),gt.then(function(q){(W._status===0||W._status===-1)&&(W._status=1,W._result=q)},function(q){(W._status===0||W._status===-1)&&(W._status=2,W._result=q)}),W._status===-1&&(W._status=0,W._result=gt)}if(W._status===1)return W._result.default;throw W._result}var ct=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var gt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(gt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function Et(){}return Nn.Children={map:Q,forEach:function(W,gt,q){Q(W,function(){gt.apply(this,arguments)},q)},count:function(W){var gt=0;return Q(W,function(){gt++}),gt},toArray:function(W){return Q(W,function(gt){return gt})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Nn.Component=k,Nn.Fragment=e,Nn.Profiler=i,Nn.PureComponent=H,Nn.StrictMode=r,Nn.Suspense=h,Nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Nn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return pt.H.useMemoCache(W)}},Nn.cache=function(W){return function(){return W.apply(null,arguments)}},Nn.cloneElement=function(W,gt,q){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var z=N({},W.props),nt=W.key,lt=void 0;if(gt!=null)for(mt in gt.ref!==void 0&&(lt=void 0),gt.key!==void 0&&(nt=""+gt.key),gt)!wt.call(gt,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&gt.ref===void 0||(z[mt]=gt[mt]);var mt=arguments.length-2;if(mt===1)z.children=q;else if(1<mt){for(var At=Array(mt),St=0;St<mt;St++)At[St]=arguments[St+2];z.children=At}return K(W.type,nt,void 0,void 0,lt,z)},Nn.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Nn.createElement=function(W,gt,q){var z,nt={},lt=null;if(gt!=null)for(z in gt.key!==void 0&&(lt=""+gt.key),gt)wt.call(gt,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(nt[z]=gt[z]);var mt=arguments.length-2;if(mt===1)nt.children=q;else if(1<mt){for(var At=Array(mt),St=0;St<mt;St++)At[St]=arguments[St+2];nt.children=At}if(W&&W.defaultProps)for(z in mt=W.defaultProps,mt)nt[z]===void 0&&(nt[z]=mt[z]);return K(W,lt,void 0,void 0,null,nt)},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function(W){return{$$typeof:c,render:W}},Nn.isValidElement=M,Nn.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:ut}},Nn.memo=function(W,gt){return{$$typeof:f,type:W,compare:gt===void 0?null:gt}},Nn.startTransition=function(W){var gt=pt.T,q={};pt.T=q;try{var z=W(),nt=pt.S;nt!==null&&nt(q,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(Et,ct)}catch(lt){ct(lt)}finally{pt.T=gt}},Nn.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Nn.use=function(W){return pt.H.use(W)},Nn.useActionState=function(W,gt,q){return pt.H.useActionState(W,gt,q)},Nn.useCallback=function(W,gt){return pt.H.useCallback(W,gt)},Nn.useContext=function(W){return pt.H.useContext(W)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function(W,gt){return pt.H.useDeferredValue(W,gt)},Nn.useEffect=function(W,gt,q){var z=pt.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(W,gt)},Nn.useId=function(){return pt.H.useId()},Nn.useImperativeHandle=function(W,gt,q){return pt.H.useImperativeHandle(W,gt,q)},Nn.useInsertionEffect=function(W,gt){return pt.H.useInsertionEffect(W,gt)},Nn.useLayoutEffect=function(W,gt){return pt.H.useLayoutEffect(W,gt)},Nn.useMemo=function(W,gt){return pt.H.useMemo(W,gt)},Nn.useOptimistic=function(W,gt){return pt.H.useOptimistic(W,gt)},Nn.useReducer=function(W,gt,q){return pt.H.useReducer(W,gt,q)},Nn.useRef=function(W){return pt.H.useRef(W)},Nn.useState=function(W){return pt.H.useState(W)},Nn.useSyncExternalStore=function(W,gt,q){return pt.H.useSyncExternalStore(W,gt,q)},Nn.useTransition=function(){return pt.H.useTransition()},Nn.version="19.1.1",Nn}var g4;function O5(){return g4||(g4=1,py.exports=wR()),py.exports}var Y=O5();const Gr=hd(Y);var my={exports:{}},vp={},gy={exports:{}},yy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4;function ER(){return y4||(y4=1,(function(n){function t(Q,ut){var ct=Q.length;Q.push(ut);t:for(;0<ct;){var Et=ct-1>>>1,W=Q[Et];if(0<i(W,ut))Q[Et]=ut,Q[ct]=W,ct=Et;else break t}}function e(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ut=Q[0],ct=Q.pop();if(ct!==ut){Q[0]=ct;t:for(var Et=0,W=Q.length,gt=W>>>1;Et<gt;){var q=2*(Et+1)-1,z=Q[q],nt=q+1,lt=Q[nt];if(0>i(z,ct))nt<W&&0>i(lt,z)?(Q[Et]=lt,Q[nt]=ct,Et=nt):(Q[Et]=z,Q[q]=ct,Et=q);else if(nt<W&&0>i(lt,ct))Q[Et]=lt,Q[nt]=ct,Et=nt;else break t}}return ut}function i(Q,ut){var ct=Q.sortIndex-ut.sortIndex;return ct!==0?ct:Q.id-ut.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,w=null,_=3,v=!1,N=!1,I=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var ut=e(f);ut!==null;){if(ut.callback===null)r(f);else if(ut.startTime<=Q)r(f),ut.sortIndex=ut.expirationTime,t(h,ut);else break;ut=e(f)}}function pt(Q){if(I=!1,Z(Q),!N)if(e(h)!==null)N=!0,wt||(wt=!0,O());else{var ut=e(f);ut!==null&&vt(pt,ut.startTime-Q)}}var wt=!1,K=-1,U=5,M=-1;function G(){return k?!0:!(n.unstable_now()-M<U)}function S(){if(k=!1,wt){var Q=n.unstable_now();M=Q;var ut=!0;try{t:{N=!1,I&&(I=!1,H(K),K=-1),v=!0;var ct=_;try{e:{for(Z(Q),w=e(h);w!==null&&!(w.expirationTime>Q&&G());){var Et=w.callback;if(typeof Et=="function"){w.callback=null,_=w.priorityLevel;var W=Et(w.expirationTime<=Q);if(Q=n.unstable_now(),typeof W=="function"){w.callback=W,Z(Q),ut=!0;break e}w===e(h)&&r(h),Z(Q)}else r(h);w=e(h)}if(w!==null)ut=!0;else{var gt=e(f);gt!==null&&vt(pt,gt.startTime-Q),ut=!1}}break t}finally{w=null,_=ct,v=!1}ut=void 0}}finally{ut?O():wt=!1}}}var O;if(typeof X=="function")O=function(){X(S)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=S,O=function(){at.postMessage(null)}}else O=function(){P(S,0)};function vt(Q,ut){K=P(function(){Q(n.unstable_now())},ut)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var ut=3;break;default:ut=_}var ct=_;_=ut;try{return Q()}finally{_=ct}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Q,ut){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=_;_=Q;try{return ut()}finally{_=ct}},n.unstable_scheduleCallback=function(Q,ut,ct){var Et=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Et+ct:Et):ct=Et,Q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ct+W,Q={id:p++,callback:ut,priorityLevel:Q,startTime:ct,expirationTime:W,sortIndex:-1},ct>Et?(Q.sortIndex=ct,t(f,Q),e(h)===null&&Q===e(f)&&(I?(H(K),K=-1):I=!0,vt(pt,ct-Et))):(Q.sortIndex=W,t(h,Q),N||v||(N=!0,wt||(wt=!0,O()))),Q},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(Q){var ut=_;return function(){var ct=_;_=ut;try{return Q.apply(this,arguments)}finally{_=ct}}}})(yy)),yy}var v4;function AR(){return v4||(v4=1,gy.exports=ER()),gy.exports}var vy={exports:{}},na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function xR(){if(b4)return na;b4=1;var n=O5();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,na.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},na.flushSync=function(h){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=p,r.d.f()}},na.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},na.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},na.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,w=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:w,integrity:_,fetchPriority:v}):p==="script"&&r.d.X(h,{crossOrigin:w,integrity:_,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},na.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},na.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,w=c(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},na.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},na.requestFormReset=function(h){r.d.r(h)},na.unstable_batchedUpdates=function(h,f){return h(f)},na.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},na.useFormStatus=function(){return l.H.useHostTransitionStatus()},na.version="19.1.1",na}var _4;function zx(){if(_4)return vy.exports;_4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vy.exports=xR(),vy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4;function SR(){if(w4)return vp;w4=1;var n=AR(),t=O5(),e=zx();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,d=o;;){var y=u.return;if(y===null)break;var E=y.alternate;if(E===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===u)return c(y),s;if(E===d)return c(y),o;E=E.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=E;else{for(var B=!1,et=y.child;et;){if(et===u){B=!0,u=y,d=E;break}if(et===d){B=!0,d=y,u=E;break}et=et.sibling}if(!B){for(et=E.child;et;){if(et===u){B=!0,u=E,d=y;break}if(et===d){B=!0,d=E,u=y;break}et=et.sibling}if(!B)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var p=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=S&&s[S]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function at(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case pt:return"Suspense";case wt:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case X:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case Z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return o=s.displayName||null,o!==null?o:at(s.type)||"Memo";case U:o=s._payload,s=s._init;try{return at(s(o))}catch{}}return null}var vt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Et=[],W=-1;function gt(s){return{current:s}}function q(s){0>W||(s.current=Et[W],Et[W]=null,W--)}function z(s,o){W++,Et[W]=s.current,s.current=o}var nt=gt(null),lt=gt(null),mt=gt(null),At=gt(null);function St(s,o){switch(z(mt,o),z(lt,s),z(nt,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Fw(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Fw(o),s=Vw(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(nt),z(nt,s)}function Rt(){q(nt),q(lt),q(mt)}function Mt(s){s.memoizedState!==null&&z(At,s);var o=nt.current,u=Vw(o,s.type);o!==u&&(z(lt,s),z(nt,u))}function zt(s){lt.current===s&&(q(nt),q(lt)),At.current===s&&(q(At),fp._currentValue=ct)}var Qt=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Nt=n.unstable_cancelCallback,st=n.unstable_shouldYield,we=n.unstable_requestPaint,he=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,ue=n.unstable_NormalPriority,Ge=n.unstable_LowPriority,ge=n.unstable_IdlePriority,Ye=n.log,Pe=n.unstable_setDisableYieldValue,oe=null,pe=null;function se(s){if(typeof Ye=="function"&&Pe(s),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(oe,s)}catch{}}var ce=Math.clz32?Math.clz32:Rn,ve=Math.log,Ne=Math.LN2;function Rn(s){return s>>>=0,s===0?32:31-(ve(s)/Ne|0)|0}var xn=256,ye=4194304;function Me(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ln(s,o,u){var d=s.pendingLanes;if(d===0)return 0;var y=0,E=s.suspendedLanes,B=s.pingedLanes;s=s.warmLanes;var et=d&134217727;return et!==0?(d=et&~E,d!==0?y=Me(d):(B&=et,B!==0?y=Me(B):u||(u=et&~s,u!==0&&(y=Me(u))))):(et=d&~E,et!==0?y=Me(et):B!==0?y=Me(B):u||(u=d&~s,u!==0&&(y=Me(u)))),y===0?0:o!==0&&o!==y&&(o&E)===0&&(E=y&-y,u=o&-o,E>=u||E===32&&(u&4194048)!==0)?o:y}function Re(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function tn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var s=xn;return xn<<=1,(xn&4194048)===0&&(xn=256),s}function Jn(){var s=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),s}function Qn(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function gn(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function He(s,o,u,d,y,E){var B=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var et=s.entanglements,bt=s.expirationTimes,qt=s.hiddenUpdates;for(u=B&~u;0<u;){var Yt=31-ce(u),re=1<<Yt;et[Yt]=0,bt[Yt]=-1;var Ut=qt[Yt];if(Ut!==null)for(qt[Yt]=null,Yt=0;Yt<Ut.length;Yt++){var Ft=Ut[Yt];Ft!==null&&(Ft.lane&=-536870913)}u&=~re}d!==0&&en(s,d,0),E!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=E&~(B&~o))}function en(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-ce(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|u&4194090}function us(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-ce(u),y=1<<d;y&o|s[d]&o&&(s[d]|=o),u&=~y}}function pr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Si(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cr(){var s=ut.p;return s!==0?s:(s=window.event,s===void 0?32:o4(s.type))}function Be(s,o){var u=ut.p;try{return ut.p=s,o()}finally{ut.p=u}}var _n=Math.random().toString(36).slice(2),ir="__reactFiber$"+_n,Un="__reactProps$"+_n,wr="__reactContainer$"+_n,sr="__reactEvents$"+_n,Rr="__reactListeners$"+_n,wn="__reactHandles$"+_n,Js="__reactResources$"+_n,Qi="__reactMarker$"+_n;function ri(s){delete s[ir],delete s[Un],delete s[sr],delete s[Rr],delete s[wn]}function ii(s){var o=s[ir];if(o)return o;for(var u=s.parentNode;u;){if(o=u[wr]||u[ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Gw(s);s!==null;){if(u=s[ir])return u;s=Gw(s)}return o}s=u,u=s.parentNode}return null}function Fr(s){if(s=s[ir]||s[wr]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function In(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function hr(s){var o=s[Js];return o||(o=s[Js]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ar(s){s[Qi]=!0}var Xi=new Set,bs={};function Ti(s,o){mr(s,o),mr(s+"Capture",o)}function mr(s,o){for(bs[s]=o,s=0;s<o.length;s++)Xi.add(o[s])}var fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},Os={};function za(s){return Qt.call(Os,s)?!0:Qt.call(ao,s)?!1:fa.test(s)?Os[s]=!0:(ao[s]=!0,!1)}function ks(s,o,u){if(za(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function yr(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Lr(s,o,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+d)}}var cs,Di;function Zi(s){if(cs===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);cs=o&&o[1]||"",Di=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+s+Di}var da=!1;function pa(s,o){if(!s||da)return"";da=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Ft){var Ut=Ft}Reflect.construct(s,[],re)}else{try{re.call()}catch(Ft){Ut=Ft}s.call(re.prototype)}}else{try{throw Error()}catch(Ft){Ut=Ft}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Ft){if(Ft&&Ut&&typeof Ft.stack=="string")return[Ft.stack,Ut.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=d.DetermineComponentFrameRoot(),B=E[0],et=E[1];if(B&&et){var bt=B.split(`
`),qt=et.split(`
`);for(y=d=0;d<bt.length&&!bt[d].includes("DetermineComponentFrameRoot");)d++;for(;y<qt.length&&!qt[y].includes("DetermineComponentFrameRoot");)y++;if(d===bt.length||y===qt.length)for(d=bt.length-1,y=qt.length-1;1<=d&&0<=y&&bt[d]!==qt[y];)y--;for(;1<=d&&0<=y;d--,y--)if(bt[d]!==qt[y]){if(d!==1||y!==1)do if(d--,y--,0>y||bt[d]!==qt[y]){var Yt=`
`+bt[d].replace(" at new "," at ");return s.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",s.displayName)),Yt}while(1<=d&&0<=y);break}}}finally{da=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Zi(u):""}function ta(s){switch(s.tag){case 26:case 27:case 5:return Zi(s.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return pa(s.type,!1);case 11:return pa(s.type.render,!1);case 1:return pa(s.type,!0);case 31:return Zi("Activity");default:return""}}function Na(s){try{var o="";do o+=ta(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Cn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ds(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ca(s){var o=Ds(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,E=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(B){d=""+B,E.call(this,B)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(B){d=""+B},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function si(s){s._valueTracker||(s._valueTracker=Ca(s))}function _s(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=Ds(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function ai(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ma=/[\n"\\]/g;function fn(s){return s.replace(ma,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mi(s,o,u,d,y,E,B,et){s.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.type=B:s.removeAttribute("type"),o!=null?B==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Cn(o)):s.value!==""+Cn(o)&&(s.value=""+Cn(o)):B!=="submit"&&B!=="reset"||s.removeAttribute("value"),o!=null?ws(s,B,Cn(o)):u!=null?ws(s,B,Cn(u)):d!=null&&s.removeAttribute("value"),y==null&&E!=null&&(s.defaultChecked=!!E),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?s.name=""+Cn(et):s.removeAttribute("name")}function ga(s,o,u,d,y,E,B,et){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),o!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||o!=null))return;u=u!=null?""+Cn(u):"",o=o!=null?""+Cn(o):u,et||o===s.value||(s.value=o),s.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=et?s.checked:!!d,s.defaultChecked=!!d,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(s.name=B)}function ws(s,o,u){o==="number"&&ai(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ps(s,o,u,d){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Cn(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Sn(s,o,u){if(o!=null&&(o=""+Cn(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Cn(u):""}function Ji(s,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(vt(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Cn(o),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d)}function Er(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ts(s,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,u):typeof u!="number"||u===0||Vr.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Ha(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&ts(s,y,d)}else for(var E in o)o.hasOwnProperty(E)&&ts(s,E,o[E])}function es(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(s){return $a.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ni=null;function Pi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var or=null,ns=null;function Ke(s){var o=Fr(s);if(o&&(s=o.stateNode)){var u=s[Un]||null;t:switch(s=o.stateNode,o.type){case"input":if(mi(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+fn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var y=d[Un]||null;if(!y)throw Error(r(90));mi(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===s.form&&_s(d)}break t;case"textarea":Sn(s,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&Ps(s,!!u.multiple,o,!1)}}}var Mi=!1;function Ra(s,o,u){if(Mi)return s(o,u);Mi=!0;try{var d=s(o);return d}finally{if(Mi=!1,(or!==null||ns!==null)&&(gg(),or&&(o=or,s=ns,ns=or=null,Ke(o),s)))for(o=0;o<s.length;o++)Ke(s[o])}}function As(s,o){var u=s.stateNode;if(u===null)return null;var d=u[Un]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(hs)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{Pr=!1}var fs=null,yi=null,ji=null;function Ms(){if(ji)return ji;var s,o=yi,u=o.length,d,y="value"in fs?fs.value:fs.textContent,E=y.length;for(s=0;s<u&&o[s]===y[s];s++);var B=u-s;for(d=1;d<=B&&o[u-d]===y[E-d];d++);return ji=y.slice(s,1<d?1-d:void 0)}function Ci(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function qi(){return!0}function L(){return!1}function tt(s){function o(u,d,y,E,B){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var et in s)s.hasOwnProperty(et)&&(u=s[et],this[et]=u?u(E):E[et]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qi:L,this.isPropagationStopped=L,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),o}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ht=tt(yt),Ve=p({},yt,{view:0,detail:0}),Ee=tt(Ve),yn,ln,Bn,dn=p({},Ve,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bn&&(Bn&&s.type==="mousemove"?(yn=s.screenX-Bn.screenX,ln=s.screenY-Bn.screenY):ln=yn=0,Bn=s),yn)},movementY:function(s){return"movementY"in s?s.movementY:ln}}),Xn=tt(dn),Yr=p({},dn,{dataTransfer:0}),Fn=tt(Yr),Zn=p({},Ve,{relatedTarget:0}),x=tt(Zn),F=p({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),ht=tt(F),_t=p({},yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lt=tt(_t),Gt=p({},yt,{data:0}),te=tt(Gt),be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sn(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Qe[s])?!!o[s]:!1}function On(){return sn}var Ir=p({},Ve,{key:function(s){if(s.key){var o=be[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ci(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ie[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(s){return s.type==="keypress"?Ci(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ci(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Mr=tt(Ir),lr=p({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qr=tt(lr),vr=p({},Ve,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),Ri=tt(vr),La=p({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ga=tt(La),qu=p({},dn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=tt(qu),vi=p({},yt,{newState:0,oldState:0}),ea=tt(vi),ml=[9,13,27,32],js=hs&&"CompositionEvent"in window,g=null;hs&&"documentMode"in document&&(g=document.documentMode);var C=hs&&"TextEvent"in window&&!g,j=hs&&(!js||g&&8<g&&11>=g),it=" ",Ot=!1;function Vt(s,o){switch(s){case"keyup":return ml.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var kn=!1;function zr(s,o){switch(s){case"compositionend":return le(o);case"keypress":return o.which!==32?null:(Ot=!0,it);case"textInput":return s=o.data,s===it&&Ot?null:s;default:return null}}function Dn(s,o){if(kn)return s==="compositionend"||!js&&Vt(s,o)?(s=Ms(),ji=yi=fs=null,kn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return j&&o.locale!=="ko"?null:o.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Mn[s.type]:o==="textarea"}function ya(s,o,u,d){or?ns?ns.push(d):ns=[d]:or=d,o=Eg(o,"onChange"),0<o.length&&(u=new Ht("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var bi=null,ds=null;function oo(s){Mw(s,0)}function ps(s){var o=In(s);if(_s(o))return s}function qs(s,o){if(s==="change")return o}var gl=!1;if(hs){var Ia;if(hs){var lo="oninput"in document;if(!lo){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),lo=typeof Uu.oninput=="function"}Ia=lo}else Ia=!1;gl=Ia&&(!document.documentMode||9<document.documentMode)}function Mo(){bi&&(bi.detachEvent("onpropertychange",oi),ds=bi=null)}function oi(s){if(s.propertyName==="value"&&ps(ds)){var o=[];ya(o,ds,s,Pi(s)),Ra(oo,o)}}function Nd(s,o,u){s==="focusin"?(Mo(),bi=o,ds=u,bi.attachEvent("onpropertychange",oi)):s==="focusout"&&Mo()}function uo(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ps(ds)}function co(s,o){if(s==="click")return ps(o)}function Bu(s,o){if(s==="input"||s==="change")return ps(o)}function Qc(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var rs=typeof Object.is=="function"?Object.is:Qc;function ho(s,o){if(rs(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Qt.call(o,y)||!rs(s[y],o[y]))return!1}return!0}function yl(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vl(s,o){var u=yl(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=yl(u)}}function fo(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?fo(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Fu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ai(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ai(s.document)}return o}function Us(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var po=hs&&"documentMode"in document&&11>=document.documentMode,ur=null,br=null,jr=null,Xr=!1;function mo(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xr||ur==null||ur!==ai(d)||(d=ur,"selectionStart"in d&&Us(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jr&&ho(jr,d)||(jr=d,d=Eg(br,"onSelect"),0<d.length&&(o=new Ht("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=ur)))}function Oa(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Bs={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Gl={},Cd={};hs&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function bl(s){if(Gl[s])return Gl[s];if(!Bs[s])return s;var o=Bs[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cd)return Gl[s]=o[u];return s}var Rd=bl("animationend"),Ld=bl("animationiteration"),Id=bl("animationstart"),jm=bl("transitionrun"),qm=bl("transitionstart"),Um=bl("transitioncancel"),Od=bl("transitionend"),kd=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function ka(s,o){kd.set(s,o),Ti(o,[s])}var Vu=new WeakMap;function va(s,o){if(typeof s=="object"&&s!==null){var u=Vu.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Na(o)},Vu.set(s,o),o)}return{value:s,source:o,stack:Na(o)}}var ba=[],Kl=0,Qh=0;function Xc(){for(var s=Kl,o=Qh=Kl=0;o<s;){var u=ba[o];ba[o++]=null;var d=ba[o];ba[o++]=null;var y=ba[o];ba[o++]=null;var E=ba[o];if(ba[o++]=null,d!==null&&y!==null){var B=d.pending;B===null?y.next=y:(y.next=B.next,B.next=y),d.pending=y}E!==0&&Zh(u,y,E)}}function Zc(s,o,u,d){ba[Kl++]=s,ba[Kl++]=o,ba[Kl++]=u,ba[Kl++]=d,Qh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Xh(s,o,u,d){return Zc(s,o,u,d),Yl(s)}function Wl(s,o){return Zc(s,null,null,o),Yl(s)}function Zh(s,o,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var y=!1,E=s.return;E!==null;)E.childLanes|=u,d=E.alternate,d!==null&&(d.childLanes|=u),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(y=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,y&&o!==null&&(y=31-ce(u),s=E.hiddenUpdates,d=s[y],d===null?s[y]=[o]:d.push(o),o.lane=u|536870912),E):null}function Yl(s){if(50<ip)throw ip=0,j2=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var is={};function Da(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(s,o,u,d){return new Da(s,o,u,d)}function zu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function go(s,o){var u=s.alternate;return u===null?(u=xs(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Jc(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ql(s,o,u,d,y,E){var B=0;if(d=s,typeof s=="function")zu(s)&&(B=1);else if(typeof s=="string")B=aR(s,u,nt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=xs(31,u,o,y),s.elementType=M,s.lanes=E,s;case N:return jo(u.children,y,E,o);case I:B=8,y|=24;break;case k:return s=xs(12,u,o,y|2),s.elementType=k,s.lanes=E,s;case pt:return s=xs(13,u,o,y),s.elementType=pt,s.lanes=E,s;case wt:return s=xs(19,u,o,y),s.elementType=wt,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:case X:B=10;break t;case H:B=9;break t;case Z:B=11;break t;case K:B=14;break t;case U:B=16,d=null;break t}B=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=xs(B,u,o,y),o.elementType=s,o.type=d,o.lanes=E,o}function jo(s,o,u,d){return s=xs(7,s,d,o),s.lanes=u,s}function Jh(s,o,u){return s=xs(6,s,null,o),s.lanes=u,s}function th(s,o,u){return o=xs(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var _l=[],qo=0,Hu=null,tf=0,Pa=[],_a=0,Xl=null,Uo=1,Bo="";function Zl(s,o){_l[qo++]=tf,_l[qo++]=Hu,Hu=s,tf=o}function Bm(s,o,u){Pa[_a++]=Uo,Pa[_a++]=Bo,Pa[_a++]=Xl,Xl=s;var d=Uo;s=Bo;var y=32-ce(d)-1;d&=~(1<<y),u+=1;var E=32-ce(o)+y;if(30<E){var B=y-y%5;E=(d&(1<<B)-1).toString(32),d>>=B,y-=B,Uo=1<<32-ce(o)+y|u<<y|d,Bo=E+s}else Uo=1<<E|u<<y|d,Bo=s}function eh(s){s.return!==null&&(Zl(s,1),Bm(s,1,0))}function nh(s){for(;s===Hu;)Hu=_l[--qo],_l[qo]=null,tf=_l[--qo],_l[qo]=null;for(;s===Xl;)Xl=Pa[--_a],Pa[_a]=null,Bo=Pa[--_a],Pa[_a]=null,Uo=Pa[--_a],Pa[_a]=null}var Ui=null,li=null,cr=!1,wl=null,yo=!1,Dd=Error(r(519));function Jl(s){var o=Error(r(418,""));throw $u(va(o,s)),Dd}function Fm(s){var o=s.stateNode,u=s.type,d=s.memoizedProps;switch(o[ir]=s,o[Un]=d,u){case"dialog":zn("cancel",o),zn("close",o);break;case"iframe":case"object":case"embed":zn("load",o);break;case"video":case"audio":for(u=0;u<ap.length;u++)zn(ap[u],o);break;case"source":zn("error",o);break;case"img":case"image":case"link":zn("error",o),zn("load",o);break;case"details":zn("toggle",o);break;case"input":zn("invalid",o),ga(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),si(o);break;case"select":zn("invalid",o);break;case"textarea":zn("invalid",o),Ji(o,d.value,d.defaultValue,d.children),si(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||Bw(o.textContent,u)?(d.popover!=null&&(zn("beforetoggle",o),zn("toggle",o)),d.onScroll!=null&&zn("scroll",o),d.onScrollEnd!=null&&zn("scrollend",o),d.onClick!=null&&(o.onclick=Ag),o=!0):o=!1,o||Jl(s)}function Fo(s){for(Ui=s.return;Ui;)switch(Ui.tag){case 5:case 13:yo=!1;return;case 27:case 3:yo=!0;return;default:Ui=Ui.return}}function Fs(s){if(s!==Ui)return!1;if(!cr)return Fo(s),cr=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||J2(s.type,s.memoizedProps)),u=!u),u&&li&&Jl(s),Fo(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){li=Yo(s.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}li=null}}else o===27?(o=li,oc(s.type)?(s=ry,ry=null,li=s):li=o):li=Ui?Yo(s.stateNode.nextSibling):null;return!0}function wa(){li=Ui=null,cr=!1}function Vm(){var s=wl;return s!==null&&(ja===null?ja=s:ja.push.apply(ja,s),wl=null),s}function $u(s){wl===null?wl=[s]:wl.push(s)}var vo=gt(null),ss=null,Vo=null;function El(s,o,u){z(vo,o._currentValue),o._currentValue=u}function bo(s){s._currentValue=vo.current,q(vo)}function ef(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function nf(s,o,u,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var E=y.dependencies;if(E!==null){var B=y.child;E=E.firstContext;t:for(;E!==null;){var et=E;E=y;for(var bt=0;bt<o.length;bt++)if(et.context===o[bt]){E.lanes|=u,et=E.alternate,et!==null&&(et.lanes|=u),ef(E.return,u,s),d||(B=null);break t}E=et.next}}else if(y.tag===18){if(B=y.return,B===null)throw Error(r(341));B.lanes|=u,E=B.alternate,E!==null&&(E.lanes|=u),ef(B,u,s),B=null}else B=y.child;if(B!==null)B.return=y;else for(B=y;B!==null;){if(B===s){B=null;break}if(y=B.sibling,y!==null){y.return=B.return,B=y;break}B=B.return}y=B}}function Gu(s,o,u,d){s=null;for(var y=o,E=!1;y!==null;){if(!E){if((y.flags&524288)!==0)E=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var B=y.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var et=y.type;rs(y.pendingProps.value,B.value)||(s!==null?s.push(et):s=[et])}}else if(y===At.current){if(B=y.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(fp):s=[fp])}y=y.return}s!==null&&nf(o,s,u,d),o.flags|=262144}function rf(s){for(s=s.firstContext;s!==null;){if(!rs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _o(s){ss=s,Vo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bi(s){return sf(ss,s)}function Al(s,o){return ss===null&&_o(s),sf(s,o)}function sf(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Vo===null){if(s===null)throw Error(r(308));Vo=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Vo=Vo.next=o;return u}var l2=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},zm=n.unstable_scheduleCallback,u2=n.unstable_NormalPriority,Fi={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new l2,data:new Map,refCount:0}}function rh(s){s.refCount--,s.refCount===0&&zm(u2,function(){s.controller.abort()})}var ih=null,Md=0,tu=0,zo=null;function c2(s,o){if(ih===null){var u=ih=[];Md=0,tu=H2(),zo={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Md++,o.then(Hm,Hm),o}function Hm(){if(--Md===0&&ih!==null){zo!==null&&(zo.status="fulfilled");var s=ih;ih=null,tu=0,zo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function $m(s,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var m=Q.S;Q.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&c2(s,o),m!==null&&m(s,o)};var b=gt(null);function T(){var s=b.current;return s!==null?s:Hr.pooledCache}function D(s,o){o===null?z(b,b.current):z(b,o.pool)}function V(){var s=T();return s===null?null:{parent:Fi._currentValue,pool:s}}var $=Error(r(460)),J=Error(r(474)),rt=Error(r(542)),ot={then:function(){}};function dt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xt(){}function jt(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(xt,xt),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kt(s),s;default:if(typeof o.status=="string")o.then(xt,xt);else{if(s=Hr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,kt(s),s}throw ft=o,$}}var ft=null;function Ct(){if(ft===null)throw Error(r(459));var s=ft;return ft=null,s}function kt(s){if(s===$||s===rt)throw Error(r(483))}var $t=!1;function Pt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wt(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Kt(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ae(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(xr&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Yl(s),Zh(s,null,u),o}return Zc(s,d,o,u),Yl(s)}function ne(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,us(s,u)}}function je(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var B={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?y=E=B:E=E.next=B,u=u.next}while(u!==null);E===null?y=E=o:E=E.next=o}else y=E=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Ae=!1;function un(){if(Ae){var s=zo;if(s!==null)throw s}}function Te(s,o,u,d){Ae=!1;var y=s.updateQueue;$t=!1;var E=y.firstBaseUpdate,B=y.lastBaseUpdate,et=y.shared.pending;if(et!==null){y.shared.pending=null;var bt=et,qt=bt.next;bt.next=null,B===null?E=qt:B.next=qt,B=bt;var Yt=s.alternate;Yt!==null&&(Yt=Yt.updateQueue,et=Yt.lastBaseUpdate,et!==B&&(et===null?Yt.firstBaseUpdate=qt:et.next=qt,Yt.lastBaseUpdate=bt))}if(E!==null){var re=y.baseState;B=0,Yt=qt=bt=null,et=E;do{var Ut=et.lane&-536870913,Ft=Ut!==et.lane;if(Ft?(er&Ut)===Ut:(d&Ut)===Ut){Ut!==0&&Ut===tu&&(Ae=!0),Yt!==null&&(Yt=Yt.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});t:{var on=s,Ze=et;Ut=o;var Dr=u;switch(Ze.tag){case 1:if(on=Ze.payload,typeof on=="function"){re=on.call(Dr,re,Ut);break t}re=on;break t;case 3:on.flags=on.flags&-65537|128;case 0:if(on=Ze.payload,Ut=typeof on=="function"?on.call(Dr,re,Ut):on,Ut==null)break t;re=p({},re,Ut);break t;case 2:$t=!0}}Ut=et.callback,Ut!==null&&(s.flags|=64,Ft&&(s.flags|=8192),Ft=y.callbacks,Ft===null?y.callbacks=[Ut]:Ft.push(Ut))}else Ft={lane:Ut,tag:et.tag,payload:et.payload,callback:et.callback,next:null},Yt===null?(qt=Yt=Ft,bt=re):Yt=Yt.next=Ft,B|=Ut;if(et=et.next,et===null){if(et=y.shared.pending,et===null)break;Ft=et,et=Ft.next,Ft.next=null,y.lastBaseUpdate=Ft,y.shared.pending=null}}while(!0);Yt===null&&(bt=re),y.baseState=bt,y.firstBaseUpdate=qt,y.lastBaseUpdate=Yt,E===null&&(y.shared.lanes=0),rc|=B,s.lanes=B,s.memoizedState=re}}function jn(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function Li(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)jn(u[s],o)}var an=gt(null),Ce=gt(0);function fe(s,o){s=lu,z(Ce,s),z(an,o),lu=s|o.baseLanes}function Zr(){z(Ce,lu),z(an,an.current)}function cn(){lu=Ce.current,q(an),q(Ce)}var Tn=0,Le=null,pn=null,$n=null,qr=!1,_i=!1,wi=!1,ui=0,Pn=0,Gn=null,ci=0;function Xe(){throw Error(r(321))}function Vi(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!rs(s[u],o[u]))return!1;return!0}function Ea(s,o,u,d,y,E){return Tn=E,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Q.H=s===null||s.memoizedState===null?__:w_,wi=!1,E=u(d,y),wi=!1,_i&&(E=Vs(o,u,d,y)),hi(s),E}function hi(s){Q.H=rg;var o=pn!==null&&pn.next!==null;if(Tn=0,$n=pn=Le=null,qr=!1,Pn=0,Gn=null,o)throw Error(r(300));s===null||Ts||(s=s.dependencies,s!==null&&rf(s)&&(Ts=!0))}function Vs(s,o,u,d){Le=s;var y=0;do{if(_i&&(Gn=null),Pn=0,_i=!1,25<=y)throw Error(r(301));if(y+=1,$n=pn=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Q.H=y8,E=o(u,d)}while(_i);return E}function Ar(){var s=Q.H,o=s.useState()[0];return o=typeof o.then=="function"?gs(o):o,s=s.useState()[0],(pn!==null?pn.memoizedState:null)!==s&&(Le.flags|=1024),o}function Ei(){var s=ui!==0;return ui=0,s}function zs(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function ms(s){if(qr){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}qr=!1}Tn=0,$n=pn=Le=null,_i=!1,Pn=ui=0,Gn=null}function Or(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Le.memoizedState=$n=s:$n=$n.next=s,$n}function tr(){if(pn===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var o=$n===null?Le.memoizedState:$n.next;if(o!==null)$n=o,pn=s;else{if(s===null)throw Le.alternate===null?Error(r(467)):Error(r(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},$n===null?Le.memoizedState=$n=s:$n=$n.next=s}return $n}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gs(s){var o=Pn;return Pn+=1,Gn===null&&(Gn=[]),s=jt(Gn,s,o),o=Le,($n===null?o.memoizedState:$n.next)===null&&(o=o.alternate,Q.H=o===null||o.memoizedState===null?__:w_),s}function gr(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gs(s);if(s.$$typeof===X)return Bi(s)}throw Error(r(438,String(s)))}function Hs(s){var o=null,u=Le.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ss(),Le.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),d=0;d<s;d++)u[d]=G;return o.index++,u}function zi(s,o){return typeof o=="function"?o(s):o}function wo(s){var o=tr();return Ka(o,pn,s)}function Ka(s,o,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=s.baseQueue,E=d.pending;if(E!==null){if(y!==null){var B=y.next;y.next=E.next,E.next=B}o.baseQueue=y=E,d.pending=null}if(E=s.baseState,y===null)s.memoizedState=E;else{o=y.next;var et=B=null,bt=null,qt=o,Yt=!1;do{var re=qt.lane&-536870913;if(re!==qt.lane?(er&re)===re:(Tn&re)===re){var Ut=qt.revertLane;if(Ut===0)bt!==null&&(bt=bt.next={lane:0,revertLane:0,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null}),re===tu&&(Yt=!0);else if((Tn&Ut)===Ut){qt=qt.next,Ut===tu&&(Yt=!0);continue}else re={lane:0,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(et=bt=re,B=E):bt=bt.next=re,Le.lanes|=Ut,rc|=Ut;re=qt.action,wi&&u(E,re),E=qt.hasEagerState?qt.eagerState:u(E,re)}else Ut={lane:re,revertLane:qt.revertLane,action:qt.action,hasEagerState:qt.hasEagerState,eagerState:qt.eagerState,next:null},bt===null?(et=bt=Ut,B=E):bt=bt.next=Ut,Le.lanes|=re,rc|=re;qt=qt.next}while(qt!==null&&qt!==o);if(bt===null?B=E:bt.next=et,!rs(E,s.memoizedState)&&(Ts=!0,Yt&&(u=zo,u!==null)))throw u;s.memoizedState=E,s.baseState=B,s.baseQueue=bt,d.lastRenderedState=E}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Hi(s){var o=tr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,y=u.pending,E=o.memoizedState;if(y!==null){u.pending=null;var B=y=y.next;do E=s(E,B.action),B=B.next;while(B!==y);rs(E,o.memoizedState)||(Ts=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,d]}function sh(s,o,u){var d=Le,y=tr(),E=cr;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=o();var B=!rs((pn||y).memoizedState,u);B&&(y.memoizedState=u,Ts=!0),y=y.queue;var et=Ku.bind(null,d,y,s);if(Qu(2048,8,et,[s]),y.getSnapshot!==o||B||$n!==null&&$n.memoizedState.tag&1){if(d.flags|=2048,$o(9,uh(),ah.bind(null,d,y,u,o),null),Hr===null)throw Error(r(349));E||(Tn&124)!==0||af(d,o,u)}return u}function af(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Le.updateQueue,o===null?(o=Ss(),Le.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function ah(s,o,u,d){o.value=u,o.getSnapshot=d,Gm(o)&&Km(s)}function Ku(s,o,u){return u(function(){Gm(o)&&Km(s)})}function Gm(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!rs(s,u)}catch{return!0}}function Km(s){var o=Wl(s,2);o!==null&&Ja(o,s,2)}function oh(s){var o=Or();if(typeof s=="function"){var u=s;if(s=u(),wi){se(!0);try{u()}finally{se(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},o}function Ho(s,o,u,d){return s.baseState=u,Ka(s,pn,typeof d=="function"?d:zi)}function h2(s,o,u,d,y){if(ng(s))throw Error(r(485));if(s=o.action,s!==null){var E={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){E.listeners.push(B)}};Q.T!==null?u(!0):E.isTransition=!1,d(E),u=o.pending,u===null?(E.next=o.pending=E,Wm(o,E)):(E.next=u.next,o.pending=u.next=E)}}function Wm(s,o){var u=o.action,d=o.payload,y=s.state;if(o.isTransition){var E=Q.T,B={};Q.T=B;try{var et=u(y,d),bt=Q.S;bt!==null&&bt(B,et),Ym(s,o,et)}catch(qt){Wu(s,o,qt)}finally{Q.T=E}}else try{E=u(y,d),Ym(s,o,E)}catch(qt){Wu(s,o,qt)}}function Ym(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){jd(s,o,d)},function(d){return Wu(s,o,d)}):jd(s,o,u)}function jd(s,o,u){o.status="fulfilled",o.value=u,qd(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Wm(s,u)))}function Wu(s,o,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,qd(o),o=o.next;while(o!==d)}s.action=null}function qd(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Ud(s,o){return o}function lh(s,o){if(cr){var u=Hr.formState;if(u!==null){t:{var d=Le;if(cr){if(li){e:{for(var y=li,E=yo;y.nodeType!==8;){if(!E){y=null;break e}if(y=Yo(y.nextSibling),y===null){y=null;break e}}E=y.data,y=E==="F!"||E==="F"?y:null}if(y){li=Yo(y.nextSibling),d=y.data==="F!";break t}}Jl(d)}d=!1}d&&(o=u[0])}}return u=Or(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:o},u.queue=d,u=y_.bind(null,Le,d),d.dispatch=u,d=oh(!1),E=f2.bind(null,Le,!1,d.queue),d=Or(),y={state:o,dispatch:null,action:s,pending:null},d.queue=y,u=h2.bind(null,Le,y,E,u),y.dispatch=u,d.memoizedState=s,[o,u,!1]}function of(s){var o=tr();return Yu(o,pn,s)}function Yu(s,o,u){if(o=Ka(s,o,Ud)[0],s=wo(zi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=gs(o)}catch(B){throw B===$?rt:B}else d=o;o=tr();var y=o.queue,E=y.dispatch;return u!==o.memoizedState&&(Le.flags|=2048,$o(9,uh(),Qm.bind(null,y,u),null)),[d,E,s]}function Qm(s,o){s.action=o}function Xm(s){var o=tr(),u=pn;if(u!==null)return Yu(o,u,s);tr(),o=o.memoizedState,u=tr();var d=u.queue.dispatch;return u.memoizedState=s,[o,d,!1]}function $o(s,o,u,d){return s={tag:s,create:u,deps:d,inst:o,next:null},o=Le.updateQueue,o===null&&(o=Ss(),Le.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s),s}function uh(){return{destroy:void 0,resource:void 0}}function lf(){return tr().memoizedState}function Wa(s,o,u,d){var y=Or();d=d===void 0?null:d,Le.flags|=s,y.memoizedState=$o(1|o,uh(),u,d)}function Qu(s,o,u,d){var y=tr();d=d===void 0?null:d;var E=y.memoizedState.inst;pn!==null&&d!==null&&Vi(d,pn.memoizedState.deps)?y.memoizedState=$o(o,E,u,d):(Le.flags|=s,y.memoizedState=$o(1|o,E,u,d))}function Bd(s,o){Wa(8390656,8,s,o)}function Zm(s,o){Qu(2048,8,s,o)}function Fd(s,o){return Qu(4,2,s,o)}function eu(s,o){return Qu(4,4,s,o)}function Jm(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Vd(s,o,u){u=u!=null?u.concat([s]):null,Qu(4,4,Jm.bind(null,o,s),u)}function zd(){}function Hd(s,o){var u=tr();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Vi(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function tg(s,o){var u=tr();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Vi(o,d[1]))return d[0];if(d=s(),wi){se(!0);try{s()}finally{se(!1)}}return u.memoizedState=[d,o],d}function nu(s,o,u){return u===void 0||(Tn&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=dw(),Le.lanes|=s,rc|=s,u)}function uf(s,o,u,d){return rs(u,o)?u:an.current!==null?(s=nu(s,u,d),rs(s,o)||(Ts=!0),s):(Tn&42)===0?(Ts=!0,s.memoizedState=u):(s=dw(),Le.lanes|=s,rc|=s,o)}function ch(s,o,u,d,y){var E=ut.p;ut.p=E!==0&&8>E?E:8;var B=Q.T,et={};Q.T=et,f2(s,!1,o,u);try{var bt=y(),qt=Q.S;if(qt!==null&&qt(et,bt),bt!==null&&typeof bt=="object"&&typeof bt.then=="function"){var Yt=$m(bt,d);Wd(s,o,Yt,Za(s))}else Wd(s,o,d,Za(s))}catch(re){Wd(s,o,{then:function(){},status:"rejected",reason:re},Za())}finally{ut.p=E,Q.T=B}}function Go(){}function Eo(s,o,u,d){if(s.tag!==5)throw Error(r(476));var y=Ko(s).queue;ch(s,y,o,ct,u===null?Go:function(){return hh(s),u(d)})}function Ko(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ct},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function hh(s){var o=Ko(s).next.queue;Wd(s,o,{},Za())}function fh(){return Bi(fp)}function $d(){return tr().memoizedState}function eg(){return tr().memoizedState}function Gd(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Za();s=Kt(u);var d=ae(o,s,u);d!==null&&(Ja(d,o,u),ne(d,o,u)),o={cache:Pd()},s.payload=o;return}o=o.return}}function Kd(s,o,u){var d=Za();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ng(s)?v_(o,u):(u=Xh(s,o,u,d),u!==null&&(Ja(u,s,d),b_(u,o,d)))}function y_(s,o,u){var d=Za();Wd(s,o,u,d)}function Wd(s,o,u,d){var y={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ng(s))v_(o,y);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var B=o.lastRenderedState,et=E(B,u);if(y.hasEagerState=!0,y.eagerState=et,rs(et,B))return Zc(s,o,y,0),Hr===null&&Xc(),!1}catch{}finally{}if(u=Xh(s,o,y,d),u!==null)return Ja(u,s,d),b_(u,o,d),!0}return!1}function f2(s,o,u,d){if(d={lane:2,revertLane:H2(),action:d,hasEagerState:!1,eagerState:null,next:null},ng(s)){if(o)throw Error(r(479))}else o=Xh(s,u,d,2),o!==null&&Ja(o,s,2)}function ng(s){var o=s.alternate;return s===Le||o!==null&&o===Le}function v_(s,o){_i=qr=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function b_(s,o,u){if((u&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,us(s,u)}}var rg={readContext:Bi,use:gr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},__={readContext:Bi,use:gr,useCallback:function(s,o){return Or().memoizedState=[s,o===void 0?null:o],s},useContext:Bi,useEffect:Bd,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Wa(4194308,4,Jm.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Wa(4194308,4,s,o)},useInsertionEffect:function(s,o){Wa(4,2,s,o)},useMemo:function(s,o){var u=Or();o=o===void 0?null:o;var d=s();if(wi){se(!0);try{s()}finally{se(!1)}}return u.memoizedState=[d,o],d},useReducer:function(s,o,u){var d=Or();if(u!==void 0){var y=u(o);if(wi){se(!0);try{u(o)}finally{se(!1)}}}else y=o;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=Kd.bind(null,Le,s),[d.memoizedState,s]},useRef:function(s){var o=Or();return s={current:s},o.memoizedState=s},useState:function(s){s=oh(s);var o=s.queue,u=y_.bind(null,Le,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:zd,useDeferredValue:function(s,o){var u=Or();return nu(u,s,o)},useTransition:function(){var s=oh(!1);return s=ch.bind(null,Le,s.queue,!0,!1),Or().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var d=Le,y=Or();if(cr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Hr===null)throw Error(r(349));(er&124)!==0||af(d,o,u)}y.memoizedState=u;var E={value:u,getSnapshot:o};return y.queue=E,Bd(Ku.bind(null,d,E,s),[s]),d.flags|=2048,$o(9,uh(),ah.bind(null,d,E,u,o),null),u},useId:function(){var s=Or(),o=Hr.identifierPrefix;if(cr){var u=Bo,d=Uo;u=(d&~(1<<32-ce(d)-1)).toString(32)+u,o=""+o+"R"+u,u=ui++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=ci++,o=""+o+"r"+u.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:fh,useFormState:lh,useActionState:lh,useOptimistic:function(s){var o=Or();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=f2.bind(null,Le,!0,u),u.dispatch=o,[s,o]},useMemoCache:Hs,useCacheRefresh:function(){return Or().memoizedState=Gd.bind(null,Le)}},w_={readContext:Bi,use:gr,useCallback:Hd,useContext:Bi,useEffect:Zm,useImperativeHandle:Vd,useInsertionEffect:Fd,useLayoutEffect:eu,useMemo:tg,useReducer:wo,useRef:lf,useState:function(){return wo(zi)},useDebugValue:zd,useDeferredValue:function(s,o){var u=tr();return uf(u,pn.memoizedState,s,o)},useTransition:function(){var s=wo(zi)[0],o=tr().memoizedState;return[typeof s=="boolean"?s:gs(s),o]},useSyncExternalStore:sh,useId:$d,useHostTransitionStatus:fh,useFormState:of,useActionState:of,useOptimistic:function(s,o){var u=tr();return Ho(u,pn,s,o)},useMemoCache:Hs,useCacheRefresh:eg},y8={readContext:Bi,use:gr,useCallback:Hd,useContext:Bi,useEffect:Zm,useImperativeHandle:Vd,useInsertionEffect:Fd,useLayoutEffect:eu,useMemo:tg,useReducer:Hi,useRef:lf,useState:function(){return Hi(zi)},useDebugValue:zd,useDeferredValue:function(s,o){var u=tr();return pn===null?nu(u,s,o):uf(u,pn.memoizedState,s,o)},useTransition:function(){var s=Hi(zi)[0],o=tr().memoizedState;return[typeof s=="boolean"?s:gs(s),o]},useSyncExternalStore:sh,useId:$d,useHostTransitionStatus:fh,useFormState:Xm,useActionState:Xm,useOptimistic:function(s,o){var u=tr();return pn!==null?Ho(u,pn,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:eg},cf=null,Yd=0;function ig(s){var o=Yd;return Yd+=1,cf===null&&(cf=[]),jt(cf,s,o)}function Qd(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function sg(s,o){throw o.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function E_(s){var o=s._init;return o(s._payload)}function A_(s){function o(It,Tt){if(s){var Dt=It.deletions;Dt===null?(It.deletions=[Tt],It.flags|=16):Dt.push(Tt)}}function u(It,Tt){if(!s)return null;for(;Tt!==null;)o(It,Tt),Tt=Tt.sibling;return null}function d(It){for(var Tt=new Map;It!==null;)It.key!==null?Tt.set(It.key,It):Tt.set(It.index,It),It=It.sibling;return Tt}function y(It,Tt){return It=go(It,Tt),It.index=0,It.sibling=null,It}function E(It,Tt,Dt){return It.index=Dt,s?(Dt=It.alternate,Dt!==null?(Dt=Dt.index,Dt<Tt?(It.flags|=67108866,Tt):Dt):(It.flags|=67108866,Tt)):(It.flags|=1048576,Tt)}function B(It){return s&&It.alternate===null&&(It.flags|=67108866),It}function et(It,Tt,Dt,Zt){return Tt===null||Tt.tag!==6?(Tt=Jh(Dt,It.mode,Zt),Tt.return=It,Tt):(Tt=y(Tt,Dt),Tt.return=It,Tt)}function bt(It,Tt,Dt,Zt){var Oe=Dt.type;return Oe===N?Yt(It,Tt,Dt.props.children,Zt,Dt.key):Tt!==null&&(Tt.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&E_(Oe)===Tt.type)?(Tt=y(Tt,Dt.props),Qd(Tt,Dt),Tt.return=It,Tt):(Tt=Ql(Dt.type,Dt.key,Dt.props,null,It.mode,Zt),Qd(Tt,Dt),Tt.return=It,Tt)}function qt(It,Tt,Dt,Zt){return Tt===null||Tt.tag!==4||Tt.stateNode.containerInfo!==Dt.containerInfo||Tt.stateNode.implementation!==Dt.implementation?(Tt=th(Dt,It.mode,Zt),Tt.return=It,Tt):(Tt=y(Tt,Dt.children||[]),Tt.return=It,Tt)}function Yt(It,Tt,Dt,Zt,Oe){return Tt===null||Tt.tag!==7?(Tt=jo(Dt,It.mode,Zt,Oe),Tt.return=It,Tt):(Tt=y(Tt,Dt),Tt.return=It,Tt)}function re(It,Tt,Dt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return Tt=Jh(""+Tt,It.mode,Dt),Tt.return=It,Tt;if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case _:return Dt=Ql(Tt.type,Tt.key,Tt.props,null,It.mode,Dt),Qd(Dt,Tt),Dt.return=It,Dt;case v:return Tt=th(Tt,It.mode,Dt),Tt.return=It,Tt;case U:var Zt=Tt._init;return Tt=Zt(Tt._payload),re(It,Tt,Dt)}if(vt(Tt)||O(Tt))return Tt=jo(Tt,It.mode,Dt,null),Tt.return=It,Tt;if(typeof Tt.then=="function")return re(It,ig(Tt),Dt);if(Tt.$$typeof===X)return re(It,Al(It,Tt),Dt);sg(It,Tt)}return null}function Ut(It,Tt,Dt,Zt){var Oe=Tt!==null?Tt.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint")return Oe!==null?null:et(It,Tt,""+Dt,Zt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case _:return Dt.key===Oe?bt(It,Tt,Dt,Zt):null;case v:return Dt.key===Oe?qt(It,Tt,Dt,Zt):null;case U:return Oe=Dt._init,Dt=Oe(Dt._payload),Ut(It,Tt,Dt,Zt)}if(vt(Dt)||O(Dt))return Oe!==null?null:Yt(It,Tt,Dt,Zt,null);if(typeof Dt.then=="function")return Ut(It,Tt,ig(Dt),Zt);if(Dt.$$typeof===X)return Ut(It,Tt,Al(It,Dt),Zt);sg(It,Dt)}return null}function Ft(It,Tt,Dt,Zt,Oe){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number"||typeof Zt=="bigint")return It=It.get(Dt)||null,et(Tt,It,""+Zt,Oe);if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case _:return It=It.get(Zt.key===null?Dt:Zt.key)||null,bt(Tt,It,Zt,Oe);case v:return It=It.get(Zt.key===null?Dt:Zt.key)||null,qt(Tt,It,Zt,Oe);case U:var qn=Zt._init;return Zt=qn(Zt._payload),Ft(It,Tt,Dt,Zt,Oe)}if(vt(Zt)||O(Zt))return It=It.get(Dt)||null,Yt(Tt,It,Zt,Oe,null);if(typeof Zt.then=="function")return Ft(It,Tt,Dt,ig(Zt),Oe);if(Zt.$$typeof===X)return Ft(It,Tt,Dt,Al(Tt,Zt),Oe);sg(Tt,Zt)}return null}function on(It,Tt,Dt,Zt){for(var Oe=null,qn=null,$e=Tt,Je=Tt=0,Cs=null;$e!==null&&Je<Dt.length;Je++){$e.index>Je?(Cs=$e,$e=null):Cs=$e.sibling;var dr=Ut(It,$e,Dt[Je],Zt);if(dr===null){$e===null&&($e=Cs);break}s&&$e&&dr.alternate===null&&o(It,$e),Tt=E(dr,Tt,Je),qn===null?Oe=dr:qn.sibling=dr,qn=dr,$e=Cs}if(Je===Dt.length)return u(It,$e),cr&&Zl(It,Je),Oe;if($e===null){for(;Je<Dt.length;Je++)$e=re(It,Dt[Je],Zt),$e!==null&&(Tt=E($e,Tt,Je),qn===null?Oe=$e:qn.sibling=$e,qn=$e);return cr&&Zl(It,Je),Oe}for($e=d($e);Je<Dt.length;Je++)Cs=Ft($e,It,Je,Dt[Je],Zt),Cs!==null&&(s&&Cs.alternate!==null&&$e.delete(Cs.key===null?Je:Cs.key),Tt=E(Cs,Tt,Je),qn===null?Oe=Cs:qn.sibling=Cs,qn=Cs);return s&&$e.forEach(function(fc){return o(It,fc)}),cr&&Zl(It,Je),Oe}function Ze(It,Tt,Dt,Zt){if(Dt==null)throw Error(r(151));for(var Oe=null,qn=null,$e=Tt,Je=Tt=0,Cs=null,dr=Dt.next();$e!==null&&!dr.done;Je++,dr=Dt.next()){$e.index>Je?(Cs=$e,$e=null):Cs=$e.sibling;var fc=Ut(It,$e,dr.value,Zt);if(fc===null){$e===null&&($e=Cs);break}s&&$e&&fc.alternate===null&&o(It,$e),Tt=E(fc,Tt,Je),qn===null?Oe=fc:qn.sibling=fc,qn=fc,$e=Cs}if(dr.done)return u(It,$e),cr&&Zl(It,Je),Oe;if($e===null){for(;!dr.done;Je++,dr=Dt.next())dr=re(It,dr.value,Zt),dr!==null&&(Tt=E(dr,Tt,Je),qn===null?Oe=dr:qn.sibling=dr,qn=dr);return cr&&Zl(It,Je),Oe}for($e=d($e);!dr.done;Je++,dr=Dt.next())dr=Ft($e,It,Je,dr.value,Zt),dr!==null&&(s&&dr.alternate!==null&&$e.delete(dr.key===null?Je:dr.key),Tt=E(dr,Tt,Je),qn===null?Oe=dr:qn.sibling=dr,qn=dr);return s&&$e.forEach(function(vR){return o(It,vR)}),cr&&Zl(It,Je),Oe}function Dr(It,Tt,Dt,Zt){if(typeof Dt=="object"&&Dt!==null&&Dt.type===N&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case _:t:{for(var Oe=Dt.key;Tt!==null;){if(Tt.key===Oe){if(Oe=Dt.type,Oe===N){if(Tt.tag===7){u(It,Tt.sibling),Zt=y(Tt,Dt.props.children),Zt.return=It,It=Zt;break t}}else if(Tt.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===U&&E_(Oe)===Tt.type){u(It,Tt.sibling),Zt=y(Tt,Dt.props),Qd(Zt,Dt),Zt.return=It,It=Zt;break t}u(It,Tt);break}else o(It,Tt);Tt=Tt.sibling}Dt.type===N?(Zt=jo(Dt.props.children,It.mode,Zt,Dt.key),Zt.return=It,It=Zt):(Zt=Ql(Dt.type,Dt.key,Dt.props,null,It.mode,Zt),Qd(Zt,Dt),Zt.return=It,It=Zt)}return B(It);case v:t:{for(Oe=Dt.key;Tt!==null;){if(Tt.key===Oe)if(Tt.tag===4&&Tt.stateNode.containerInfo===Dt.containerInfo&&Tt.stateNode.implementation===Dt.implementation){u(It,Tt.sibling),Zt=y(Tt,Dt.children||[]),Zt.return=It,It=Zt;break t}else{u(It,Tt);break}else o(It,Tt);Tt=Tt.sibling}Zt=th(Dt,It.mode,Zt),Zt.return=It,It=Zt}return B(It);case U:return Oe=Dt._init,Dt=Oe(Dt._payload),Dr(It,Tt,Dt,Zt)}if(vt(Dt))return on(It,Tt,Dt,Zt);if(O(Dt)){if(Oe=O(Dt),typeof Oe!="function")throw Error(r(150));return Dt=Oe.call(Dt),Ze(It,Tt,Dt,Zt)}if(typeof Dt.then=="function")return Dr(It,Tt,ig(Dt),Zt);if(Dt.$$typeof===X)return Dr(It,Tt,Al(It,Dt),Zt);sg(It,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"||typeof Dt=="bigint"?(Dt=""+Dt,Tt!==null&&Tt.tag===6?(u(It,Tt.sibling),Zt=y(Tt,Dt),Zt.return=It,It=Zt):(u(It,Tt),Zt=Jh(Dt,It.mode,Zt),Zt.return=It,It=Zt),B(It)):u(It,Tt)}return function(It,Tt,Dt,Zt){try{Yd=0;var Oe=Dr(It,Tt,Dt,Zt);return cf=null,Oe}catch($e){if($e===$||$e===rt)throw $e;var qn=xs(29,$e,null,It.mode);return qn.lanes=Zt,qn.return=It,qn}finally{}}}var hf=A_(!0),x_=A_(!1),Ao=gt(null),xl=null;function Xu(s){var o=s.alternate;z(ys,ys.current&1),z(Ao,s),xl===null&&(o===null||an.current!==null||o.memoizedState!==null)&&(xl=s)}function S_(s){if(s.tag===22){if(z(ys,ys.current),z(Ao,s),xl===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(xl=s)}}else Zu()}function Zu(){z(ys,ys.current),z(Ao,Ao.current)}function ru(s){q(Ao),xl===s&&(xl=null),q(ys)}var ys=gt(0);function ag(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ny(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function d2(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var p2={enqueueSetState:function(s,o,u){s=s._reactInternals;var d=Za(),y=Kt(d);y.payload=o,u!=null&&(y.callback=u),o=ae(s,y,d),o!==null&&(Ja(o,s,d),ne(o,s,d))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=Za(),y=Kt(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ae(s,y,d),o!==null&&(Ja(o,s,d),ne(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Za(),d=Kt(u);d.tag=2,o!=null&&(d.callback=o),o=ae(s,d,u),o!==null&&(Ja(o,s,u),ne(o,s,u))}};function T_(s,o,u,d,y,E,B){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,E,B):o.prototype&&o.prototype.isPureReactComponent?!ho(u,d)||!ho(y,E):!0}function N_(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&p2.enqueueReplaceState(o,o.state,null)}function dh(s,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(s=s.defaultProps){u===o&&(u=p({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var og=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function C_(s){og(s)}function R_(s){console.error(s)}function L_(s){og(s)}function lg(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function I_(s,o,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function m2(s,o,u){return u=Kt(u),u.tag=3,u.payload={element:null},u.callback=function(){lg(s,o)},u}function O_(s){return s=Kt(s),s.tag=3,s}function k_(s,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var E=d.value;s.payload=function(){return y(E)},s.callback=function(){I_(o,u,d)}}var B=u.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(s.callback=function(){I_(o,u,d),typeof y!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var et=d.stack;this.componentDidCatch(d.value,{componentStack:et!==null?et:""})})}function v8(s,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Gu(o,u,y,!0),u=Ao.current,u!==null){switch(u.tag){case 13:return xl===null?U2():u.alternate===null&&Ii===0&&(Ii=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===ot?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),F2(s,d,y)),!1;case 22:return u.flags|=65536,d===ot?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),F2(s,d,y)),!1}throw Error(r(435,u.tag))}return F2(s,d,y),U2(),!1}if(cr)return o=Ao.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Dd&&(s=Error(r(422),{cause:d}),$u(va(s,u)))):(d!==Dd&&(o=Error(r(423),{cause:d}),$u(va(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=va(d,u),y=m2(s.stateNode,d,y),je(s,y),Ii!==4&&(Ii=2)),!1;var E=Error(r(520),{cause:d});if(E=va(E,u),rp===null?rp=[E]:rp.push(E),Ii!==4&&(Ii=2),o===null)return!0;d=va(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=m2(u.stateNode,d,s),je(u,s),!1;case 1:if(o=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ic===null||!ic.has(E))))return u.flags|=65536,y&=-y,u.lanes|=y,y=O_(y),k_(y,s,u,d),je(u,y),!1}u=u.return}while(u!==null);return!1}var D_=Error(r(461)),Ts=!1;function $s(s,o,u,d){o.child=s===null?x_(o,null,u,d):hf(o,s.child,u,d)}function P_(s,o,u,d,y){u=u.render;var E=o.ref;if("ref"in d){var B={};for(var et in d)et!=="ref"&&(B[et]=d[et])}else B=d;return _o(o),d=Ea(s,o,u,B,E,y),et=Ei(),s!==null&&!Ts?(zs(s,o,y),iu(s,o,y)):(cr&&et&&eh(o),o.flags|=1,$s(s,o,d,y),o.child)}function M_(s,o,u,d,y){if(s===null){var E=u.type;return typeof E=="function"&&!zu(E)&&E.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=E,j_(s,o,E,d,y)):(s=Ql(u.type,null,d,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(E=s.child,!A2(s,y)){var B=E.memoizedProps;if(u=u.compare,u=u!==null?u:ho,u(B,d)&&s.ref===o.ref)return iu(s,o,y)}return o.flags|=1,s=go(E,d),s.ref=o.ref,s.return=o,o.child=s}function j_(s,o,u,d,y){if(s!==null){var E=s.memoizedProps;if(ho(E,d)&&s.ref===o.ref)if(Ts=!1,o.pendingProps=d=E,A2(s,y))(s.flags&131072)!==0&&(Ts=!0);else return o.lanes=s.lanes,iu(s,o,y)}return g2(s,o,u,d,y)}function q_(s,o,u){var d=o.pendingProps,y=d.children,E=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=E!==null?E.baseLanes|u:u,s!==null){for(y=o.child=s.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;o.childLanes=E&~d}else o.childLanes=0,o.child=null;return U_(s,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&D(o,E!==null?E.cachePool:null),E!==null?fe(o,E):Zr(),S_(o);else return o.lanes=o.childLanes=536870912,U_(s,o,E!==null?E.baseLanes|u:u,u)}else E!==null?(D(o,E.cachePool),fe(o,E),Zu(),o.memoizedState=null):(s!==null&&D(o,null),Zr(),Zu());return $s(s,o,y,u),o.child}function U_(s,o,u,d){var y=T();return y=y===null?null:{parent:Fi._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&D(o,null),Zr(),S_(o),s!==null&&Gu(s,o,d,!0),null}function ug(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function g2(s,o,u,d,y){return _o(o),u=Ea(s,o,u,d,void 0,y),d=Ei(),s!==null&&!Ts?(zs(s,o,y),iu(s,o,y)):(cr&&d&&eh(o),o.flags|=1,$s(s,o,u,y),o.child)}function B_(s,o,u,d,y,E){return _o(o),o.updateQueue=null,u=Vs(o,d,u,y),hi(s),d=Ei(),s!==null&&!Ts?(zs(s,o,E),iu(s,o,E)):(cr&&d&&eh(o),o.flags|=1,$s(s,o,u,E),o.child)}function F_(s,o,u,d,y){if(_o(o),o.stateNode===null){var E=is,B=u.contextType;typeof B=="object"&&B!==null&&(E=Bi(B)),E=new u(d,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=p2,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=d,E.state=o.memoizedState,E.refs={},Pt(o),B=u.contextType,E.context=typeof B=="object"&&B!==null?Bi(B):is,E.state=o.memoizedState,B=u.getDerivedStateFromProps,typeof B=="function"&&(d2(o,u,B,d),E.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(B=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),B!==E.state&&p2.enqueueReplaceState(E,E.state,null),Te(o,d,E,y),un(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){E=o.stateNode;var et=o.memoizedProps,bt=dh(u,et);E.props=bt;var qt=E.context,Yt=u.contextType;B=is,typeof Yt=="object"&&Yt!==null&&(B=Bi(Yt));var re=u.getDerivedStateFromProps;Yt=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function",et=o.pendingProps!==et,Yt||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(et||qt!==B)&&N_(o,E,d,B),$t=!1;var Ut=o.memoizedState;E.state=Ut,Te(o,d,E,y),un(),qt=o.memoizedState,et||Ut!==qt||$t?(typeof re=="function"&&(d2(o,u,re,d),qt=o.memoizedState),(bt=$t||T_(o,u,bt,d,Ut,qt,B))?(Yt||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=qt),E.props=d,E.state=qt,E.context=B,d=bt):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,Wt(s,o),B=o.memoizedProps,Yt=dh(u,B),E.props=Yt,re=o.pendingProps,Ut=E.context,qt=u.contextType,bt=is,typeof qt=="object"&&qt!==null&&(bt=Bi(qt)),et=u.getDerivedStateFromProps,(qt=typeof et=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B!==re||Ut!==bt)&&N_(o,E,d,bt),$t=!1,Ut=o.memoizedState,E.state=Ut,Te(o,d,E,y),un();var Ft=o.memoizedState;B!==re||Ut!==Ft||$t||s!==null&&s.dependencies!==null&&rf(s.dependencies)?(typeof et=="function"&&(d2(o,u,et,d),Ft=o.memoizedState),(Yt=$t||T_(o,u,Yt,d,Ut,Ft,bt)||s!==null&&s.dependencies!==null&&rf(s.dependencies))?(qt||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Ft,bt),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Ft,bt)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||B===s.memoizedProps&&Ut===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&Ut===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ft),E.props=d,E.state=Ft,E.context=bt,d=Yt):(typeof E.componentDidUpdate!="function"||B===s.memoizedProps&&Ut===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&Ut===s.memoizedState||(o.flags|=1024),d=!1)}return E=d,ug(s,o),d=(o.flags&128)!==0,E||d?(E=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,s!==null&&d?(o.child=hf(o,s.child,null,y),o.child=hf(o,null,u,y)):$s(s,o,u,y),o.memoizedState=E.state,s=o.child):s=iu(s,o,y),s}function V_(s,o,u,d){return wa(),o.flags|=256,$s(s,o,u,d),o.child}var y2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v2(s){return{baseLanes:s,cachePool:V()}}function b2(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=xo),s}function z_(s,o,u){var d=o.pendingProps,y=!1,E=(o.flags&128)!==0,B;if((B=E)||(B=s!==null&&s.memoizedState===null?!1:(ys.current&2)!==0),B&&(y=!0,o.flags&=-129),B=(o.flags&32)!==0,o.flags&=-33,s===null){if(cr){if(y?Xu(o):Zu(),cr){var et=li,bt;if(bt=et){t:{for(bt=et,et=yo;bt.nodeType!==8;){if(!et){et=null;break t}if(bt=Yo(bt.nextSibling),bt===null){et=null;break t}}et=bt}et!==null?(o.memoizedState={dehydrated:et,treeContext:Xl!==null?{id:Uo,overflow:Bo}:null,retryLane:536870912,hydrationErrors:null},bt=xs(18,null,null,0),bt.stateNode=et,bt.return=o,o.child=bt,Ui=o,li=null,bt=!0):bt=!1}bt||Jl(o)}if(et=o.memoizedState,et!==null&&(et=et.dehydrated,et!==null))return ny(et)?o.lanes=32:o.lanes=536870912,null;ru(o)}return et=d.children,d=d.fallback,y?(Zu(),y=o.mode,et=cg({mode:"hidden",children:et},y),d=jo(d,y,u,null),et.return=o,d.return=o,et.sibling=d,o.child=et,y=o.child,y.memoizedState=v2(u),y.childLanes=b2(s,B,u),o.memoizedState=y2,d):(Xu(o),_2(o,et))}if(bt=s.memoizedState,bt!==null&&(et=bt.dehydrated,et!==null)){if(E)o.flags&256?(Xu(o),o.flags&=-257,o=w2(s,o,u)):o.memoizedState!==null?(Zu(),o.child=s.child,o.flags|=128,o=null):(Zu(),y=d.fallback,et=o.mode,d=cg({mode:"visible",children:d.children},et),y=jo(y,et,u,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,hf(o,s.child,null,u),d=o.child,d.memoizedState=v2(u),d.childLanes=b2(s,B,u),o.memoizedState=y2,o=y);else if(Xu(o),ny(et)){if(B=et.nextSibling&&et.nextSibling.dataset,B)var qt=B.dgst;B=qt,d=Error(r(419)),d.stack="",d.digest=B,$u({value:d,source:null,stack:null}),o=w2(s,o,u)}else if(Ts||Gu(s,o,u,!1),B=(u&s.childLanes)!==0,Ts||B){if(B=Hr,B!==null&&(d=u&-u,d=(d&42)!==0?1:pr(d),d=(d&(B.suspendedLanes|u))!==0?0:d,d!==0&&d!==bt.retryLane))throw bt.retryLane=d,Wl(s,d),Ja(B,s,d),D_;et.data==="$?"||U2(),o=w2(s,o,u)}else et.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=bt.treeContext,li=Yo(et.nextSibling),Ui=o,cr=!0,wl=null,yo=!1,s!==null&&(Pa[_a++]=Uo,Pa[_a++]=Bo,Pa[_a++]=Xl,Uo=s.id,Bo=s.overflow,Xl=o),o=_2(o,d.children),o.flags|=4096);return o}return y?(Zu(),y=d.fallback,et=o.mode,bt=s.child,qt=bt.sibling,d=go(bt,{mode:"hidden",children:d.children}),d.subtreeFlags=bt.subtreeFlags&65011712,qt!==null?y=go(qt,y):(y=jo(y,et,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,et=s.child.memoizedState,et===null?et=v2(u):(bt=et.cachePool,bt!==null?(qt=Fi._currentValue,bt=bt.parent!==qt?{parent:qt,pool:qt}:bt):bt=V(),et={baseLanes:et.baseLanes|u,cachePool:bt}),y.memoizedState=et,y.childLanes=b2(s,B,u),o.memoizedState=y2,d):(Xu(o),u=s.child,s=u.sibling,u=go(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,s!==null&&(B=o.deletions,B===null?(o.deletions=[s],o.flags|=16):B.push(s)),o.child=u,o.memoizedState=null,u)}function _2(s,o){return o=cg({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function cg(s,o){return s=xs(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function w2(s,o,u){return hf(o,s.child,null,u),s=_2(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function H_(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),ef(s.return,o,u)}function E2(s,o,u,d,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=u,E.tailMode=y)}function $_(s,o,u){var d=o.pendingProps,y=d.revealOrder,E=d.tail;if($s(s,o,d.children,u),d=ys.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&H_(s,u,o);else if(s.tag===19)H_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(z(ys,d),y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&ag(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),E2(o,!1,y,u,E);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&ag(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}E2(o,!0,u,null,E);break;case"together":E2(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function iu(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),rc|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Gu(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=go(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=go(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function A2(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&rf(s)))}function b8(s,o,u){switch(o.tag){case 3:St(o,o.stateNode.containerInfo),El(o,Fi,s.memoizedState.cache),wa();break;case 27:case 5:Mt(o);break;case 4:St(o,o.stateNode.containerInfo);break;case 10:El(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Xu(o),o.flags|=128,null):(u&o.child.childLanes)!==0?z_(s,o,u):(Xu(o),s=iu(s,o,u),s!==null?s.sibling:null);Xu(o);break;case 19:var y=(s.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Gu(s,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return $_(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),z(ys,ys.current),d)break;return null;case 22:case 23:return o.lanes=0,q_(s,o,u);case 24:El(o,Fi,s.memoizedState.cache)}return iu(s,o,u)}function G_(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ts=!0;else{if(!A2(s,u)&&(o.flags&128)===0)return Ts=!1,b8(s,o,u);Ts=(s.flags&131072)!==0}else Ts=!1,cr&&(o.flags&1048576)!==0&&Bm(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")zu(d)?(s=dh(d,s),o.tag=1,o=F_(null,o,d,s,u)):(o.tag=0,o=g2(null,o,d,s,u));else{if(d!=null){if(y=d.$$typeof,y===Z){o.tag=11,o=P_(null,o,d,s,u);break t}else if(y===K){o.tag=14,o=M_(null,o,d,s,u);break t}}throw o=at(d)||d,Error(r(306,o,""))}}return o;case 0:return g2(s,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=dh(d,o.pendingProps),F_(s,o,d,y,u);case 3:t:{if(St(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var E=o.memoizedState;y=E.element,Wt(s,o),Te(o,d,null,u);var B=o.memoizedState;if(d=B.cache,El(o,Fi,d),d!==E.cache&&nf(o,[Fi],u,!0),un(),d=B.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:B.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=V_(s,o,d,u);break t}else if(d!==y){y=va(Error(r(424)),o),$u(y),o=V_(s,o,d,u);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(li=Yo(s.firstChild),Ui=o,cr=!0,wl=null,yo=!0,u=x_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(wa(),d===y){o=iu(s,o,u);break t}$s(s,o,d,u)}o=o.child}return o;case 26:return ug(s,o),s===null?(u=Qw(o.type,null,o.pendingProps,null))?o.memoizedState=u:cr||(u=o.type,s=o.pendingProps,d=xg(mt.current).createElement(u),d[ir]=o,d[Un]=s,Ks(d,u,s),ar(d),o.stateNode=d):o.memoizedState=Qw(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Mt(o),s===null&&cr&&(d=o.stateNode=Kw(o.type,o.pendingProps,mt.current),Ui=o,yo=!0,y=li,oc(o.type)?(ry=y,li=Yo(d.firstChild)):li=y),$s(s,o,o.pendingProps.children,u),ug(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&cr&&((y=d=li)&&(d=K8(d,o.type,o.pendingProps,yo),d!==null?(o.stateNode=d,Ui=o,li=Yo(d.firstChild),yo=!1,y=!0):y=!1),y||Jl(o)),Mt(o),y=o.type,E=o.pendingProps,B=s!==null?s.memoizedProps:null,d=E.children,J2(y,E)?d=null:B!==null&&J2(y,B)&&(o.flags|=32),o.memoizedState!==null&&(y=Ea(s,o,Ar,null,null,u),fp._currentValue=y),ug(s,o),$s(s,o,d,u),o.child;case 6:return s===null&&cr&&((s=u=li)&&(u=W8(u,o.pendingProps,yo),u!==null?(o.stateNode=u,Ui=o,li=null,s=!0):s=!1),s||Jl(o)),null;case 13:return z_(s,o,u);case 4:return St(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=hf(o,null,d,u):$s(s,o,d,u),o.child;case 11:return P_(s,o,o.type,o.pendingProps,u);case 7:return $s(s,o,o.pendingProps,u),o.child;case 8:return $s(s,o,o.pendingProps.children,u),o.child;case 12:return $s(s,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,El(o,o.type,d.value),$s(s,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,_o(o),y=Bi(y),d=d(y),o.flags|=1,$s(s,o,d,u),o.child;case 14:return M_(s,o,o.type,o.pendingProps,u);case 15:return j_(s,o,o.type,o.pendingProps,u);case 19:return $_(s,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},s===null?(u=cg(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=go(s.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return q_(s,o,u);case 24:return _o(o),d=Bi(Fi),s===null?(y=T(),y===null&&(y=Hr,E=Pd(),y.pooledCache=E,E.refCount++,E!==null&&(y.pooledCacheLanes|=u),y=E),o.memoizedState={parent:d,cache:y},Pt(o),El(o,Fi,y)):((s.lanes&u)!==0&&(Wt(s,o),Te(o,null,null,u),un()),y=s.memoizedState,E=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),El(o,Fi,d)):(d=E.cache,El(o,Fi,d),d!==y.cache&&nf(o,[Fi],u,!0))),$s(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function su(s){s.flags|=4}function K_(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e4(o)){if(o=Ao.current,o!==null&&((er&4194048)===er?xl!==null:(er&62914560)!==er&&(er&536870912)===0||o!==xl))throw ft=ot,J;s.flags|=8192}}function hg(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Jn():536870912,s.lanes|=o,mf|=o)}function Xd(s,o){if(!cr)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ai(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function _8(s,o,u){var d=o.pendingProps;switch(nh(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(o),null;case 1:return Ai(o),null;case 3:return u=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),bo(Fi),Rt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Fs(o)?su(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vm())),Ai(o),null;case 26:return u=o.memoizedState,s===null?(su(o),u!==null?(Ai(o),K_(o,u)):(Ai(o),o.flags&=-16777217)):u?u!==s.memoizedState?(su(o),Ai(o),K_(o,u)):(Ai(o),o.flags&=-16777217):(s.memoizedProps!==d&&su(o),Ai(o),o.flags&=-16777217),null;case 27:zt(o),u=mt.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&su(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ai(o),null}s=nt.current,Fs(o)?Fm(o):(s=Kw(y,d,u),o.stateNode=s,su(o))}return Ai(o),null;case 5:if(zt(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&su(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Ai(o),null}if(s=nt.current,Fs(o))Fm(o);else{switch(y=xg(mt.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?y.createElement(u,{is:d.is}):y.createElement(u)}}s[ir]=o,s[Un]=d;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;t:switch(Ks(s,u,d),u){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&su(o)}}return Ai(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&su(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=mt.current,Fs(o)){if(s=o.stateNode,u=o.memoizedProps,d=null,y=Ui,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[ir]=o,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Bw(s.nodeValue,u)),s||Jl(o)}else s=xg(s).createTextNode(d),s[ir]=o,o.stateNode=s}return Ai(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Fs(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ir]=o}else wa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ai(o),y=!1}else y=Vm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ru(o),o):(ru(o),null)}if(ru(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,s=s!==null&&s.memoizedState!==null,u){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var E=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==y&&(d.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),hg(o,o.updateQueue),Ai(o),null;case 4:return Rt(),s===null&&W2(o.stateNode.containerInfo),Ai(o),null;case 10:return bo(o.type),Ai(o),null;case 19:if(q(ys),y=o.memoizedState,y===null)return Ai(o),null;if(d=(o.flags&128)!==0,E=y.rendering,E===null)if(d)Xd(y,!1);else{if(Ii!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=ag(s),E!==null){for(o.flags|=128,Xd(y,!1),s=E.updateQueue,o.updateQueue=s,hg(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Jc(u,s),u=u.sibling;return z(ys,ys.current&1|2),o.child}s=s.sibling}y.tail!==null&&he()>pg&&(o.flags|=128,d=!0,Xd(y,!1),o.lanes=4194304)}else{if(!d)if(s=ag(E),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,hg(o,s),Xd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!cr)return Ai(o),null}else 2*he()-y.renderingStartTime>pg&&u!==536870912&&(o.flags|=128,d=!0,Xd(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(s=y.last,s!==null?s.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=he(),o.sibling=null,s=ys.current,z(ys,d?s&1|2:s&1),o):(Ai(o),null);case 22:case 23:return ru(o),cn(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Ai(o),o.subtreeFlags&6&&(o.flags|=8192)):Ai(o),u=o.updateQueue,u!==null&&hg(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),s!==null&&q(b),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),bo(Fi),Ai(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function w8(s,o){switch(nh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bo(Fi),Rt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return zt(o),null;case 13:if(ru(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));wa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return q(ys),null;case 4:return Rt(),null;case 10:return bo(o.type),null;case 22:case 23:return ru(o),cn(),s!==null&&q(b),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return bo(Fi),null;case 25:return null;default:return null}}function W_(s,o){switch(nh(o),o.tag){case 3:bo(Fi),Rt();break;case 26:case 27:case 5:zt(o);break;case 4:Rt();break;case 13:ru(o);break;case 19:q(ys);break;case 10:bo(o.type);break;case 22:case 23:ru(o),cn(),s!==null&&q(b);break;case 24:bo(Fi)}}function Zd(s,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&s)===s){d=void 0;var E=u.create,B=u.inst;d=E(),B.destroy=d}u=u.next}while(u!==y)}}catch(et){Ur(o,o.return,et)}}function Ju(s,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var E=y.next;d=E;do{if((d.tag&s)===s){var B=d.inst,et=B.destroy;if(et!==void 0){B.destroy=void 0,y=o;var bt=u,qt=et;try{qt()}catch(Yt){Ur(y,bt,Yt)}}}d=d.next}while(d!==E)}}catch(Yt){Ur(o,o.return,Yt)}}function Y_(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Li(o,u)}catch(d){Ur(s,s.return,d)}}}function Q_(s,o,u){u.props=dh(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){Ur(s,o,d)}}function Jd(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(y){Ur(s,o,y)}}function Sl(s,o){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Ur(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ur(s,o,y)}else u.current=null}function X_(s){var o=s.type,u=s.memoizedProps,d=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Ur(s,s.return,y)}}function x2(s,o,u){try{var d=s.stateNode;V8(d,s.type,u,o),d[Un]=o}catch(y){Ur(s,s.return,y)}}function Z_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&oc(s.type)||s.tag===4}function S2(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Z_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&oc(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function T2(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ag));else if(d!==4&&(d===27&&oc(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(T2(s,o,u),s=s.sibling;s!==null;)T2(s,o,u),s=s.sibling}function fg(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(d===27&&oc(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(fg(s,o,u),s=s.sibling;s!==null;)fg(s,o,u),s=s.sibling}function J_(s){var o=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Ks(o,d,u),o[ir]=s,o[Un]=u}catch(E){Ur(s,s.return,E)}}var au=!1,$i=!1,N2=!1,tw=typeof WeakSet=="function"?WeakSet:Set,Ns=null;function E8(s,o){if(s=s.containerInfo,X2=Lg,s=Fu(s),Us(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break t}var B=0,et=-1,bt=-1,qt=0,Yt=0,re=s,Ut=null;e:for(;;){for(var Ft;re!==u||y!==0&&re.nodeType!==3||(et=B+y),re!==E||d!==0&&re.nodeType!==3||(bt=B+d),re.nodeType===3&&(B+=re.nodeValue.length),(Ft=re.firstChild)!==null;)Ut=re,re=Ft;for(;;){if(re===s)break e;if(Ut===u&&++qt===y&&(et=B),Ut===E&&++Yt===d&&(bt=B),(Ft=re.nextSibling)!==null)break;re=Ut,Ut=re.parentNode}re=Ft}u=et===-1||bt===-1?null:{start:et,end:bt}}else u=null}u=u||{start:0,end:0}}else u=null;for(Z2={focusedElem:s,selectionRange:u},Lg=!1,Ns=o;Ns!==null;)if(o=Ns,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Ns=s;else for(;Ns!==null;){switch(o=Ns,E=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,u=o,y=E.memoizedProps,E=E.memoizedState,d=u.stateNode;try{var on=dh(u.type,y,u.elementType===u.type);s=d.getSnapshotBeforeUpdate(on,E),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Ur(u,u.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)ey(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ey(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Ns=s;break}Ns=o.return}}function ew(s,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:tc(s,u),d&4&&Zd(5,u);break;case 1:if(tc(s,u),d&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(B){Ur(u,u.return,B)}else{var y=dh(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(B){Ur(u,u.return,B)}}d&64&&Y_(u),d&512&&Jd(u,u.return);break;case 3:if(tc(s,u),d&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Li(s,o)}catch(B){Ur(u,u.return,B)}}break;case 27:o===null&&d&4&&J_(u);case 26:case 5:tc(s,u),o===null&&d&4&&X_(u),d&512&&Jd(u,u.return);break;case 12:tc(s,u);break;case 13:tc(s,u),d&4&&iw(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=I8.bind(null,u),Y8(s,u))));break;case 22:if(d=u.memoizedState!==null||au,!d){o=o!==null&&o.memoizedState!==null||$i,y=au;var E=$i;au=d,($i=o)&&!E?ec(s,u,(u.subtreeFlags&8772)!==0):tc(s,u),au=y,$i=E}break;case 30:break;default:tc(s,u)}}function nw(s){var o=s.alternate;o!==null&&(s.alternate=null,nw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ri(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fi=null,Ma=!1;function ou(s,o,u){for(u=u.child;u!==null;)rw(s,o,u),u=u.sibling}function rw(s,o,u){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(oe,u)}catch{}switch(u.tag){case 26:$i||Sl(u,o),ou(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$i||Sl(u,o);var d=fi,y=Ma;oc(u.type)&&(fi=u.stateNode,Ma=!1),ou(s,o,u),lp(u.stateNode),fi=d,Ma=y;break;case 5:$i||Sl(u,o);case 6:if(d=fi,y=Ma,fi=null,ou(s,o,u),fi=d,Ma=y,fi!==null)if(Ma)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(u.stateNode)}catch(E){Ur(u,o,E)}else try{fi.removeChild(u.stateNode)}catch(E){Ur(u,o,E)}break;case 18:fi!==null&&(Ma?(s=fi,$w(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),gp(s)):$w(fi,u.stateNode));break;case 4:d=fi,y=Ma,fi=u.stateNode.containerInfo,Ma=!0,ou(s,o,u),fi=d,Ma=y;break;case 0:case 11:case 14:case 15:$i||Ju(2,u,o),$i||Ju(4,u,o),ou(s,o,u);break;case 1:$i||(Sl(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Q_(u,o,d)),ou(s,o,u);break;case 21:ou(s,o,u);break;case 22:$i=(d=$i)||u.memoizedState!==null,ou(s,o,u),$i=d;break;default:ou(s,o,u)}}function iw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gp(s)}catch(u){Ur(o,o.return,u)}}function A8(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new tw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new tw),o;default:throw Error(r(435,s.tag))}}function C2(s,o){var u=A8(s);o.forEach(function(d){var y=O8.bind(null,s,d);u.has(d)||(u.add(d),d.then(y,y))})}function Ya(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],E=s,B=o,et=B;t:for(;et!==null;){switch(et.tag){case 27:if(oc(et.type)){fi=et.stateNode,Ma=!1;break t}break;case 5:fi=et.stateNode,Ma=!1;break t;case 3:case 4:fi=et.stateNode.containerInfo,Ma=!0;break t}et=et.return}if(fi===null)throw Error(r(160));rw(E,B,y),fi=null,Ma=!1,E=y.alternate,E!==null&&(E.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)sw(o,s),o=o.sibling}var Wo=null;function sw(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ya(o,s),Qa(s),d&4&&(Ju(3,s,s.return),Zd(3,s),Ju(5,s,s.return));break;case 1:Ya(o,s),Qa(s),d&512&&($i||u===null||Sl(u,u.return)),d&64&&au&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Wo;if(Ya(o,s),Qa(s),d&512&&($i||u===null||Sl(u,u.return)),d&4){var E=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){t:{d=s.type,u=s.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":E=y.getElementsByTagName("title")[0],(!E||E[Qi]||E[ir]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=y.createElement(d),y.head.insertBefore(E,y.querySelector("head > title"))),Ks(E,d,u),E[ir]=s,ar(E),d=E;break t;case"link":var B=Jw("link","href",y).get(d+(u.href||""));if(B){for(var et=0;et<B.length;et++)if(E=B[et],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){B.splice(et,1);break e}}E=y.createElement(d),Ks(E,d,u),y.head.appendChild(E);break;case"meta":if(B=Jw("meta","content",y).get(d+(u.content||""))){for(et=0;et<B.length;et++)if(E=B[et],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){B.splice(et,1);break e}}E=y.createElement(d),Ks(E,d,u),y.head.appendChild(E);break;default:throw Error(r(468,d))}E[ir]=s,ar(E),d=E}s.stateNode=d}else t4(y,s.type,s.stateNode);else s.stateNode=Zw(y,d,s.memoizedProps);else E!==d?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,d===null?t4(y,s.type,s.stateNode):Zw(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&x2(s,s.memoizedProps,u.memoizedProps)}break;case 27:Ya(o,s),Qa(s),d&512&&($i||u===null||Sl(u,u.return)),u!==null&&d&4&&x2(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Ya(o,s),Qa(s),d&512&&($i||u===null||Sl(u,u.return)),s.flags&32){y=s.stateNode;try{Er(y,"")}catch(Ft){Ur(s,s.return,Ft)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,x2(s,y,u!==null?u.memoizedProps:y)),d&1024&&(N2=!0);break;case 6:if(Ya(o,s),Qa(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(Ft){Ur(s,s.return,Ft)}}break;case 3:if(Ng=null,y=Wo,Wo=Sg(o.containerInfo),Ya(o,s),Wo=y,Qa(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{gp(o.containerInfo)}catch(Ft){Ur(s,s.return,Ft)}N2&&(N2=!1,aw(s));break;case 4:d=Wo,Wo=Sg(s.stateNode.containerInfo),Ya(o,s),Qa(s),Wo=d;break;case 12:Ya(o,s),Qa(s);break;case 13:Ya(o,s),Qa(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(D2=he()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,C2(s,d)));break;case 22:y=s.memoizedState!==null;var bt=u!==null&&u.memoizedState!==null,qt=au,Yt=$i;if(au=qt||y,$i=Yt||bt,Ya(o,s),$i=Yt,au=qt,Qa(s),d&8192)t:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||bt||au||$i||ph(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){bt=u=o;try{if(E=bt.stateNode,y)B=E.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{et=bt.stateNode;var re=bt.memoizedProps.style,Ut=re!=null&&re.hasOwnProperty("display")?re.display:null;et.style.display=Ut==null||typeof Ut=="boolean"?"":(""+Ut).trim()}}catch(Ft){Ur(bt,bt.return,Ft)}}}else if(o.tag===6){if(u===null){bt=o;try{bt.stateNode.nodeValue=y?"":bt.memoizedProps}catch(Ft){Ur(bt,bt.return,Ft)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,C2(s,u))));break;case 19:Ya(o,s),Qa(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,C2(s,d)));break;case 30:break;case 21:break;default:Ya(o,s),Qa(s)}}function Qa(s){var o=s.flags;if(o&2){try{for(var u,d=s.return;d!==null;){if(Z_(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,E=S2(s);fg(s,E,y);break;case 5:var B=u.stateNode;u.flags&32&&(Er(B,""),u.flags&=-33);var et=S2(s);fg(s,et,B);break;case 3:case 4:var bt=u.stateNode.containerInfo,qt=S2(s);T2(s,qt,bt);break;default:throw Error(r(161))}}catch(Yt){Ur(s,s.return,Yt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function aw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;aw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function tc(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ew(s,o.alternate,o),o=o.sibling}function ph(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ju(4,o,o.return),ph(o);break;case 1:Sl(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Q_(o,o.return,u),ph(o);break;case 27:lp(o.stateNode);case 26:case 5:Sl(o,o.return),ph(o);break;case 22:o.memoizedState===null&&ph(o);break;case 30:ph(o);break;default:ph(o)}s=s.sibling}}function ec(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=s,E=o,B=E.flags;switch(E.tag){case 0:case 11:case 15:ec(y,E,u),Zd(4,E);break;case 1:if(ec(y,E,u),d=E,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(qt){Ur(d,d.return,qt)}if(d=E,y=d.updateQueue,y!==null){var et=d.stateNode;try{var bt=y.shared.hiddenCallbacks;if(bt!==null)for(y.shared.hiddenCallbacks=null,y=0;y<bt.length;y++)jn(bt[y],et)}catch(qt){Ur(d,d.return,qt)}}u&&B&64&&Y_(E),Jd(E,E.return);break;case 27:J_(E);case 26:case 5:ec(y,E,u),u&&d===null&&B&4&&X_(E),Jd(E,E.return);break;case 12:ec(y,E,u);break;case 13:ec(y,E,u),u&&B&4&&iw(y,E);break;case 22:E.memoizedState===null&&ec(y,E,u),Jd(E,E.return);break;case 30:break;default:ec(y,E,u)}o=o.sibling}}function R2(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&rh(u))}function L2(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&rh(s))}function Tl(s,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ow(s,o,u,d),o=o.sibling}function ow(s,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Tl(s,o,u,d),y&2048&&Zd(9,o);break;case 1:Tl(s,o,u,d);break;case 3:Tl(s,o,u,d),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&rh(s)));break;case 12:if(y&2048){Tl(s,o,u,d),s=o.stateNode;try{var E=o.memoizedProps,B=E.id,et=E.onPostCommit;typeof et=="function"&&et(B,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(bt){Ur(o,o.return,bt)}}else Tl(s,o,u,d);break;case 13:Tl(s,o,u,d);break;case 23:break;case 22:E=o.stateNode,B=o.alternate,o.memoizedState!==null?E._visibility&2?Tl(s,o,u,d):tp(s,o):E._visibility&2?Tl(s,o,u,d):(E._visibility|=2,ff(s,o,u,d,(o.subtreeFlags&10256)!==0)),y&2048&&R2(B,o);break;case 24:Tl(s,o,u,d),y&2048&&L2(o.alternate,o);break;default:Tl(s,o,u,d)}}function ff(s,o,u,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var E=s,B=o,et=u,bt=d,qt=B.flags;switch(B.tag){case 0:case 11:case 15:ff(E,B,et,bt,y),Zd(8,B);break;case 23:break;case 22:var Yt=B.stateNode;B.memoizedState!==null?Yt._visibility&2?ff(E,B,et,bt,y):tp(E,B):(Yt._visibility|=2,ff(E,B,et,bt,y)),y&&qt&2048&&R2(B.alternate,B);break;case 24:ff(E,B,et,bt,y),y&&qt&2048&&L2(B.alternate,B);break;default:ff(E,B,et,bt,y)}o=o.sibling}}function tp(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,d=o,y=d.flags;switch(d.tag){case 22:tp(u,d),y&2048&&R2(d.alternate,d);break;case 24:tp(u,d),y&2048&&L2(d.alternate,d);break;default:tp(u,d)}o=o.sibling}}var ep=8192;function df(s){if(s.subtreeFlags&ep)for(s=s.child;s!==null;)lw(s),s=s.sibling}function lw(s){switch(s.tag){case 26:df(s),s.flags&ep&&s.memoizedState!==null&&lR(Wo,s.memoizedState,s.memoizedProps);break;case 5:df(s);break;case 3:case 4:var o=Wo;Wo=Sg(s.stateNode.containerInfo),df(s),Wo=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=ep,ep=16777216,df(s),ep=o):df(s));break;default:df(s)}}function uw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function np(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Ns=d,hw(d,s)}uw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cw(s),s=s.sibling}function cw(s){switch(s.tag){case 0:case 11:case 15:np(s),s.flags&2048&&Ju(9,s,s.return);break;case 3:np(s);break;case 12:np(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,dg(s)):np(s);break;default:np(s)}}function dg(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];Ns=d,hw(d,s)}uw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ju(8,o,o.return),dg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,dg(o));break;default:dg(o)}s=s.sibling}}function hw(s,o){for(;Ns!==null;){var u=Ns;switch(u.tag){case 0:case 11:case 15:Ju(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:rh(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Ns=d;else t:for(u=s;Ns!==null;){d=Ns;var y=d.sibling,E=d.return;if(nw(d),d===u){Ns=null;break t}if(y!==null){y.return=E,Ns=y;break t}Ns=E}}}var x8={getCacheForType:function(s){var o=Bi(Fi),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},S8=typeof WeakMap=="function"?WeakMap:Map,xr=0,Hr=null,Vn=null,er=0,Sr=0,Xa=null,nc=!1,pf=!1,I2=!1,lu=0,Ii=0,rc=0,mh=0,O2=0,xo=0,mf=0,rp=null,ja=null,k2=!1,D2=0,pg=1/0,mg=null,ic=null,Gs=0,sc=null,gf=null,yf=0,P2=0,M2=null,fw=null,ip=0,j2=null;function Za(){if((xr&2)!==0&&er!==0)return er&-er;if(Q.T!==null){var s=tu;return s!==0?s:H2()}return Cr()}function dw(){xo===0&&(xo=(er&536870912)===0||cr?qe():536870912);var s=Ao.current;return s!==null&&(s.flags|=32),xo}function Ja(s,o,u){(s===Hr&&(Sr===2||Sr===9)||s.cancelPendingCommit!==null)&&(vf(s,0),ac(s,er,xo,!1)),gn(s,u),((xr&2)===0||s!==Hr)&&(s===Hr&&((xr&2)===0&&(mh|=u),Ii===4&&ac(s,er,xo,!1)),Nl(s))}function pw(s,o,u){if((xr&6)!==0)throw Error(r(327));var d=!u&&(o&124)===0&&(o&s.expiredLanes)===0||Re(s,o),y=d?C8(s,o):B2(s,o,!0),E=d;do{if(y===0){pf&&!d&&ac(s,o,0,!1);break}else{if(u=s.current.alternate,E&&!T8(u)){y=B2(s,o,!1),E=!1;continue}if(y===2){if(E=o,s.errorRecoveryDisabledLanes&E)var B=0;else B=s.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){o=B;t:{var et=s;y=rp;var bt=et.current.memoizedState.isDehydrated;if(bt&&(vf(et,B).flags|=256),B=B2(et,B,!1),B!==2){if(I2&&!bt){et.errorRecoveryDisabledLanes|=E,mh|=E,y=4;break t}E=ja,ja=y,E!==null&&(ja===null?ja=E:ja.push.apply(ja,E))}y=B}if(E=!1,y!==2)continue}}if(y===1){vf(s,0),ac(s,o,0,!0);break}t:{switch(d=s,E=y,E){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ac(d,o,xo,!nc);break t;case 2:ja=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=D2+300-he(),10<y)){if(ac(d,o,xo,!nc),Ln(d,0,!0)!==0)break t;d.timeoutHandle=zw(mw.bind(null,d,u,ja,mg,k2,o,xo,mh,mf,nc,E,2,-0,0),y);break t}mw(d,u,ja,mg,k2,o,xo,mh,mf,nc,E,0,-0,0)}}break}while(!0);Nl(s)}function mw(s,o,u,d,y,E,B,et,bt,qt,Yt,re,Ut,Ft){if(s.timeoutHandle=-1,re=o.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(hp={stylesheets:null,count:0,unsuspend:oR},lw(o),re=uR(),re!==null)){s.cancelPendingCommit=re(Ew.bind(null,s,o,E,u,d,y,B,et,bt,Yt,1,Ut,Ft)),ac(s,E,B,!qt);return}Ew(s,o,E,u,d,y,B,et,bt)}function T8(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],E=y.getSnapshot;y=y.value;try{if(!rs(E(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ac(s,o,u,d){o&=~O2,o&=~mh,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var y=o;0<y;){var E=31-ce(y),B=1<<E;d[E]=-1,y&=~B}u!==0&&en(s,u,o)}function gg(){return(xr&6)===0?(sp(0),!1):!0}function q2(){if(Vn!==null){if(Sr===0)var s=Vn.return;else s=Vn,Vo=ss=null,ms(s),cf=null,Yd=0,s=Vn;for(;s!==null;)W_(s.alternate,s),s=s.return;Vn=null}}function vf(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,H8(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),q2(),Hr=s,Vn=u=go(s.current,null),er=o,Sr=0,Xa=null,nc=!1,pf=Re(s,o),I2=!1,mf=xo=O2=mh=rc=Ii=0,ja=rp=null,k2=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var y=31-ce(d),E=1<<y;o|=s[y],d&=~E}return lu=o,Xc(),u}function gw(s,o){Le=null,Q.H=rg,o===$||o===rt?(o=Ct(),Sr=3):o===J?(o=Ct(),Sr=4):Sr=o===D_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Xa=o,Vn===null&&(Ii=1,lg(s,va(o,s.current)))}function yw(){var s=Q.H;return Q.H=rg,s===null?rg:s}function vw(){var s=Q.A;return Q.A=x8,s}function U2(){Ii=4,nc||(er&4194048)!==er&&Ao.current!==null||(pf=!0),(rc&134217727)===0&&(mh&134217727)===0||Hr===null||ac(Hr,er,xo,!1)}function B2(s,o,u){var d=xr;xr|=2;var y=yw(),E=vw();(Hr!==s||er!==o)&&(mg=null,vf(s,o)),o=!1;var B=Ii;t:do try{if(Sr!==0&&Vn!==null){var et=Vn,bt=Xa;switch(Sr){case 8:q2(),B=6;break t;case 3:case 2:case 9:case 6:Ao.current===null&&(o=!0);var qt=Sr;if(Sr=0,Xa=null,bf(s,et,bt,qt),u&&pf){B=0;break t}break;default:qt=Sr,Sr=0,Xa=null,bf(s,et,bt,qt)}}N8(),B=Ii;break}catch(Yt){gw(s,Yt)}while(!0);return o&&s.shellSuspendCounter++,Vo=ss=null,xr=d,Q.H=y,Q.A=E,Vn===null&&(Hr=null,er=0,Xc()),B}function N8(){for(;Vn!==null;)bw(Vn)}function C8(s,o){var u=xr;xr|=2;var d=yw(),y=vw();Hr!==s||er!==o?(mg=null,pg=he()+500,vf(s,o)):pf=Re(s,o);t:do try{if(Sr!==0&&Vn!==null){o=Vn;var E=Xa;e:switch(Sr){case 1:Sr=0,Xa=null,bf(s,o,E,1);break;case 2:case 9:if(dt(E)){Sr=0,Xa=null,_w(o);break}o=function(){Sr!==2&&Sr!==9||Hr!==s||(Sr=7),Nl(s)},E.then(o,o);break t;case 3:Sr=7;break t;case 4:Sr=5;break t;case 7:dt(E)?(Sr=0,Xa=null,_w(o)):(Sr=0,Xa=null,bf(s,o,E,7));break;case 5:var B=null;switch(Vn.tag){case 26:B=Vn.memoizedState;case 5:case 27:var et=Vn;if(!B||e4(B)){Sr=0,Xa=null;var bt=et.sibling;if(bt!==null)Vn=bt;else{var qt=et.return;qt!==null?(Vn=qt,yg(qt)):Vn=null}break e}}Sr=0,Xa=null,bf(s,o,E,5);break;case 6:Sr=0,Xa=null,bf(s,o,E,6);break;case 8:q2(),Ii=6;break t;default:throw Error(r(462))}}R8();break}catch(Yt){gw(s,Yt)}while(!0);return Vo=ss=null,Q.H=d,Q.A=y,xr=u,Vn!==null?0:(Hr=null,er=0,Xc(),Ii)}function R8(){for(;Vn!==null&&!st();)bw(Vn)}function bw(s){var o=G_(s.alternate,s,lu);s.memoizedProps=s.pendingProps,o===null?yg(s):Vn=o}function _w(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=B_(u,o,o.pendingProps,o.type,void 0,er);break;case 11:o=B_(u,o,o.pendingProps,o.type.render,o.ref,er);break;case 5:ms(o);default:W_(u,o),o=Vn=Jc(o,lu),o=G_(u,o,lu)}s.memoizedProps=s.pendingProps,o===null?yg(s):Vn=o}function bf(s,o,u,d){Vo=ss=null,ms(o),cf=null,Yd=0;var y=o.return;try{if(v8(s,y,o,u,er)){Ii=1,lg(s,va(u,s.current)),Vn=null;return}}catch(E){if(y!==null)throw Vn=y,E;Ii=1,lg(s,va(u,s.current)),Vn=null;return}o.flags&32768?(cr||d===1?s=!0:pf||(er&536870912)!==0?s=!1:(nc=s=!0,(d===2||d===9||d===3||d===6)&&(d=Ao.current,d!==null&&d.tag===13&&(d.flags|=16384))),ww(o,s)):yg(o)}function yg(s){var o=s;do{if((o.flags&32768)!==0){ww(o,nc);return}s=o.return;var u=_8(o.alternate,o,lu);if(u!==null){Vn=u;return}if(o=o.sibling,o!==null){Vn=o;return}Vn=o=s}while(o!==null);Ii===0&&(Ii=5)}function ww(s,o){do{var u=w8(s.alternate,s);if(u!==null){u.flags&=32767,Vn=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Vn=s;return}Vn=s=u}while(s!==null);Ii=6,Vn=null}function Ew(s,o,u,d,y,E,B,et,bt){s.cancelPendingCommit=null;do vg();while(Gs!==0);if((xr&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(E=o.lanes|o.childLanes,E|=Qh,He(s,u,E,B,et,bt),s===Hr&&(Vn=Hr=null,er=0),gf=o,sc=s,yf=u,P2=E,M2=y,fw=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,k8(ue,function(){return Nw(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null,y=ut.p,ut.p=2,B=xr,xr|=4;try{E8(s,o,u)}finally{xr=B,ut.p=y,Q.T=d}}Gs=1,Aw(),xw(),Sw()}}function Aw(){if(Gs===1){Gs=0;var s=sc,o=gf,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null;var d=ut.p;ut.p=2;var y=xr;xr|=4;try{sw(o,s);var E=Z2,B=Fu(s.containerInfo),et=E.focusedElem,bt=E.selectionRange;if(B!==et&&et&&et.ownerDocument&&fo(et.ownerDocument.documentElement,et)){if(bt!==null&&Us(et)){var qt=bt.start,Yt=bt.end;if(Yt===void 0&&(Yt=qt),"selectionStart"in et)et.selectionStart=qt,et.selectionEnd=Math.min(Yt,et.value.length);else{var re=et.ownerDocument||document,Ut=re&&re.defaultView||window;if(Ut.getSelection){var Ft=Ut.getSelection(),on=et.textContent.length,Ze=Math.min(bt.start,on),Dr=bt.end===void 0?Ze:Math.min(bt.end,on);!Ft.extend&&Ze>Dr&&(B=Dr,Dr=Ze,Ze=B);var It=vl(et,Ze),Tt=vl(et,Dr);if(It&&Tt&&(Ft.rangeCount!==1||Ft.anchorNode!==It.node||Ft.anchorOffset!==It.offset||Ft.focusNode!==Tt.node||Ft.focusOffset!==Tt.offset)){var Dt=re.createRange();Dt.setStart(It.node,It.offset),Ft.removeAllRanges(),Ze>Dr?(Ft.addRange(Dt),Ft.extend(Tt.node,Tt.offset)):(Dt.setEnd(Tt.node,Tt.offset),Ft.addRange(Dt))}}}}for(re=[],Ft=et;Ft=Ft.parentNode;)Ft.nodeType===1&&re.push({element:Ft,left:Ft.scrollLeft,top:Ft.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<re.length;et++){var Zt=re[et];Zt.element.scrollLeft=Zt.left,Zt.element.scrollTop=Zt.top}}Lg=!!X2,Z2=X2=null}finally{xr=y,ut.p=d,Q.T=u}}s.current=o,Gs=2}}function xw(){if(Gs===2){Gs=0;var s=sc,o=gf,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Q.T,Q.T=null;var d=ut.p;ut.p=2;var y=xr;xr|=4;try{ew(s,o.alternate,o)}finally{xr=y,ut.p=d,Q.T=u}}Gs=3}}function Sw(){if(Gs===4||Gs===3){Gs=0,we();var s=sc,o=gf,u=yf,d=fw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gs=5:(Gs=0,gf=sc=null,Tw(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(ic=null),Si(u),o=o.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(oe,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=Q.T,y=ut.p,ut.p=2,Q.T=null;try{for(var E=s.onRecoverableError,B=0;B<d.length;B++){var et=d[B];E(et.value,{componentStack:et.stack})}}finally{Q.T=o,ut.p=y}}(yf&3)!==0&&vg(),Nl(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===j2?ip++:(ip=0,j2=s):ip=0,sp(0)}}function Tw(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,rh(o)))}function vg(s){return Aw(),xw(),Sw(),Nw()}function Nw(){if(Gs!==5)return!1;var s=sc,o=P2;P2=0;var u=Si(yf),d=Q.T,y=ut.p;try{ut.p=32>u?32:u,Q.T=null,u=M2,M2=null;var E=sc,B=yf;if(Gs=0,gf=sc=null,yf=0,(xr&6)!==0)throw Error(r(331));var et=xr;if(xr|=4,cw(E.current),ow(E,E.current,B,u),xr=et,sp(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(oe,E)}catch{}return!0}finally{ut.p=y,Q.T=d,Tw(s,o)}}function Cw(s,o,u){o=va(u,o),o=m2(s.stateNode,o,2),s=ae(s,o,2),s!==null&&(gn(s,2),Nl(s))}function Ur(s,o,u){if(s.tag===3)Cw(s,s,u);else for(;o!==null;){if(o.tag===3){Cw(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ic===null||!ic.has(d))){s=va(u,s),u=O_(2),d=ae(o,u,2),d!==null&&(k_(u,d,o,s),gn(d,2),Nl(d));break}}o=o.return}}function F2(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new S8;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(I2=!0,y.add(u),s=L8.bind(null,s,o,u),o.then(s,s))}function L8(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Hr===s&&(er&u)===u&&(Ii===4||Ii===3&&(er&62914560)===er&&300>he()-D2?(xr&2)===0&&vf(s,0):O2|=u,mf===er&&(mf=0)),Nl(s)}function Rw(s,o){o===0&&(o=Jn()),s=Wl(s,o),s!==null&&(gn(s,o),Nl(s))}function I8(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Rw(s,u)}function O8(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),Rw(s,u)}function k8(s,o){return Bt(s,o)}var bg=null,_f=null,V2=!1,_g=!1,z2=!1,gh=0;function Nl(s){s!==_f&&s.next===null&&(_f===null?bg=_f=s:_f=_f.next=s),_g=!0,V2||(V2=!0,P8())}function sp(s,o){if(!z2&&_g){z2=!0;do for(var u=!1,d=bg;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var E=0;else{var B=d.suspendedLanes,et=d.pingedLanes;E=(1<<31-ce(42|s)+1)-1,E&=y&~(B&~et),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,kw(d,E))}else E=er,E=Ln(d,d===Hr?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(E&3)===0||Re(d,E)||(u=!0,kw(d,E));d=d.next}while(u);z2=!1}}function D8(){Lw()}function Lw(){_g=V2=!1;var s=0;gh!==0&&(z8()&&(s=gh),gh=0);for(var o=he(),u=null,d=bg;d!==null;){var y=d.next,E=Iw(d,o);E===0?(d.next=null,u===null?bg=y:u.next=y,y===null&&(_f=u)):(u=d,(s!==0||(E&3)!==0)&&(_g=!0)),d=y}sp(s)}function Iw(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var B=31-ce(E),et=1<<B,bt=y[B];bt===-1?((et&u)===0||(et&d)!==0)&&(y[B]=tn(et,o)):bt<=o&&(s.expiredLanes|=et),E&=~et}if(o=Hr,u=er,u=Ln(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===o&&(Sr===2||Sr===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Nt(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Re(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(d!==null&&Nt(d),Si(u)){case 2:case 8:u=de;break;case 32:u=ue;break;case 268435456:u=ge;break;default:u=ue}return d=Ow.bind(null,s),u=Bt(u,d),s.callbackPriority=o,s.callbackNode=u,o}return d!==null&&d!==null&&Nt(d),s.callbackPriority=2,s.callbackNode=null,2}function Ow(s,o){if(Gs!==0&&Gs!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(vg()&&s.callbackNode!==u)return null;var d=er;return d=Ln(s,s===Hr?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(pw(s,d,o),Iw(s,he()),s.callbackNode!=null&&s.callbackNode===u?Ow.bind(null,s):null)}function kw(s,o){if(vg())return null;pw(s,o,!0)}function P8(){$8(function(){(xr&6)!==0?Bt(ee,D8):Lw()})}function H2(){return gh===0&&(gh=qe()),gh}function Dw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Es(""+s)}function Pw(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function M8(s,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var E=Dw((y[Un]||null).action),B=d.submitter;B&&(o=(o=B[Un]||null)?Dw(o.formAction):B.getAttribute("formAction"),o!==null&&(E=o,B=null));var et=new Ht("action","action",null,d,y);s.push({event:et,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(gh!==0){var bt=B?Pw(y,B):new FormData(y);Eo(u,{pending:!0,data:bt,method:y.method,action:E},null,bt)}}else typeof E=="function"&&(et.preventDefault(),bt=B?Pw(y,B):new FormData(y),Eo(u,{pending:!0,data:bt,method:y.method,action:E},E,bt))},currentTarget:y}]})}}for(var $2=0;$2<Yh.length;$2++){var G2=Yh[$2],j8=G2.toLowerCase(),q8=G2[0].toUpperCase()+G2.slice(1);ka(j8,"on"+q8)}ka(Rd,"onAnimationEnd"),ka(Ld,"onAnimationIteration"),ka(Id,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(jm,"onTransitionRun"),ka(qm,"onTransitionStart"),ka(Um,"onTransitionCancel"),ka(Od,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ap));function Mw(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],y=d.event;d=d.listeners;t:{var E=void 0;if(o)for(var B=d.length-1;0<=B;B--){var et=d[B],bt=et.instance,qt=et.currentTarget;if(et=et.listener,bt!==E&&y.isPropagationStopped())break t;E=et,y.currentTarget=qt;try{E(y)}catch(Yt){og(Yt)}y.currentTarget=null,E=bt}else for(B=0;B<d.length;B++){if(et=d[B],bt=et.instance,qt=et.currentTarget,et=et.listener,bt!==E&&y.isPropagationStopped())break t;E=et,y.currentTarget=qt;try{E(y)}catch(Yt){og(Yt)}y.currentTarget=null,E=bt}}}}function zn(s,o){var u=o[sr];u===void 0&&(u=o[sr]=new Set);var d=s+"__bubble";u.has(d)||(jw(o,s,2,!1),u.add(d))}function K2(s,o,u){var d=0;o&&(d|=4),jw(u,s,d,o)}var wg="_reactListening"+Math.random().toString(36).slice(2);function W2(s){if(!s[wg]){s[wg]=!0,Xi.forEach(function(u){u!=="selectionchange"&&(U8.has(u)||K2(u,!1,s),K2(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[wg]||(o[wg]=!0,K2("selectionchange",!1,o))}}function jw(s,o,u,d){switch(o4(o)){case 2:var y=fR;break;case 8:y=dR;break;default:y=ly}u=y.bind(null,o,u,s),y=void 0,!Pr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Y2(s,o,u,d,y){var E=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var B=d.tag;if(B===3||B===4){var et=d.stateNode.containerInfo;if(et===y)break;if(B===4)for(B=d.return;B!==null;){var bt=B.tag;if((bt===3||bt===4)&&B.stateNode.containerInfo===y)return;B=B.return}for(;et!==null;){if(B=ii(et),B===null)return;if(bt=B.tag,bt===5||bt===6||bt===26||bt===27){d=E=B;continue t}et=et.parentNode}}d=d.return}Ra(function(){var qt=E,Yt=Pi(u),re=[];t:{var Ut=kd.get(s);if(Ut!==void 0){var Ft=Ht,on=s;switch(s){case"keypress":if(Ci(u)===0)break t;case"keydown":case"keyup":Ft=Mr;break;case"focusin":on="focus",Ft=x;break;case"focusout":on="blur",Ft=x;break;case"beforeblur":case"afterblur":Ft=x;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=Ri;break;case Rd:case Ld:case Id:Ft=ht;break;case Od:Ft=Ga;break;case"scroll":case"scrollend":Ft=Ee;break;case"wheel":Ft=Po;break;case"copy":case"cut":case"paste":Ft=Lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Qr;break;case"toggle":case"beforetoggle":Ft=ea}var Ze=(o&4)!==0,Dr=!Ze&&(s==="scroll"||s==="scrollend"),It=Ze?Ut!==null?Ut+"Capture":null:Ut;Ze=[];for(var Tt=qt,Dt;Tt!==null;){var Zt=Tt;if(Dt=Zt.stateNode,Zt=Zt.tag,Zt!==5&&Zt!==26&&Zt!==27||Dt===null||It===null||(Zt=As(Tt,It),Zt!=null&&Ze.push(op(Tt,Zt,Dt))),Dr)break;Tt=Tt.return}0<Ze.length&&(Ut=new Ft(Ut,on,null,u,Yt),re.push({event:Ut,listeners:Ze}))}}if((o&7)===0){t:{if(Ut=s==="mouseover"||s==="pointerover",Ft=s==="mouseout"||s==="pointerout",Ut&&u!==Ni&&(on=u.relatedTarget||u.fromElement)&&(ii(on)||on[wr]))break t;if((Ft||Ut)&&(Ut=Yt.window===Yt?Yt:(Ut=Yt.ownerDocument)?Ut.defaultView||Ut.parentWindow:window,Ft?(on=u.relatedTarget||u.toElement,Ft=qt,on=on?ii(on):null,on!==null&&(Dr=a(on),Ze=on.tag,on!==Dr||Ze!==5&&Ze!==27&&Ze!==6)&&(on=null)):(Ft=null,on=qt),Ft!==on)){if(Ze=Xn,Zt="onMouseLeave",It="onMouseEnter",Tt="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=Qr,Zt="onPointerLeave",It="onPointerEnter",Tt="pointer"),Dr=Ft==null?Ut:In(Ft),Dt=on==null?Ut:In(on),Ut=new Ze(Zt,Tt+"leave",Ft,u,Yt),Ut.target=Dr,Ut.relatedTarget=Dt,Zt=null,ii(Yt)===qt&&(Ze=new Ze(It,Tt+"enter",on,u,Yt),Ze.target=Dt,Ze.relatedTarget=Dr,Zt=Ze),Dr=Zt,Ft&&on)e:{for(Ze=Ft,It=on,Tt=0,Dt=Ze;Dt;Dt=wf(Dt))Tt++;for(Dt=0,Zt=It;Zt;Zt=wf(Zt))Dt++;for(;0<Tt-Dt;)Ze=wf(Ze),Tt--;for(;0<Dt-Tt;)It=wf(It),Dt--;for(;Tt--;){if(Ze===It||It!==null&&Ze===It.alternate)break e;Ze=wf(Ze),It=wf(It)}Ze=null}else Ze=null;Ft!==null&&qw(re,Ut,Ft,Ze,!1),on!==null&&Dr!==null&&qw(re,Dr,on,Ze,!0)}}t:{if(Ut=qt?In(qt):window,Ft=Ut.nodeName&&Ut.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Ut.type==="file")var Oe=qs;else if(fr(Ut))if(gl)Oe=Bu;else{Oe=uo;var qn=Nd}else Ft=Ut.nodeName,!Ft||Ft.toLowerCase()!=="input"||Ut.type!=="checkbox"&&Ut.type!=="radio"?qt&&es(qt.elementType)&&(Oe=qs):Oe=co;if(Oe&&(Oe=Oe(s,qt))){ya(re,Oe,u,Yt);break t}qn&&qn(s,Ut,qt),s==="focusout"&&qt&&Ut.type==="number"&&qt.memoizedProps.value!=null&&ws(Ut,"number",Ut.value)}switch(qn=qt?In(qt):window,s){case"focusin":(fr(qn)||qn.contentEditable==="true")&&(ur=qn,br=qt,jr=null);break;case"focusout":jr=br=ur=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":Xr=!1,mo(re,u,Yt);break;case"selectionchange":if(po)break;case"keydown":case"keyup":mo(re,u,Yt)}var $e;if(js)t:{switch(s){case"compositionstart":var Je="onCompositionStart";break t;case"compositionend":Je="onCompositionEnd";break t;case"compositionupdate":Je="onCompositionUpdate";break t}Je=void 0}else kn?Vt(s,u)&&(Je="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(j&&u.locale!=="ko"&&(kn||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&kn&&($e=Ms()):(fs=Yt,yi="value"in fs?fs.value:fs.textContent,kn=!0)),qn=Eg(qt,Je),0<qn.length&&(Je=new te(Je,s,null,u,Yt),re.push({event:Je,listeners:qn}),$e?Je.data=$e:($e=le(u),$e!==null&&(Je.data=$e)))),($e=C?zr(s,u):Dn(s,u))&&(Je=Eg(qt,"onBeforeInput"),0<Je.length&&(qn=new te("onBeforeInput","beforeinput",null,u,Yt),re.push({event:qn,listeners:Je}),qn.data=$e)),M8(re,s,qt,u,Yt)}Mw(re,o)})}function op(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Eg(s,o){for(var u=o+"Capture",d=[];s!==null;){var y=s,E=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||E===null||(y=As(s,u),y!=null&&d.unshift(op(s,y,E)),y=As(s,o),y!=null&&d.push(op(s,y,E))),s.tag===3)return d;s=s.return}return[]}function wf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function qw(s,o,u,d,y){for(var E=o._reactName,B=[];u!==null&&u!==d;){var et=u,bt=et.alternate,qt=et.stateNode;if(et=et.tag,bt!==null&&bt===d)break;et!==5&&et!==26&&et!==27||qt===null||(bt=qt,y?(qt=As(u,E),qt!=null&&B.unshift(op(u,qt,bt))):y||(qt=As(u,E),qt!=null&&B.push(op(u,qt,bt)))),u=u.return}B.length!==0&&s.push({event:o,listeners:B})}var B8=/\r\n?/g,F8=/\u0000|\uFFFD/g;function Uw(s){return(typeof s=="string"?s:""+s).replace(B8,`
`).replace(F8,"")}function Bw(s,o){return o=Uw(o),Uw(s)===o}function Ag(){}function kr(s,o,u,d,y,E){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Er(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Er(s,""+d);break;case"className":yr(s,"class",d);break;case"tabIndex":yr(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(s,u,d);break;case"style":Ha(s,d,E);break;case"data":if(o!=="object"){yr(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Es(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(o!=="input"&&kr(s,o,"name",y.name,y,null),kr(s,o,"formEncType",y.formEncType,y,null),kr(s,o,"formMethod",y.formMethod,y,null),kr(s,o,"formTarget",y.formTarget,y,null)):(kr(s,o,"encType",y.encType,y,null),kr(s,o,"method",y.method,y,null),kr(s,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Es(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=Ag);break;case"onScroll":d!=null&&zn("scroll",s);break;case"onScrollEnd":d!=null&&zn("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=Es(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":zn("beforetoggle",s),zn("toggle",s),ks(s,"popover",d);break;case"xlinkActuate":Lr(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Lr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Lr(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Lr(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Lr(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Lr(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Lr(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Lr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Lr(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ks(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Do.get(u)||u,ks(s,u,d))}}function Q2(s,o,u,d,y,E){switch(u){case"style":Ha(s,d,E);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?Er(s,d):(typeof d=="number"||typeof d=="bigint")&&Er(s,""+d);break;case"onScroll":d!=null&&zn("scroll",s);break;case"onScrollEnd":d!=null&&zn("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Ag);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),E=s[Un]||null,E=E!=null?E[u]:null,typeof E=="function"&&s.removeEventListener(o,E,y),typeof d=="function")){typeof E!="function"&&E!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,d,y);break t}u in s?s[u]=d:d===!0?s.setAttribute(u,""):ks(s,u,d)}}}function Ks(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",s),zn("load",s);var d=!1,y=!1,E;for(E in u)if(u.hasOwnProperty(E)){var B=u[E];if(B!=null)switch(E){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kr(s,o,E,B,u,null)}}y&&kr(s,o,"srcSet",u.srcSet,u,null),d&&kr(s,o,"src",u.src,u,null);return;case"input":zn("invalid",s);var et=E=B=y=null,bt=null,qt=null;for(d in u)if(u.hasOwnProperty(d)){var Yt=u[d];if(Yt!=null)switch(d){case"name":y=Yt;break;case"type":B=Yt;break;case"checked":bt=Yt;break;case"defaultChecked":qt=Yt;break;case"value":E=Yt;break;case"defaultValue":et=Yt;break;case"children":case"dangerouslySetInnerHTML":if(Yt!=null)throw Error(r(137,o));break;default:kr(s,o,d,Yt,u,null)}}ga(s,E,et,bt,qt,B,y,!1),si(s);return;case"select":zn("invalid",s),d=B=E=null;for(y in u)if(u.hasOwnProperty(y)&&(et=u[y],et!=null))switch(y){case"value":E=et;break;case"defaultValue":B=et;break;case"multiple":d=et;default:kr(s,o,y,et,u,null)}o=E,u=B,s.multiple=!!d,o!=null?Ps(s,!!d,o,!1):u!=null&&Ps(s,!!d,u,!0);return;case"textarea":zn("invalid",s),E=y=d=null;for(B in u)if(u.hasOwnProperty(B)&&(et=u[B],et!=null))switch(B){case"value":d=et;break;case"defaultValue":y=et;break;case"children":E=et;break;case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(91));break;default:kr(s,o,B,et,u,null)}Ji(s,d,y,E),si(s);return;case"option":for(bt in u)if(u.hasOwnProperty(bt)&&(d=u[bt],d!=null))switch(bt){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:kr(s,o,bt,d,u,null)}return;case"dialog":zn("beforetoggle",s),zn("toggle",s),zn("cancel",s),zn("close",s);break;case"iframe":case"object":zn("load",s);break;case"video":case"audio":for(d=0;d<ap.length;d++)zn(ap[d],s);break;case"image":zn("error",s),zn("load",s);break;case"details":zn("toggle",s);break;case"embed":case"source":case"link":zn("error",s),zn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qt in u)if(u.hasOwnProperty(qt)&&(d=u[qt],d!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kr(s,o,qt,d,u,null)}return;default:if(es(o)){for(Yt in u)u.hasOwnProperty(Yt)&&(d=u[Yt],d!==void 0&&Q2(s,o,Yt,d,u,void 0));return}}for(et in u)u.hasOwnProperty(et)&&(d=u[et],d!=null&&kr(s,o,et,d,u,null))}function V8(s,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,E=null,B=null,et=null,bt=null,qt=null,Yt=null;for(Ft in u){var re=u[Ft];if(u.hasOwnProperty(Ft)&&re!=null)switch(Ft){case"checked":break;case"value":break;case"defaultValue":bt=re;default:d.hasOwnProperty(Ft)||kr(s,o,Ft,null,d,re)}}for(var Ut in d){var Ft=d[Ut];if(re=u[Ut],d.hasOwnProperty(Ut)&&(Ft!=null||re!=null))switch(Ut){case"type":E=Ft;break;case"name":y=Ft;break;case"checked":qt=Ft;break;case"defaultChecked":Yt=Ft;break;case"value":B=Ft;break;case"defaultValue":et=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(r(137,o));break;default:Ft!==re&&kr(s,o,Ut,Ft,d,re)}}mi(s,B,et,bt,qt,Yt,E,y);return;case"select":Ft=B=et=Ut=null;for(E in u)if(bt=u[E],u.hasOwnProperty(E)&&bt!=null)switch(E){case"value":break;case"multiple":Ft=bt;default:d.hasOwnProperty(E)||kr(s,o,E,null,d,bt)}for(y in d)if(E=d[y],bt=u[y],d.hasOwnProperty(y)&&(E!=null||bt!=null))switch(y){case"value":Ut=E;break;case"defaultValue":et=E;break;case"multiple":B=E;default:E!==bt&&kr(s,o,y,E,d,bt)}o=et,u=B,d=Ft,Ut!=null?Ps(s,!!u,Ut,!1):!!d!=!!u&&(o!=null?Ps(s,!!u,o,!0):Ps(s,!!u,u?[]:"",!1));return;case"textarea":Ft=Ut=null;for(et in u)if(y=u[et],u.hasOwnProperty(et)&&y!=null&&!d.hasOwnProperty(et))switch(et){case"value":break;case"children":break;default:kr(s,o,et,null,d,y)}for(B in d)if(y=d[B],E=u[B],d.hasOwnProperty(B)&&(y!=null||E!=null))switch(B){case"value":Ut=y;break;case"defaultValue":Ft=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==E&&kr(s,o,B,y,d,E)}Sn(s,Ut,Ft);return;case"option":for(var on in u)if(Ut=u[on],u.hasOwnProperty(on)&&Ut!=null&&!d.hasOwnProperty(on))switch(on){case"selected":s.selected=!1;break;default:kr(s,o,on,null,d,Ut)}for(bt in d)if(Ut=d[bt],Ft=u[bt],d.hasOwnProperty(bt)&&Ut!==Ft&&(Ut!=null||Ft!=null))switch(bt){case"selected":s.selected=Ut&&typeof Ut!="function"&&typeof Ut!="symbol";break;default:kr(s,o,bt,Ut,d,Ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)Ut=u[Ze],u.hasOwnProperty(Ze)&&Ut!=null&&!d.hasOwnProperty(Ze)&&kr(s,o,Ze,null,d,Ut);for(qt in d)if(Ut=d[qt],Ft=u[qt],d.hasOwnProperty(qt)&&Ut!==Ft&&(Ut!=null||Ft!=null))switch(qt){case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(r(137,o));break;default:kr(s,o,qt,Ut,d,Ft)}return;default:if(es(o)){for(var Dr in u)Ut=u[Dr],u.hasOwnProperty(Dr)&&Ut!==void 0&&!d.hasOwnProperty(Dr)&&Q2(s,o,Dr,void 0,d,Ut);for(Yt in d)Ut=d[Yt],Ft=u[Yt],!d.hasOwnProperty(Yt)||Ut===Ft||Ut===void 0&&Ft===void 0||Q2(s,o,Yt,Ut,d,Ft);return}}for(var It in u)Ut=u[It],u.hasOwnProperty(It)&&Ut!=null&&!d.hasOwnProperty(It)&&kr(s,o,It,null,d,Ut);for(re in d)Ut=d[re],Ft=u[re],!d.hasOwnProperty(re)||Ut===Ft||Ut==null&&Ft==null||kr(s,o,re,Ut,d,Ft)}var X2=null,Z2=null;function xg(s){return s.nodeType===9?s:s.ownerDocument}function Fw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vw(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function J2(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ty=null;function z8(){var s=window.event;return s&&s.type==="popstate"?s===ty?!1:(ty=s,!0):(ty=null,!1)}var zw=typeof setTimeout=="function"?setTimeout:void 0,H8=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,$8=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(s){return Hw.resolve(null).then(s).catch(G8)}:zw;function G8(s){setTimeout(function(){throw s})}function oc(s){return s==="head"}function $w(s,o){var u=o,d=0,y=0;do{var E=u.nextSibling;if(s.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"){if(0<d&&8>d){u=d;var B=s.ownerDocument;if(u&1&&lp(B.documentElement),u&2&&lp(B.body),u&4)for(u=B.head,lp(u),B=u.firstChild;B;){var et=B.nextSibling,bt=B.nodeName;B[Qi]||bt==="SCRIPT"||bt==="STYLE"||bt==="LINK"&&B.rel.toLowerCase()==="stylesheet"||u.removeChild(B),B=et}}if(y===0){s.removeChild(E),gp(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:d=u.charCodeAt(0)-48;else d=0;u=E}while(u);gp(o)}function ey(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ey(u),ri(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function K8(s,o,u,d){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Qi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var E=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Yo(s.nextSibling),s===null)break}return null}function W8(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Yo(s.nextSibling),s===null))return null;return s}function ny(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Y8(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Yo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var ry=null;function Gw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function Kw(s,o,u){switch(o=xg(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lp(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ri(s)}var So=new Map,Ww=new Set;function Sg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var uu=ut.d;ut.d={f:Q8,r:X8,D:Z8,C:J8,L:tR,m:eR,X:rR,S:nR,M:iR};function Q8(){var s=uu.f(),o=gg();return s||o}function X8(s){var o=Fr(s);o!==null&&o.tag===5&&o.type==="form"?hh(o):uu.r(s)}var Ef=typeof document>"u"?null:document;function Yw(s,o,u){var d=Ef;if(d&&typeof o=="string"&&o){var y=fn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Ww.has(y)||(Ww.add(y),s={rel:s,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Ks(o,"link",s),ar(o),d.head.appendChild(o)))}}function Z8(s){uu.D(s),Yw("dns-prefetch",s,null)}function J8(s,o){uu.C(s,o),Yw("preconnect",s,o)}function tR(s,o,u){uu.L(s,o,u);var d=Ef;if(d&&s&&o){var y='link[rel="preload"][as="'+fn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+fn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+fn(u.imageSizes)+'"]')):y+='[href="'+fn(s)+'"]';var E=y;switch(o){case"style":E=Af(s);break;case"script":E=xf(s)}So.has(E)||(s=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),So.set(E,s),d.querySelector(y)!==null||o==="style"&&d.querySelector(up(E))||o==="script"&&d.querySelector(cp(E))||(o=d.createElement("link"),Ks(o,"link",s),ar(o),d.head.appendChild(o)))}}function eR(s,o){uu.m(s,o);var u=Ef;if(u&&s){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+fn(d)+'"][href="'+fn(s)+'"]',E=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=xf(s)}if(!So.has(E)&&(s=p({rel:"modulepreload",href:s},o),So.set(E,s),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(cp(E)))return}d=u.createElement("link"),Ks(d,"link",s),ar(d),u.head.appendChild(d)}}}function nR(s,o,u){uu.S(s,o,u);var d=Ef;if(d&&s){var y=hr(d).hoistableStyles,E=Af(s);o=o||"default";var B=y.get(E);if(!B){var et={loading:0,preload:null};if(B=d.querySelector(up(E)))et.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":o},u),(u=So.get(E))&&iy(s,u);var bt=B=d.createElement("link");ar(bt),Ks(bt,"link",s),bt._p=new Promise(function(qt,Yt){bt.onload=qt,bt.onerror=Yt}),bt.addEventListener("load",function(){et.loading|=1}),bt.addEventListener("error",function(){et.loading|=2}),et.loading|=4,Tg(B,o,d)}B={type:"stylesheet",instance:B,count:1,state:et},y.set(E,B)}}}function rR(s,o){uu.X(s,o);var u=Ef;if(u&&s){var d=hr(u).hoistableScripts,y=xf(s),E=d.get(y);E||(E=u.querySelector(cp(y)),E||(s=p({src:s,async:!0},o),(o=So.get(y))&&sy(s,o),E=u.createElement("script"),ar(E),Ks(E,"link",s),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(y,E))}}function iR(s,o){uu.M(s,o);var u=Ef;if(u&&s){var d=hr(u).hoistableScripts,y=xf(s),E=d.get(y);E||(E=u.querySelector(cp(y)),E||(s=p({src:s,async:!0,type:"module"},o),(o=So.get(y))&&sy(s,o),E=u.createElement("script"),ar(E),Ks(E,"link",s),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(y,E))}}function Qw(s,o,u,d){var y=(y=mt.current)?Sg(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Af(u.href),u=hr(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Af(u.href);var E=hr(y).hoistableStyles,B=E.get(s);if(B||(y=y.ownerDocument||y,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,B),(E=y.querySelector(up(s)))&&!E._p&&(B.instance=E,B.state.loading=5),So.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},So.set(s,u),E||sR(y,s,u,B.state))),o&&d===null)throw Error(r(528,""));return B}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xf(u),u=hr(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Af(s){return'href="'+fn(s)+'"'}function up(s){return'link[rel="stylesheet"]['+s+"]"}function Xw(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function sR(s,o,u,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Ks(o,"link",u),ar(o),s.head.appendChild(o))}function xf(s){return'[src="'+fn(s)+'"]'}function cp(s){return"script[async]"+s}function Zw(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+fn(u.href)+'"]');if(d)return o.instance=d,ar(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),ar(d),Ks(d,"style",y),Tg(d,u.precedence,s),o.instance=d;case"stylesheet":y=Af(u.href);var E=s.querySelector(up(y));if(E)return o.state.loading|=4,o.instance=E,ar(E),E;d=Xw(u),(y=So.get(y))&&iy(d,y),E=(s.ownerDocument||s).createElement("link"),ar(E);var B=E;return B._p=new Promise(function(et,bt){B.onload=et,B.onerror=bt}),Ks(E,"link",d),o.state.loading|=4,Tg(E,u.precedence,s),o.instance=E;case"script":return E=xf(u.src),(y=s.querySelector(cp(E)))?(o.instance=y,ar(y),y):(d=u,(y=So.get(E))&&(d=p({},u),sy(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),ar(y),Ks(y,"link",d),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Tg(d,u.precedence,s));return o.instance}function Tg(s,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,E=y,B=0;B<d.length;B++){var et=d[B];if(et.dataset.precedence===o)E=et;else if(E!==y)break}E?E.parentNode.insertBefore(s,E.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function iy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function sy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ng=null;function Jw(s,o,u){if(Ng===null){var d=new Map,y=Ng=new Map;y.set(u,d)}else y=Ng,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var E=u[y];if(!(E[Qi]||E[ir]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var B=E.getAttribute(o)||"";B=s+B;var et=d.get(B);et?et.push(E):d.set(B,[E])}}return d}function t4(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function aR(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function e4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var hp=null;function oR(){}function lR(s,o,u){if(hp===null)throw Error(r(475));var d=hp;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Af(u.href),E=s.querySelector(up(y));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Cg.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=E,ar(E);return}E=s.ownerDocument||s,u=Xw(u),(y=So.get(y))&&iy(u,y),E=E.createElement("link"),ar(E);var B=E;B._p=new Promise(function(et,bt){B.onload=et,B.onerror=bt}),Ks(E,"link",u),o.instance=E}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Cg.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function uR(){if(hp===null)throw Error(r(475));var s=hp;return s.stylesheets&&s.count===0&&ay(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&ay(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Cg(){if(this.count--,this.count===0){if(this.stylesheets)ay(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rg=null;function ay(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rg=new Map,o.forEach(cR,s),Rg=null,Cg.call(s))}function cR(s,o){if(!(o.state.loading&4)){var u=Rg.get(s);if(u)var d=u.get(null);else{u=new Map,Rg.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<y.length;E++){var B=y[E];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(u.set(B.dataset.precedence,B),d=B)}d&&u.set(null,d)}y=o.instance,B=y.getAttribute("data-precedence"),E=u.get(B)||d,E===d&&u.set(null,y),u.set(B,y),this.count++,d=Cg.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),E?E.parentNode.insertBefore(y,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var fp={$$typeof:X,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function hR(s,o,u,d,y,E,B,et){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=E,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function n4(s,o,u,d,y,E,B,et,bt,qt,Yt,re){return s=new hR(s,o,u,B,et,bt,qt,re),o=1,E===!0&&(o|=24),E=xs(3,null,null,o),s.current=E,E.stateNode=s,o=Pd(),o.refCount++,s.pooledCache=o,o.refCount++,E.memoizedState={element:d,isDehydrated:u,cache:o},Pt(E),s}function r4(s){return s?(s=is,s):is}function i4(s,o,u,d,y,E){y=r4(y),d.context===null?d.context=y:d.pendingContext=y,d=Kt(o),d.payload={element:u},E=E===void 0?null:E,E!==null&&(d.callback=E),u=ae(s,d,o),u!==null&&(Ja(u,s,o),ne(u,s,o))}function s4(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function oy(s,o){s4(s,o),(s=s.alternate)&&s4(s,o)}function a4(s){if(s.tag===13){var o=Wl(s,67108864);o!==null&&Ja(o,s,67108864),oy(s,67108864)}}var Lg=!0;function fR(s,o,u,d){var y=Q.T;Q.T=null;var E=ut.p;try{ut.p=2,ly(s,o,u,d)}finally{ut.p=E,Q.T=y}}function dR(s,o,u,d){var y=Q.T;Q.T=null;var E=ut.p;try{ut.p=8,ly(s,o,u,d)}finally{ut.p=E,Q.T=y}}function ly(s,o,u,d){if(Lg){var y=uy(d);if(y===null)Y2(s,o,d,Ig,u),l4(s,d);else if(mR(y,s,o,u,d))d.stopPropagation();else if(l4(s,d),o&4&&-1<pR.indexOf(s)){for(;y!==null;){var E=Fr(y);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var B=Me(E.pendingLanes);if(B!==0){var et=E;for(et.pendingLanes|=2,et.entangledLanes|=2;B;){var bt=1<<31-ce(B);et.entanglements[1]|=bt,B&=~bt}Nl(E),(xr&6)===0&&(pg=he()+500,sp(0))}}break;case 13:et=Wl(E,2),et!==null&&Ja(et,E,2),gg(),oy(E,2)}if(E=uy(d),E===null&&Y2(s,o,d,Ig,u),E===y)break;y=E}y!==null&&d.stopPropagation()}else Y2(s,o,d,null,u)}}function uy(s){return s=Pi(s),cy(s)}var Ig=null;function cy(s){if(Ig=null,s=ii(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Ig=s,null}function o4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case ee:return 2;case de:return 8;case ue:case Ge:return 32;case ge:return 268435456;default:return 32}default:return 32}}var hy=!1,lc=null,uc=null,cc=null,dp=new Map,pp=new Map,hc=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l4(s,o){switch(s){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":dp.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pp.delete(o.pointerId)}}function mp(s,o,u,d,y,E){return s===null||s.nativeEvent!==E?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:E,targetContainers:[y]},o!==null&&(o=Fr(o),o!==null&&a4(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function mR(s,o,u,d,y){switch(o){case"focusin":return lc=mp(lc,s,o,u,d,y),!0;case"dragenter":return uc=mp(uc,s,o,u,d,y),!0;case"mouseover":return cc=mp(cc,s,o,u,d,y),!0;case"pointerover":var E=y.pointerId;return dp.set(E,mp(dp.get(E)||null,s,o,u,d,y)),!0;case"gotpointercapture":return E=y.pointerId,pp.set(E,mp(pp.get(E)||null,s,o,u,d,y)),!0}return!1}function u4(s){var o=ii(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Be(s.priority,function(){if(u.tag===13){var d=Za();d=pr(d);var y=Wl(u,d);y!==null&&Ja(y,u,d),oy(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Og(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=uy(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Ni=d,u.target.dispatchEvent(d),Ni=null}else return o=Fr(u),o!==null&&a4(o),s.blockedOn=u,!1;o.shift()}return!0}function c4(s,o,u){Og(s)&&u.delete(o)}function gR(){hy=!1,lc!==null&&Og(lc)&&(lc=null),uc!==null&&Og(uc)&&(uc=null),cc!==null&&Og(cc)&&(cc=null),dp.forEach(c4),pp.forEach(c4)}function kg(s,o){s.blockedOn===o&&(s.blockedOn=null,hy||(hy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gR)))}var Dg=null;function h4(s){Dg!==s&&(Dg=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Dg===s&&(Dg=null);for(var o=0;o<s.length;o+=3){var u=s[o],d=s[o+1],y=s[o+2];if(typeof d!="function"){if(cy(d||u)===null)continue;break}var E=Fr(u);E!==null&&(s.splice(o,3),o-=3,Eo(E,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function gp(s){function o(bt){return kg(bt,s)}lc!==null&&kg(lc,s),uc!==null&&kg(uc,s),cc!==null&&kg(cc,s),dp.forEach(o),pp.forEach(o);for(var u=0;u<hc.length;u++){var d=hc[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<hc.length&&(u=hc[0],u.blockedOn===null);)u4(u),u.blockedOn===null&&hc.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],E=u[d+1],B=y[Un]||null;if(typeof E=="function")B||h4(u);else if(B){var et=null;if(E&&E.hasAttribute("formAction")){if(y=E,B=E[Un]||null)et=B.formAction;else if(cy(y)!==null)continue}else et=B.action;typeof et=="function"?u[d+1]=et:(u.splice(d,3),d-=3),h4(u)}}}function fy(s){this._internalRoot=s}Pg.prototype.render=fy.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=Za();i4(u,d,s,o,null,null)},Pg.prototype.unmount=fy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;i4(s.current,2,null,s,null,null),gg(),o[wr]=null}};function Pg(s){this._internalRoot=s}Pg.prototype.unstable_scheduleHydration=function(s){if(s){var o=Cr();s={blockedOn:null,target:s,priority:o};for(var u=0;u<hc.length&&o!==0&&o<hc[u].priority;u++);hc.splice(u,0,s),u===0&&u4(s)}};var f4=t.version;if(f4!=="19.1.1")throw Error(r(527,f4,"19.1.1"));ut.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var yR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mg.isDisabled&&Mg.supportsFiber)try{oe=Mg.inject(yR),pe=Mg}catch{}}return vp.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,d="",y=C_,E=R_,B=L_,et=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(B=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(et=o.unstable_transitionCallbacks)),o=n4(s,1,!1,null,null,u,d,y,E,B,et,null),s[wr]=o.current,W2(s),new fy(o)},vp.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var d=!1,y="",E=C_,B=R_,et=L_,bt=null,qt=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(B=u.onCaughtError),u.onRecoverableError!==void 0&&(et=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(bt=u.unstable_transitionCallbacks),u.formState!==void 0&&(qt=u.formState)),o=n4(s,1,!0,o,u??null,d,y,E,B,et,bt,qt),o.context=r4(null),u=o.current,d=Za(),d=pr(d),y=Kt(d),y.callback=null,ae(u,y,d),u=d,o.current.lanes=u,gn(o,u),Nl(o),s[wr]=o.current,W2(s),new Pg(o)},vp.version="19.1.1",vp}var E4;function TR(){if(E4)return my.exports;E4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),my.exports=SR(),my.exports}var NR=TR();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A4="popstate";function CR(n={}){function t(r,i){let{pathname:a,search:l,hash:c}=r.location;return Tv("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(r,i){return typeof i=="string"?i:Gp(i)}return LR(t,e,null,n)}function pi(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function il(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RR(){return Math.random().toString(36).substring(2,10)}function x4(n,t){return{usr:n.state,key:n.key,idx:t}}function Tv(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?fd(t):t,state:e,key:t&&t.key||r||RR()}}function Gp({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function fd(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function LR(n,t,e,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function w(){c="POP";let k=p(),P=k==null?null:k-f;f=k,h&&h({action:c,location:I.location,delta:P})}function _(k,P){c="PUSH";let H=Tv(I.location,k,P);f=p()+1;let X=x4(H,f),Z=I.createHref(H);try{l.pushState(X,"",Z)}catch(pt){if(pt instanceof DOMException&&pt.name==="DataCloneError")throw pt;i.location.assign(Z)}a&&h&&h({action:c,location:I.location,delta:1})}function v(k,P){c="REPLACE";let H=Tv(I.location,k,P);f=p();let X=x4(H,f),Z=I.createHref(H);l.replaceState(X,"",Z),a&&h&&h({action:c,location:I.location,delta:0})}function N(k){return IR(k)}let I={get action(){return c},get location(){return n(i,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(A4,w),h=k,()=>{i.removeEventListener(A4,w),h=null}},createHref(k){return t(i,k)},createURL:N,encodeLocation(k){let P=N(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:v,go(k){return l.go(k)}};return I}function IR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pi(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gp(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function Hx(n,t,e="/"){return OR(n,t,e,!1)}function OR(n,t,e,r){let i=typeof t=="string"?fd(t):t,a=Au(i.pathname||"/",e);if(a==null)return null;let l=$x(n);kR(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=HR(a);c=VR(l[h],f,r)}return c}function $x(n,t=[],e=[],r="",i=!1){let a=(l,c,h=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;pi(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let w=vu([r,p.relativePath]),_=e.concat(p);l.children&&l.children.length>0&&(pi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),$x(l.children,t,_,w,h)),!(l.path==null&&!l.index)&&t.push({path:w,score:BR(w,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of Gx(l.path))a(l,c,!0,h)}),t}function Gx(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),a=e.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Gx(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function kR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:FR(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var DR=/^:[\w-]+$/,PR=3,MR=2,jR=1,qR=10,UR=-2,S4=n=>n==="*";function BR(n,t){let e=n.split("/"),r=e.length;return e.some(S4)&&(r+=UR),t&&(r+=MR),e.filter(i=>!S4(i)).reduce((i,a)=>i+(DR.test(a)?PR:a===""?jR:qR),r)}function FR(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function VR(n,t,e=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",w=L1({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!w&&f&&e&&!r[r.length-1].route.index&&(w=L1({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:vu([a,w.pathname]),pathnameBase:WR(vu([a,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(a=vu([a,w.pathnameBase]))}return l}function L1(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=zR(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:w},_)=>{if(p==="*"){let N=c[_]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const v=c[_];return w&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function zR(n,t=!1,e=!0){il(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function HR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return il(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Au(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function $R(n,t="/"){let{pathname:e,search:r="",hash:i=""}=typeof n=="string"?fd(n):n;return{pathname:e?e.startsWith("/")?e:GR(e,t):t,search:YR(r),hash:QR(i)}}function GR(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function by(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function k5(n){let t=KR(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function D5(n,t,e,r=!1){let i;typeof n=="string"?i=fd(n):(i={...n},pi(!i.pathname||!i.pathname.includes("?"),by("?","pathname","search",i)),pi(!i.pathname||!i.pathname.includes("#"),by("#","pathname","hash",i)),pi(!i.search||!i.search.includes("#"),by("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=e;else{let w=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}c=w>=0?t[w]:"/"}let h=$R(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var vu=n=>n.join("/").replace(/\/\/+/g,"/"),WR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Kx=["POST","PUT","PATCH","DELETE"];new Set(Kx);var ZR=["GET",...Kx];new Set(ZR);var dd=Y.createContext(null);dd.displayName="DataRouter";var m0=Y.createContext(null);m0.displayName="DataRouterState";Y.createContext(!1);var Wx=Y.createContext({isTransitioning:!1});Wx.displayName="ViewTransition";var JR=Y.createContext(new Map);JR.displayName="Fetchers";var tL=Y.createContext(null);tL.displayName="Await";var ul=Y.createContext(null);ul.displayName="Navigation";var dm=Y.createContext(null);dm.displayName="Location";var cl=Y.createContext({outlet:null,matches:[],isDataRoute:!1});cl.displayName="Route";var P5=Y.createContext(null);P5.displayName="RouteError";function eL(n,{relative:t}={}){pi(pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=Y.useContext(ul),{hash:i,pathname:a,search:l}=pm(n,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:vu([e,a])),r.createHref({pathname:c,search:l,hash:i})}function pd(){return Y.useContext(dm)!=null}function Ou(){return pi(pd(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(dm).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qx(n){Y.useContext(ul).static||Y.useLayoutEffect(n)}function jh(){let{isDataRoute:n}=Y.useContext(cl);return n?mL():nL()}function nL(){pi(pd(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(dd),{basename:t,navigator:e}=Y.useContext(ul),{matches:r}=Y.useContext(cl),{pathname:i}=Ou(),a=JSON.stringify(k5(r)),l=Y.useRef(!1);return Qx(()=>{l.current=!0}),Y.useCallback((h,f={})=>{if(il(l.current,Yx),!l.current)return;if(typeof h=="number"){e.go(h);return}let p=D5(h,JSON.parse(a),i,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:vu([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,a,i,n])}Y.createContext(null);function rL(){let{matches:n}=Y.useContext(cl),t=n[n.length-1];return t?t.params:{}}function pm(n,{relative:t}={}){let{matches:e}=Y.useContext(cl),{pathname:r}=Ou(),i=JSON.stringify(k5(e));return Y.useMemo(()=>D5(n,JSON.parse(i),r,t==="path"),[n,i,r,t])}function iL(n,t){return Xx(n,t)}function Xx(n,t,e,r,i){pi(pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Y.useContext(ul),{matches:l}=Y.useContext(cl),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",w=c&&c.route;{let H=w&&w.path||"";Zx(f,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let _=Ou(),v;if(t){let H=typeof t=="string"?fd(t):t;pi(p==="/"||H.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${H.pathname}" was given in the \`location\` prop.`),v=H}else v=_;let N=v.pathname||"/",I=N;if(p!=="/"){let H=p.replace(/^\//,"").split("/");I="/"+N.replace(/^\//,"").split("/").slice(H.length).join("/")}let k=Hx(n,{pathname:I});il(w||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),il(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=uL(k&&k.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:vu([p,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:vu([p,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,e,r,i);return t&&P?Y.createElement(dm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},P):P}function sL(){let n=pL(),t=XR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),e?Y.createElement("pre",{style:i},e):null,l)}var aL=Y.createElement(sL,null),oL=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Y.createElement(cl.Provider,{value:this.props.routeContext},Y.createElement(P5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lL({routeContext:n,match:t,children:e}){let r=Y.useContext(dd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(cl.Provider,{value:n},e)}function uL(n,t=[],e=null,r=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,l=e?.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);pi(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:w,errors:_}=e,v=p.route.loader&&!w.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,w)=>{let _,v=!1,N=null,I=null;e&&(_=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||aL,c&&(h<0&&w===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,I=null):h===w&&(v=!0,I=p.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,w+1)),P=()=>{let H;return _?H=N:v?H=I:p.route.Component?H=Y.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=f,Y.createElement(lL,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:e!=null},children:H})};return e&&(p.route.ErrorBoundary||p.route.errorElement||w===0)?Y.createElement(oL,{location:e.location,revalidation:e.revalidation,component:N,error:_,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):P()},null)}function M5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cL(n){let t=Y.useContext(dd);return pi(t,M5(n)),t}function hL(n){let t=Y.useContext(m0);return pi(t,M5(n)),t}function fL(n){let t=Y.useContext(cl);return pi(t,M5(n)),t}function j5(n){let t=fL(n),e=t.matches[t.matches.length-1];return pi(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function dL(){return j5("useRouteId")}function pL(){let n=Y.useContext(P5),t=hL("useRouteError"),e=j5("useRouteError");return n!==void 0?n:t.errors?.[e]}function mL(){let{router:n}=cL("useNavigate"),t=j5("useNavigate"),e=Y.useRef(!1);return Qx(()=>{e.current=!0}),Y.useCallback(async(i,a={})=>{il(e.current,Yx),e.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:t,...a}))},[n,t])}var T4={};function Zx(n,t,e){!t&&!T4[n]&&(T4[n]=!0,il(!1,e))}Y.memo(gL);function gL({routes:n,future:t,state:e,unstable_onError:r}){return Xx(n,void 0,e,r,t)}function Qo({to:n,replace:t,state:e,relative:r}){pi(pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Y.useContext(ul);il(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Y.useContext(cl),{pathname:l}=Ou(),c=jh(),h=D5(n,k5(a),l,r==="path"),f=JSON.stringify(h);return Y.useEffect(()=>{c(JSON.parse(f),{replace:t,state:e,relative:r})},[c,f,r,t,e]),null}function Jr(n){pi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yL({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:i,static:a=!1}){pi(!pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof e=="string"&&(e=fd(e));let{pathname:h="/",search:f="",hash:p="",state:w=null,key:_="default"}=e,v=Y.useMemo(()=>{let N=Au(h,l);return N==null?null:{location:{pathname:N,search:f,hash:p,state:w,key:_},navigationType:r}},[l,h,f,p,w,_,r]);return il(v!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:Y.createElement(ul.Provider,{value:c},Y.createElement(dm.Provider,{children:t,value:v}))}function vL({children:n,location:t}){return iL(Nv(n),t)}function Nv(n,t=[]){let e=[];return Y.Children.forEach(n,(r,i)=>{if(!Y.isValidElement(r))return;let a=[...t,i];if(r.type===Y.Fragment){e.push.apply(e,Nv(r.props.children,a));return}pi(r.type===Jr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Nv(r.props.children,a)),e.push(l)}),e}var h1="get",f1="application/x-www-form-urlencoded";function g0(n){return n!=null&&typeof n.tagName=="string"}function bL(n){return g0(n)&&n.tagName.toLowerCase()==="button"}function _L(n){return g0(n)&&n.tagName.toLowerCase()==="form"}function wL(n){return g0(n)&&n.tagName.toLowerCase()==="input"}function EL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AL(n,t){return n.button===0&&(!t||t==="_self")&&!EL(n)}var jg=null;function xL(){if(jg===null)try{new FormData(document.createElement("form"),0),jg=!1}catch{jg=!0}return jg}var SL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(n){return n!=null&&!SL.has(n)?(il(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${f1}"`),null):n}function TL(n,t){let e,r,i,a,l;if(_L(n)){let c=n.getAttribute("action");r=c?Au(c,t):null,e=n.getAttribute("method")||h1,i=_y(n.getAttribute("enctype"))||f1,a=new FormData(n)}else if(bL(n)||wL(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Au(h,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||h1,i=_y(n.getAttribute("formenctype"))||_y(c.getAttribute("enctype"))||f1,a=new FormData(c,n),!xL()){let{name:f,type:p,value:w}=n;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,w)}}else{if(g0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=h1,r=null,i=f1,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:e.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q5(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function NL(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Au(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function CL(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LL(n,t,e){let r=await Promise.all(n.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await CL(a,e);return l.links?l.links():[]}return[]}));return DL(r.flat(1).filter(RL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function N4(n,t,e,r,i,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,c=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function IL(n,t,{includeHydrateFallback:e}={}){return OL(n.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),e&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OL(n){return[...new Set(n)]}function kL(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function DL(n,t){let e=new Set;return new Set(t),n.reduce((r,i)=>{let a=JSON.stringify(kL(i));return e.has(a)||(e.add(a),r.push({key:a,link:i})),r},[])}function Jx(){let n=Y.useContext(dd);return q5(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PL(){let n=Y.useContext(m0);return q5(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U5=Y.createContext(void 0);U5.displayName="FrameworkContext";function tS(){let n=Y.useContext(U5);return q5(n,"You must render this element inside a <HydratedRouter> element"),n}function ML(n,t){let e=Y.useContext(U5),[r,i]=Y.useState(!1),[a,l]=Y.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:w}=t,_=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=P=>{P.forEach(H=>{l(H.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[n]),Y.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let v=()=>{i(!0)},N=()=>{i(!1),l(!1)};return e?n!=="intent"?[a,_,{}]:[a,_,{onFocus:bp(c,v),onBlur:bp(h,N),onMouseEnter:bp(f,v),onMouseLeave:bp(p,N),onTouchStart:bp(w,v)}]:[!1,_,{}]}function bp(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function jL({page:n,...t}){let{router:e}=Jx(),r=Y.useMemo(()=>Hx(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?Y.createElement(UL,{page:n,matches:r,...t}):null}function qL(n){let{manifest:t,routeModules:e}=tS(),[r,i]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return LL(n,t,e).then(l=>{a||i(l)}),()=>{a=!0}},[n,t,e]),r}function UL({page:n,matches:t,...e}){let r=Ou(),{manifest:i,routeModules:a}=tS(),{basename:l}=Jx(),{loaderData:c,matches:h}=PL(),f=Y.useMemo(()=>N4(n,t,h,i,r,"data"),[n,t,h,i,r]),p=Y.useMemo(()=>N4(n,t,h,i,r,"assets"),[n,t,h,i,r]),w=Y.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,I=!1;if(t.forEach(P=>{let H=i.routes[P.route.id];!H||!H.hasLoader||(!f.some(X=>X.route.id===P.route.id)&&P.route.id in c&&a[P.route.id]?.shouldRevalidate||H.hasClientLoader?I=!0:N.add(P.route.id))}),N.size===0)return[];let k=NL(n,l,"data");return I&&N.size>0&&k.searchParams.set("_routes",t.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[l,c,r,i,f,t,n,a]),_=Y.useMemo(()=>IL(p,i),[p,i]),v=qL(p);return Y.createElement(Y.Fragment,null,w.map(N=>Y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),_.map(N=>Y.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),v.map(({key:N,link:I})=>Y.createElement("link",{key:N,nonce:e.nonce,...I})))}function BL(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var eS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eS&&(window.__reactRouterVersion="7.9.1")}catch{}function FL({basename:n,children:t,window:e}){let r=Y.useRef();r.current==null&&(r.current=CR({window:e,v5Compat:!0}));let i=r.current,[a,l]=Y.useState({action:i.action,location:i.location}),c=Y.useCallback(h=>{Y.startTransition(()=>l(h))},[l]);return Y.useLayoutEffect(()=>i.listen(c),[i,c]),Y.createElement(yL,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:i})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=Y.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:w,..._},v){let{basename:N}=Y.useContext(ul),I=typeof f=="string"&&nS.test(f),k,P=!1;if(typeof f=="string"&&I&&(k=f,eS))try{let M=new URL(window.location.href),G=f.startsWith("//")?new URL(M.protocol+f):new URL(f),S=Au(G.pathname,N);G.origin===M.origin&&S!=null?f=S+G.search+G.hash:P=!0}catch{il(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=eL(f,{relative:i}),[X,Z,pt]=ML(r,_),wt=$L(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:i,viewTransition:w});function K(M){t&&t(M),M.defaultPrevented||wt(M)}let U=Y.createElement("a",{..._,...pt,href:k||H,onClick:P||a?t:K,ref:BL(v,Z),target:h,"data-discover":!I&&e==="render"?"true":void 0});return X&&!I?Y.createElement(Y.Fragment,null,U,Y.createElement(jL,{page:H})):U});Ll.displayName="Link";var VL=Y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let w=pm(l,{relative:f.relative}),_=Ou(),v=Y.useContext(m0),{navigator:N,basename:I}=Y.useContext(ul),k=v!=null&&QL(w)&&c===!0,P=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,H=_.pathname,X=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(H=H.toLowerCase(),X=X?X.toLowerCase():null,P=P.toLowerCase()),X&&I&&(X=Au(X,I)||X);const Z=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let pt=H===P||!i&&H.startsWith(P)&&H.charAt(Z)==="/",wt=X!=null&&(X===P||!i&&X.startsWith(P)&&X.charAt(P.length)==="/"),K={isActive:pt,isPending:wt,isTransitioning:k},U=pt?t:void 0,M;typeof r=="function"?M=r(K):M=[r,pt?"active":null,wt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(K):a;return Y.createElement(Ll,{...f,"aria-current":U,className:M,ref:p,style:G,to:l,viewTransition:c},typeof h=="function"?h(K):h)});VL.displayName="NavLink";var zL=Y.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:i,state:a,method:l=h1,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:w,..._},v)=>{let N=WL(),I=YL(c,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&nS.test(c),H=X=>{if(h&&h(X),X.defaultPrevented)return;X.preventDefault();let Z=X.nativeEvent.submitter,pt=Z?.getAttribute("formmethod")||l;N(Z||X.currentTarget,{fetcherKey:t,method:pt,navigate:e,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:w})};return Y.createElement("form",{ref:v,method:k,action:I,onSubmit:r?h:H,..._,"data-discover":!P&&n==="render"?"true":void 0})});zL.displayName="Form";function HL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(n){let t=Y.useContext(dd);return pi(t,HL(n)),t}function $L(n,{target:t,replace:e,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=jh(),h=Ou(),f=pm(n,{relative:a});return Y.useCallback(p=>{if(AL(p,t)){p.preventDefault();let w=e!==void 0?e:Gp(h)===Gp(f);c(n,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,c,f,e,r,t,n,i,a,l])}var GL=0,KL=()=>`__${String(++GL)}__`;function WL(){let{router:n}=rS("useSubmit"),{basename:t}=Y.useContext(ul),e=dL();return Y.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=TL(r,t);if(i.navigate===!1){let p=i.fetcherKey||KL();await n.fetch(p,e,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:e,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,t,e])}function YL(n,{relative:t}={}){let{basename:e}=Y.useContext(ul),r=Y.useContext(cl);pi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pm(n||".",{relative:t})},l=Ou();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(w=>w).forEach(w=>c.append("index",w));let p=c.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:vu([e,a.pathname])),Gp(a)}function QL(n,{relative:t}={}){let e=Y.useContext(Wx);pi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rS("useViewTransitionState"),i=pm(n,{relative:t});if(!e.isTransitioning)return!1;let a=Au(e.currentLocation.pathname,r)||e.currentLocation.pathname,l=Au(e.nextLocation.pathname,r)||e.nextLocation.pathname;return L1(i.pathname,l)!=null||L1(i.pathname,a)!=null}var XL=zx();const Vf=hd(XL);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=()=>{};var C4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},JL=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[e++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[e++],l=n[e++],c=n[e++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(h>>10)),t[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,p=a>>2,w=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,v=f&63;h||(v=64,l||(_=64)),r.push(e[p],e[w],e[_],e[v])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(iS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):JL(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;const f=i<n.length?e[n.charAt(i)]:64;++i;const w=i<n.length?e[n.charAt(i)]:64;if(++i,a==null||c==null||f==null||w==null)throw new tI;const _=a<<2|c>>4;if(r.push(_),f!==64){const v=c<<4&240|f>>2;if(r.push(v),w!==64){const N=f<<6&192|w;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eI=function(n){const t=iS(n);return sS.encodeByteArray(t,!0)},I1=function(n){return eI(n).replace(/\./g,"")},aS=function(n){try{return sS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=()=>nI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof C4>"u")return;const n=C4.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&aS(n[1]);return t&&JSON.parse(t)},y0=()=>{try{return ZL()||rI()||iI()||sI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oS=n=>y0()?.emulatorHosts?.[n],aI=n=>{const t=oS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},lS=()=>y0()?.config,uS=n=>y0()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[I1(JSON.stringify(e)),I1(JSON.stringify(l)),""].join(".")}const Mp={};function uI(){const n={prod:[],emulator:[]};for(const t of Object.keys(Mp))Mp[t]?n.emulator.push(t):n.prod.push(t);return n}function cI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let R4=!1;function hS(n,t){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Mp[n]===t||Mp[n]||R4)return;Mp[n]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=uI().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{R4=!0,l()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function w(){const _=cI(r),v=e("text"),N=document.getElementById(v)||document.createElement("span"),I=e("learnmore"),k=document.getElementById(I)||document.createElement("a"),P=e("preprendIcon"),H=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const X=_.element;c(X),p(k,I);const Z=f();h(H,P),X.append(H,N,k,Z),document.body.appendChild(X)}a?(N.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())}function fI(){const n=y0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gI(){const n=ha();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yI(){return!fI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function bI(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class ku extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=_I,Object.setPrototypeOf(this,ku.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mm.prototype.create)}}class mm{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?wI(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ku(i,c,r)}}function wI(n,t){return n.replace(EI,(e,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const EI=/\{\$([^}]+)}/g;function AI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Sh(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const a=n[i],l=t[i];if(L4(a)&&L4(l)){if(!Sh(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function L4(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sp(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Tp(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function xI(n,t){const e=new SI(n,t);return e.subscribe.bind(e)}class SI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");TI(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=wy),i.error===void 0&&(i.error=wy),i.complete===void 0&&(i.complete=wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n){return n&&n._delegate?n._delegate:n}class Th{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NI=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new oI;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RI(t))try{this.getOrInitializeService({instanceIdentifier:yh})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=yh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yh){return this.instances.has(t)}getOptions(t=yh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CI(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=yh){return this.component?this.component.multipleInstances?t:yh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CI(n){return n===yh?void 0:n}function RI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new NI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Kn||(Kn={}));const II={debug:Kn.DEBUG,verbose:Kn.VERBOSE,info:Kn.INFO,warn:Kn.WARN,error:Kn.ERROR,silent:Kn.SILENT},OI=Kn.INFO,kI={[Kn.DEBUG]:"log",[Kn.VERBOSE]:"log",[Kn.INFO]:"info",[Kn.WARN]:"warn",[Kn.ERROR]:"error"},DI=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=kI[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class B5{constructor(t){this.name=t,this._logLevel=OI,this._logHandler=DI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Kn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?II[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Kn.DEBUG,...t),this._logHandler(this,Kn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Kn.VERBOSE,...t),this._logHandler(this,Kn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Kn.INFO,...t),this._logHandler(this,Kn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Kn.WARN,...t),this._logHandler(this,Kn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Kn.ERROR,...t),this._logHandler(this,Kn.ERROR,...t)}}const PI=(n,t)=>t.some(e=>n instanceof e);let I4,O4;function MI(){return I4||(I4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return O4||(O4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,Cv=new WeakMap,dS=new WeakMap,Ey=new WeakMap,F5=new WeakMap;function qI(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(Rc(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&fS.set(e,n)}).catch(()=>{}),F5.set(t,n),t}function UI(n){if(Cv.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Cv.set(n,t)}let Rv={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Cv.get(n);if(t==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Rc(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function BI(n){Rv=n(Rv)}function FI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Ay(this),t,...e);return dS.set(r,t.sort?t.sort():[t]),Rc(r)}:jI().includes(n)?function(...t){return n.apply(Ay(this),t),Rc(fS.get(this))}:function(...t){return Rc(n.apply(Ay(this),t))}}function VI(n){return typeof n=="function"?FI(n):(n instanceof IDBTransaction&&UI(n),PI(n,MI())?new Proxy(n,Rv):n)}function Rc(n){if(n instanceof IDBRequest)return qI(n);if(Ey.has(n))return Ey.get(n);const t=VI(n);return t!==n&&(Ey.set(n,t),F5.set(t,n)),t}const Ay=n=>F5.get(n);function zI(n,t,{blocked:e,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,t),c=Rc(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Rc(l.result),h.oldVersion,h.newVersion,Rc(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const HI=["get","getKey","getAll","getAllKeys","count"],$I=["put","add","delete","clear"],xy=new Map;function k4(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(xy.get(t))return xy.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=$I.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HI.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[e](...c),i&&h.done]))[0]};return xy.set(t,a),a}BI(n=>({...n,get:(t,e,r)=>k4(t,e)||n.get(t,e,r),has:(t,e)=>!!k4(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(KI(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function KI(n){return n.getComponent()?.type==="VERSION"}const Lv="@firebase/app",D4="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new B5("@firebase/app"),WI="@firebase/app-compat",YI="@firebase/analytics-compat",QI="@firebase/analytics",XI="@firebase/app-check-compat",ZI="@firebase/app-check",JI="@firebase/auth",t7="@firebase/auth-compat",e7="@firebase/database",n7="@firebase/data-connect",r7="@firebase/database-compat",i7="@firebase/functions",s7="@firebase/functions-compat",a7="@firebase/installations",o7="@firebase/installations-compat",l7="@firebase/messaging",u7="@firebase/messaging-compat",c7="@firebase/performance",h7="@firebase/performance-compat",f7="@firebase/remote-config",d7="@firebase/remote-config-compat",p7="@firebase/storage",m7="@firebase/storage-compat",g7="@firebase/firestore",y7="@firebase/ai",v7="@firebase/firestore-compat",b7="firebase",_7="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="[DEFAULT]",w7={[Lv]:"fire-core",[WI]:"fire-core-compat",[QI]:"fire-analytics",[YI]:"fire-analytics-compat",[ZI]:"fire-app-check",[XI]:"fire-app-check-compat",[JI]:"fire-auth",[t7]:"fire-auth-compat",[e7]:"fire-rtdb",[n7]:"fire-data-connect",[r7]:"fire-rtdb-compat",[i7]:"fire-fn",[s7]:"fire-fn-compat",[a7]:"fire-iid",[o7]:"fire-iid-compat",[l7]:"fire-fcm",[u7]:"fire-fcm-compat",[c7]:"fire-perf",[h7]:"fire-perf-compat",[f7]:"fire-rc",[d7]:"fire-rc-compat",[p7]:"fire-gcs",[m7]:"fire-gcs-compat",[g7]:"fire-fst",[v7]:"fire-fst-compat",[y7]:"fire-vertex","fire-js":"fire-js",[b7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map,E7=new Map,Ov=new Map;function P4(n,t){try{n.container.addComponent(t)}catch(e){xu.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function nd(n){const t=n.name;if(Ov.has(t))return xu.debug(`There were multiple attempts to register component ${t}.`),!1;Ov.set(t,n);for(const e of O1.values())P4(e,n);for(const e of E7.values())P4(e,n);return!0}function V5(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Co(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lc=new mm("app","Firebase",A7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Th("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=_7;function pS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Iv,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Lc.create("bad-app-name",{appName:String(i)});if(e||(e=lS()),!e)throw Lc.create("no-options");const a=O1.get(i);if(a){if(Sh(e,a.options)&&Sh(r,a.config))return a;throw Lc.create("duplicate-app",{appName:i})}const l=new LI(i);for(const h of Ov.values())l.addComponent(h);const c=new x7(e,r,l);return O1.set(i,c),c}function mS(n=Iv){const t=O1.get(n);if(!t&&n===Iv&&lS())return pS();if(!t)throw Lc.create("no-app",{appName:n});return t}function Ic(n,t,e){let r=w7[n]??n;e&&(r+=`-${e}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${t}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xu.warn(l.join(" "));return}nd(new Th(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="firebase-heartbeat-database",T7=1,Kp="firebase-heartbeat-store";let Sy=null;function gS(){return Sy||(Sy=zI(S7,T7,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Kp)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lc.create("idb-open",{originalErrorMessage:n.message})})),Sy}async function N7(n){try{const e=(await gS()).transaction(Kp),r=await e.objectStore(Kp).get(yS(n));return await e.done,r}catch(t){if(t instanceof ku)xu.warn(t.message);else{const e=Lc.create("idb-get",{originalErrorMessage:t?.message});xu.warn(e.message)}}}async function M4(n,t){try{const r=(await gS()).transaction(Kp,"readwrite");await r.objectStore(Kp).put(t,yS(n)),await r.done}catch(e){if(e instanceof ku)xu.warn(e.message);else{const r=Lc.create("idb-set",{originalErrorMessage:e?.message});xu.warn(r.message)}}}function yS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=1024,R7=30;class L7{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new O7(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>R7){const i=k7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){xu.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j4(),{heartbeatsToSend:e,unsentEntries:r}=I7(this._heartbeatsCache.heartbeats),i=I1(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return xu.warn(t),""}}}function j4(){return new Date().toISOString().substring(0,10)}function I7(n,t=C7){const e=[];let r=n.slice();for(const i of n){const a=e.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),q4(e)>t){a.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),q4(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class O7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?bI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await N7(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function q4(n){return I1(JSON.stringify({version:2,heartbeats:n})).length}function k7(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(n){nd(new Th("platform-logger",t=>new GI(t),"PRIVATE")),nd(new Th("heartbeat",t=>new L7(t),"PRIVATE")),Ic(Lv,D4,n),Ic(Lv,D4,"esm2020"),Ic("fire-js","")}D7("");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P7=vS,bS=new mm("auth","Firebase",vS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new B5("@firebase/auth");function M7(n,...t){k1.logLevel<=Kn.WARN&&k1.warn(`Auth (${gd}): ${n}`,...t)}function d1(n,...t){k1.logLevel<=Kn.ERROR&&k1.error(`Auth (${gd}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n,...t){throw z5(n,...t)}function Dl(n,...t){return z5(n,...t)}function _S(n,t,e){const r={...P7(),[t]:e};return new mm("auth","Firebase",r).create(t,{appName:n.name})}function bu(n){return _S(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z5(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return bS.create(n,...t)}function nn(n,t,...e){if(!n)throw z5(t,...e)}function mu(n){const t="INTERNAL ASSERTION FAILED: "+n;throw d1(t),new Error(t)}function Su(n,t){n||mu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){return typeof self<"u"&&self.location?.href||""}function j7(){return U4()==="http:"||U4()==="https:"}function U4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j7()||pI()||"connection"in navigator)?navigator.onLine:!0}function U7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,e){this.shortDelay=t,this.longDelay=e,Su(e>t,"Short delay should be less than long delay!"),this.isMobile=hI()||mI()}get(){return q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n,t){Su(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V7=new ym(3e4,6e4);function Hc(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function $c(n,t,e,r,i={}){return ES(n,i,async()=>{let a={},l={};r&&(t==="GET"?l=r:a={body:JSON.stringify(r)});const c=gm({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...a};return dI()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&md(n.emulatorConfig.host)&&(f.credentials="include"),wS.fetch()(await AS(n,n.config.apiHost,e,c),f)})}async function ES(n,t,e){n._canInitEmulator=!1;const r={...B7,...t};try{const i=new H7(n),a=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw qg(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw qg(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw qg(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw qg(n,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _S(n,p,f);sl(n,p)}}catch(i){if(i instanceof ku)throw i;sl(n,"network-request-failed",{message:String(i)})}}async function vm(n,t,e,r,i={}){const a=await $c(n,t,e,r,i);return"mfaPendingCredential"in a&&sl(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function AS(n,t,e,r){const i=`${t}${e}?${r}`,a=n,l=a.config.emulator?H5(n.config,i):`${n.config.apiScheme}://${i}`;return F7.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function z7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Dl(this.auth,"network-request-failed")),V7.get())})}}function qg(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Dl(n,t,r);return i.customData._tokenResponse=e,i}function B4(n){return n!==void 0&&n.enterprise!==void 0}class $7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return z7(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G7(n,t){return $c(n,"GET","/v2/recaptchaConfig",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(n,t){return $c(n,"POST","/v1/accounts:delete",t)}async function D1(n,t){return $c(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function W7(n,t=!1){const e=Is(n),r=await e.getIdToken(t),i=$5(r);nn(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:jp(Ty(i.auth_time)),issuedAtTime:jp(Ty(i.iat)),expirationTime:jp(Ty(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ty(n){return Number(n)*1e3}function $5(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return d1("JWT malformed, contained fewer than 3 sections"),null;try{const i=aS(e);return i?JSON.parse(i):(d1("Failed to decode base64 JWT payload"),null)}catch(i){return d1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function F4(n){const t=$5(n);return nn(t,"internal-error"),nn(typeof t.exp<"u","internal-error"),nn(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof ku&&Y7(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Y7({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=jp(this.lastLoginAt),this.creationTime=jp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(n){const t=n.auth,e=await n.getIdToken(),r=await Wp(n,D1(t,{idToken:e}));nn(r?.users.length,t,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?xS(i.providerUserInfo):[],l=Z7(n.providerData,a),c=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!l?.length,f=c?h:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function X7(n){const t=Is(n);await P1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Z7(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function xS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(n,t){const e=await ES(n,{},async()=>{const r=gm({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await AS(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&md(n.emulatorConfig.host)&&(h.credentials="include"),wS.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function tO(n,t){return $c(n,"POST","/v2/accounts:revokeToken",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nn(t.idToken,"internal-error"),nn(typeof t.idToken<"u","internal-error"),nn(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F4(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){nn(t.length!==0,"internal-error");const e=F4(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(nn(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:i,expiresIn:a}=await J7(t,e);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:a}=e,l=new $f;return r&&(nn(typeof r=="string","internal-error",{appName:t}),l.refreshToken=r),i&&(nn(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),a&&(nn(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $f,this.toJSON())}_performRefresh(){return mu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n,t){nn(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class nl{constructor({uid:t,auth:e,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Q7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Wp(this,this.stsTokenManager.getToken(this.auth,t));return nn(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return W7(this,t)}reload(){return X7(this)}_assign(t){this!==t&&(nn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new nl({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await P1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Co(this.auth.app))return Promise.reject(bu(this.auth));const t=await this.getIdToken();return await Wp(this,K7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,i=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,c=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:w,emailVerified:_,isAnonymous:v,providerData:N,stsTokenManager:I}=e;nn(w&&I,t,"internal-error");const k=$f.fromJSON(this.name,I);nn(typeof w=="string",t,"internal-error"),dc(r,t.name),dc(i,t.name),nn(typeof _=="boolean",t,"internal-error"),nn(typeof v=="boolean",t,"internal-error"),dc(a,t.name),dc(l,t.name),dc(c,t.name),dc(h,t.name),dc(f,t.name),dc(p,t.name);const P=new nl({uid:w,auth:t,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:k,createdAt:f,lastLoginAt:p});return N&&Array.isArray(N)&&(P.providerData=N.map(H=>({...H}))),h&&(P._redirectEventId=h),P}static async _fromIdTokenResponse(t,e,r=!1){const i=new $f;i.updateFromServerResponse(e);const a=new nl({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await P1(a),a}static async _fromGetAccountInfoResponse(t,e,r){const i=e.users[0];nn(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?xS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new $f;c.updateFromIdToken(r);const h=new nl({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Map;function gu(n){Su(n instanceof Function,"Expected a class definition");let t=V4.get(n);return t?(Su(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,V4.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}SS.type="NONE";const z4=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,t,e){return`firebase:${n}:${t}:${e}`}class Gf{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=p1(this.userKey,i.apiKey,a),this.fullPersistenceKey=p1("persistence",i.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await D1(this.auth,{idToken:t}).catch(()=>{});return e?nl._fromGetAccountInfoResponse(this.auth,e,t):null}return nl._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Gf(gu(z4),t,r);const i=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||gu(z4);const l=p1(r,t.config.apiKey,t.name);let c=null;for(const f of e)try{const p=await f._get(l);if(p){let w;if(typeof p=="string"){const _=await D1(t,{idToken:p}).catch(()=>{});if(!_)break;w=await nl._fromGetAccountInfoResponse(t,_,p)}else w=nl._fromJSON(t,p);f!==a&&(c=w),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Gf(a,t,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Gf(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IS(t))return"Blackberry";if(OS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||CS(t))&&!t.includes("edge/"))return"Chrome";if(LS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function TS(n=ha()){return/firefox\//i.test(n)}function NS(n=ha()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CS(n=ha()){return/crios\//i.test(n)}function RS(n=ha()){return/iemobile/i.test(n)}function LS(n=ha()){return/android/i.test(n)}function IS(n=ha()){return/blackberry/i.test(n)}function OS(n=ha()){return/webos/i.test(n)}function G5(n=ha()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eO(n=ha()){return G5(n)&&!!window.navigator?.standalone}function nO(){return gI()&&document.documentMode===10}function kS(n=ha()){return G5(n)||LS(n)||OS(n)||IS(n)||/windows phone/i.test(n)||RS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n,t=[]){let e;switch(n){case"Browser":e=H4(ha());break;case"Worker":e=`${H4(ha())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,t={}){return $c(n,"GET","/v2/passwordPolicy",Hc(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=6;class aO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??sO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $4(this),this.idTokenSubscription=new $4(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=gu(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gf.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await D1(this,{idToken:t}),r=await nl._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Co(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await P1(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=U7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Co(this.app))return Promise.reject(bu(this));const e=t?Is(t):null;return e&&nn(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&nn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Co(this.app)?Promise.reject(bu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Co(this.app)?Promise.reject(bu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gu(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iO(this),e=new aO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mm("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await tO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&gu(t)||this._popupRedirectResolver;nn(e,this,"argument-error"),this.redirectPersistenceManager=await Gf.create(this,[gu(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nn(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,r,i);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Co(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&M7(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qh(n){return Is(n)}class $4{constructor(t){this.auth=t,this.observer=null,this.addObserver=xI(e=>this.observer=e)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lO(n){v0=n}function PS(n){return v0.loadJS(n)}function uO(){return v0.recaptchaEnterpriseScript}function cO(){return v0.gapiScript}function hO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fO{constructor(){this.enterprise=new dO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class dO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const pO="recaptcha-enterprise",MS="NO_RECAPTCHA";class mO{constructor(t){this.type=pO,this.auth=qh(t)}async verify(t="verify",e=!1){async function r(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{G7(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new $7(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;B4(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(MS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!e&&B4(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=uO();h.length!==0&&(h+=c),PS(h).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function G4(n,t,e,r=!1,i=!1){const a=new mO(n);let l;if(i)l=MS;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const c={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Pv(n,t,e,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await G4(n,t,e,e==="getOobCode");return r(n,a)}else return r(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await G4(n,t,e,e==="getOobCode");return r(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n,t){const e=V5(n,"auth");if(e.isInitialized()){const i=e.getImmediate(),a=e.getOptions();if(Sh(a,t??{}))return i;sl(i,"already-initialized")}return e.initialize({options:t})}function yO(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(gu);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function vO(n,t,e){const r=qh(n);nn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=jS(t),{host:l,port:c}=bO(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){nn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nn(Sh(f,r.config.emulator)&&Sh(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,md(l)?(cS(`${a}//${l}${h}`),hS("Auth",!0)):_O()}function jS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function bO(n){const t=jS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:K4(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:K4(l)}}}function K4(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _O(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return mu("not implemented")}_getIdTokenResponse(t){return mu("not implemented")}_linkToIdToken(t,e){return mu("not implemented")}_getReauthenticationResolver(t){return mu("not implemented")}}async function wO(n,t){return $c(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,t){return vm(n,"POST","/v1/accounts:signInWithPassword",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n,t){return vm(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,t))}async function xO(n,t){return vm(n,"POST","/v1/accounts:signInWithEmailLink",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends K5{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Yp(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Yp(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(t,e,"signInWithPassword",EO);case"emailLink":return AO(t,{email:this._email,oobCode:this._password});default:sl(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(t,r,"signUpPassword",wO);case"emailLink":return xO(t,{idToken:e,email:this._email,oobCode:this._password});default:sl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(n,t){return vm(n,"POST","/v1/accounts:signInWithIdp",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="http://localhost";class Nh extends K5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Nh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):sl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=e;if(!r||!i)return null;const l=new Nh(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Kf(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Kf(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Kf(t,e)}buildRequest(){const t={requestUri:SO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gm(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NO(n){const t=Sp(Tp(n)).link,e=t?Sp(Tp(t)).deep_link_id:null,r=Sp(Tp(n)).deep_link_id;return(r?Sp(Tp(r)).link:null)||r||e||t||n}class W5{constructor(t){const e=Sp(Tp(t)),r=e.apiKey??null,i=e.oobCode??null,a=TO(e.mode??null);nn(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=NO(t);try{return new W5(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.providerId=yd.PROVIDER_ID}static credential(t,e){return Yp._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=W5.parseLink(e);return nn(r,"argument-error"),Yp._fromEmailAndCode(t,r.code,r.tenantId)}}yd.PROVIDER_ID="password";yd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends qS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends bm{constructor(){super("facebook.com")}static credential(t){return Nh._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vc.credentialFromTaggedObject(t)}static credentialFromError(t){return vc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vc.credential(t.oauthAccessToken)}catch{return null}}}vc.FACEBOOK_SIGN_IN_METHOD="facebook.com";vc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Nh._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return bc.credentialFromTaggedObject(t)}static credentialFromError(t){return bc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return bc.credential(e,r)}catch{return null}}}bc.GOOGLE_SIGN_IN_METHOD="google.com";bc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends bm{constructor(){super("github.com")}static credential(t){return Nh._fromParams({providerId:_c.PROVIDER_ID,signInMethod:_c.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _c.credentialFromTaggedObject(t)}static credentialFromError(t){return _c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _c.credential(t.oauthAccessToken)}catch{return null}}}_c.GITHUB_SIGN_IN_METHOD="github.com";_c.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends bm{constructor(){super("twitter.com")}static credential(t,e){return Nh._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return wc.credentialFromTaggedObject(t)}static credentialFromError(t){return wc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return wc.credential(e,r)}catch{return null}}}wc.TWITTER_SIGN_IN_METHOD="twitter.com";wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,t){return vm(n,"POST","/v1/accounts:signUp",Hc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){const a=await nl._fromIdTokenResponse(t,r,i),l=W4(r);return new Ch({user:a,providerId:l,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const i=W4(r);return new Ch({user:t,providerId:i,_tokenResponse:r,operationType:e})}}function W4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends ku{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,M1.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new M1(t,e,r,i)}}function US(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?M1._fromErrorAndOperation(n,a,t,r):a})}async function RO(n,t,e=!1){const r=await Wp(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ch._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,t,e=!1){const{auth:r}=n;if(Co(r.app))return Promise.reject(bu(r));const i="reauthenticate";try{const a=await Wp(n,US(r,i,t,n),e);nn(a.idToken,r,"internal-error");const l=$5(a.idToken);nn(l,r,"internal-error");const{sub:c}=l;return nn(n.uid===c,r,"user-mismatch"),Ch._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&sl(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(n,t,e=!1){if(Co(n.app))return Promise.reject(bu(n));const r="signIn",i=await US(n,r,t),a=await Ch._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(a.user),a}async function IO(n,t){return BS(qh(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(n){const t=qh(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function OO(n,t,e){if(Co(n.app))return Promise.reject(bu(n));const r=qh(n),l=await Pv(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&FS(n),h}),c=await Ch._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function kO(n,t,e){return Co(n.app)?Promise.reject(bu(n)):IO(Is(n),yd.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FS(n),r})}function DO(n,t,e,r){return Is(n).onIdTokenChanged(t,e,r)}function PO(n,t,e){return Is(n).beforeAuthStateChanged(t,e)}function MO(n,t,e,r){return Is(n).onAuthStateChanged(t,e,r)}const j1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(j1,"1"),this.storage.removeItem(j1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=1e3,qO=10;class zS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),i=this.localCache[e];r!==i&&t(e,i,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!e&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);nO()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,qO):i()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}zS.type="LOCAL";const UO=zS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}HS.type="SESSION";const $S=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const r=new b0(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:i,data:a}=e.data,l=this.handlersMap[i];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(e.origin,a)),h=await BO(c);e.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}b0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=Y5("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const _=w;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(){return window}function VO(n){Pl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof Pl().WorkerGlobalScope<"u"&&typeof Pl().importScripts=="function"}async function zO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HO(){return navigator?.serviceWorker?.controller||null}function $O(){return GS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebaseLocalStorageDb",GO=1,q1="firebaseLocalStorage",WS="fbase_key";class _m{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function _0(n,t){return n.transaction([q1],t?"readwrite":"readonly").objectStore(q1)}function KO(){const n=indexedDB.deleteDatabase(KS);return new _m(n).toPromise()}function Mv(){const n=indexedDB.open(KS,GO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(q1,{keyPath:WS})}catch(i){e(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(q1)?t(r):(r.close(),await KO(),t(await Mv()))})})}async function Y4(n,t,e){const r=_0(n,!0).put({[WS]:t,value:e});return new _m(r).toPromise()}async function WO(n,t){const e=_0(n,!1).get(t),r=await new _m(e).toPromise();return r===void 0?null:r.value}function Q4(n,t){const e=_0(n,!0).delete(t);return new _m(e).toPromise()}const YO=800,QO=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>QO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=b0._getInstance($O()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mv();return await Y4(t,j1,"1"),await Q4(t,j1),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y4(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>WO(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Q4(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=_0(i,!1).getAll();return new _m(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const XO=YS;new ym(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n,t){return t?gu(t):(nn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends K5{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kf(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Kf(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Kf(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function JO(n){return BS(n.auth,new Q5(n),n.bypassAuthState)}function tk(n){const{auth:t,user:e}=n;return nn(e,t,"internal-error"),LO(e,new Q5(n),n.bypassAuthState)}async function ek(n){const{auth:t,user:e}=n;return nn(e,t,"internal-error"),RO(e,new Q5(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,e,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JO;case"linkViaPopup":case"linkViaRedirect":return ek;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:sl(this.auth,"internal-error")}}resolve(t){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new ym(2e3,1e4);class zf extends QS{constructor(t,e,r,i,a){super(t,e,i,a),this.provider=r,this.authWindow=null,this.pollId=null,zf.currentPopupAction&&zf.currentPopupAction.cancel(),zf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nn(t,this.auth,"internal-error"),t}async onExecution(){Su(this.filter.length===1,"Popup operations only handle one event");const t=Y5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Dl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zf.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nk.get())};t()}}zf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="pendingRedirect",m1=new Map;class ik extends QS{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=m1.get(this.auth._key());if(!t){try{const r=await sk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}m1.set(this.auth._key(),t)}return this.bypassAuthState||m1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sk(n,t){const e=lk(t),r=ok(n);if(!await r._isAvailable())return!1;const i=await r._get(e)==="true";return await r._remove(e),i}function ak(n,t){m1.set(n._key(),t)}function ok(n){return gu(n._redirectPersistence)}function lk(n){return p1(rk,n.config.apiKey,n.name)}async function uk(n,t,e=!1){if(Co(n.app))return Promise.reject(bu(n));const r=qh(n),i=ZO(r,t),l=await new ik(r,i,e).execute();return l&&!e&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=600*1e3;class hk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!XS(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Dl(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ck&&this.cachedEventUids.clear(),this.cachedEventUids.has(X4(t))}saveEventToCache(t){this.cachedEventUids.add(X4(t)),this.lastProcessedEventTime=Date.now()}}function X4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function XS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function fk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(n,t={}){return $c(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mk=/^https?/;async function gk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await dk(n);for(const e of t)try{if(yk(e))return}catch{}sl(n,"unauthorized-domain")}function yk(n){const t=kv(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===r}if(!mk.test(e))return!1;if(pk.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new ym(3e4,6e4);function Z4(){const n=Pl().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function bk(n){return new Promise((t,e)=>{function r(){Z4(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z4(),e(Dl(n,"network-request-failed"))},timeout:vk.get()})}if(Pl().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pl().gapi?.load)r();else{const i=hO("iframefcb");return Pl()[i]=()=>{gapi.load?r():e(Dl(n,"network-request-failed"))},PS(`${cO()}?onload=${i}`).catch(a=>e(a))}}).catch(t=>{throw g1=null,t})}let g1=null;function _k(n){return g1=g1||bk(n),g1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new ym(5e3,15e3),Ek="__/auth/iframe",Ak="emulator/auth/iframe",xk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tk(n){const t=n.config;nn(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?H5(t,Ak):`https://${n.config.authDomain}/${Ek}`,r={apiKey:t.apiKey,appName:n.name,v:gd},i=Sk.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${e}?${gm(r).slice(1)}`}async function Nk(n){const t=await _k(n),e=Pl().gapi;return nn(e,n,"internal-error"),t.open({where:document.body,url:Tk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xk,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Dl(n,"network-request-failed"),c=Pl().setTimeout(()=>{a(l)},wk.get());function h(){Pl().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rk=500,Lk=600,Ik="_blank",Ok="http://localhost";class J4{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kk(n,t,e,r=Rk,i=Lk){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...Ck,width:r.toString(),height:i.toString(),top:a,left:l},f=ha().toLowerCase();e&&(c=CS(f)?Ik:e),TS(f)&&(t=t||Ok,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[v,N])=>`${_}${v}=${N},`,"");if(eO(f)&&c!=="_self")return Dk(t||"",c),new J4(null);const w=window.open(t||"",c,p);nn(w,n,"popup-blocked");try{w.focus()}catch{}return new J4(w)}function Dk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="__/auth/handler",Mk="emulator/auth/handler",jk=encodeURIComponent("fac");async function t3(n,t,e,r,i,a){nn(n.config.authDomain,n,"auth-domain-config-required"),nn(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:gd,eventId:i};if(t instanceof qS){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",AI(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,w]of Object.entries({}))l[p]=w}if(t instanceof bm){const p=t.getScopes().filter(w=>w!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await n._getAppCheckToken(),f=h?`#${jk}=${encodeURIComponent(h)}`:"";return`${qk(n)}?${gm(c).slice(1)}${f}`}function qk({config:n}){return n.emulator?H5(n,Mk):`https://${n.authDomain}/${Pk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="webStorageSupport";class Uk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$S,this._completeRedirectFn=uk,this._overrideRedirectResult=ak}async _openPopup(t,e,r,i){Su(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await t3(t,e,r,kv(),i);return kk(t,a,Y5())}async _openRedirect(t,e,r,i){await this._originValidation(t);const a=await t3(t,e,r,kv(),i);return VO(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:a}=this.eventManagers[e];return i?Promise.resolve(i):(Su(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await Nk(t),r=new hk(t);return e.register("authEvent",i=>(nn(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ny,{type:Ny},i=>{const a=i?.[0]?.[Ny];a!==void 0&&e(!!a),sl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=gk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return kS()||NS()||G5()}}const Bk=Uk;var e3="@firebase/auth",n3="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zk(n){nd(new Th("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nn(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(n)},f=new oO(r,i,a,h);return yO(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),nd(new Th("auth-internal",t=>{const e=qh(t.getProvider("auth").getImmediate());return(r=>new Fk(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ic(e3,n3,Vk(n)),Ic(e3,n3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=300,$k=uS("authIdTokenMaxAge")||Hk;let r3=null;const Gk=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>$k)return;const i=e?.token;r3!==i&&(r3=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kk(n=mS()){const t=V5(n,"auth");if(t.isInitialized())return t.getImmediate();const e=gO(n,{popupRedirectResolver:Bk,persistence:[XO,UO,$S]}),r=uS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Gk(a.toString());PO(e,l,()=>l(e.currentUser)),DO(e,c=>l(c))}}const i=oS("auth");return i&&vO(e,`http://${i}`),e}function Wk(){return document.getElementsByTagName("head")?.[0]??document}lO({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const a=Dl("internal-error");a.customData=i,e(a)},r.type="text/javascript",r.charset="UTF-8",Wk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zk("Browser");var Yk="firebase",Qk="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic(Yk,Qk,"app");var i3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oc,ZS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(K,U){function M(){}M.prototype=U.prototype,K.D=U.prototype,K.prototype=new M,K.prototype.constructor=K,K.C=function(G,S,O){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return U.prototype[S].apply(G,R)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(K,U,M){M||(M=0);var G=Array(16);if(typeof U=="string")for(var S=0;16>S;++S)G[S]=U.charCodeAt(M++)|U.charCodeAt(M++)<<8|U.charCodeAt(M++)<<16|U.charCodeAt(M++)<<24;else for(S=0;16>S;++S)G[S]=U[M++]|U[M++]<<8|U[M++]<<16|U[M++]<<24;U=K.g[0],M=K.g[1],S=K.g[2];var O=K.g[3],R=U+(O^M&(S^O))+G[0]+3614090360&4294967295;U=M+(R<<7&4294967295|R>>>25),R=O+(S^U&(M^S))+G[1]+3905402710&4294967295,O=U+(R<<12&4294967295|R>>>20),R=S+(M^O&(U^M))+G[2]+606105819&4294967295,S=O+(R<<17&4294967295|R>>>15),R=M+(U^S&(O^U))+G[3]+3250441966&4294967295,M=S+(R<<22&4294967295|R>>>10),R=U+(O^M&(S^O))+G[4]+4118548399&4294967295,U=M+(R<<7&4294967295|R>>>25),R=O+(S^U&(M^S))+G[5]+1200080426&4294967295,O=U+(R<<12&4294967295|R>>>20),R=S+(M^O&(U^M))+G[6]+2821735955&4294967295,S=O+(R<<17&4294967295|R>>>15),R=M+(U^S&(O^U))+G[7]+4249261313&4294967295,M=S+(R<<22&4294967295|R>>>10),R=U+(O^M&(S^O))+G[8]+1770035416&4294967295,U=M+(R<<7&4294967295|R>>>25),R=O+(S^U&(M^S))+G[9]+2336552879&4294967295,O=U+(R<<12&4294967295|R>>>20),R=S+(M^O&(U^M))+G[10]+4294925233&4294967295,S=O+(R<<17&4294967295|R>>>15),R=M+(U^S&(O^U))+G[11]+2304563134&4294967295,M=S+(R<<22&4294967295|R>>>10),R=U+(O^M&(S^O))+G[12]+1804603682&4294967295,U=M+(R<<7&4294967295|R>>>25),R=O+(S^U&(M^S))+G[13]+4254626195&4294967295,O=U+(R<<12&4294967295|R>>>20),R=S+(M^O&(U^M))+G[14]+2792965006&4294967295,S=O+(R<<17&4294967295|R>>>15),R=M+(U^S&(O^U))+G[15]+1236535329&4294967295,M=S+(R<<22&4294967295|R>>>10),R=U+(S^O&(M^S))+G[1]+4129170786&4294967295,U=M+(R<<5&4294967295|R>>>27),R=O+(M^S&(U^M))+G[6]+3225465664&4294967295,O=U+(R<<9&4294967295|R>>>23),R=S+(U^M&(O^U))+G[11]+643717713&4294967295,S=O+(R<<14&4294967295|R>>>18),R=M+(O^U&(S^O))+G[0]+3921069994&4294967295,M=S+(R<<20&4294967295|R>>>12),R=U+(S^O&(M^S))+G[5]+3593408605&4294967295,U=M+(R<<5&4294967295|R>>>27),R=O+(M^S&(U^M))+G[10]+38016083&4294967295,O=U+(R<<9&4294967295|R>>>23),R=S+(U^M&(O^U))+G[15]+3634488961&4294967295,S=O+(R<<14&4294967295|R>>>18),R=M+(O^U&(S^O))+G[4]+3889429448&4294967295,M=S+(R<<20&4294967295|R>>>12),R=U+(S^O&(M^S))+G[9]+568446438&4294967295,U=M+(R<<5&4294967295|R>>>27),R=O+(M^S&(U^M))+G[14]+3275163606&4294967295,O=U+(R<<9&4294967295|R>>>23),R=S+(U^M&(O^U))+G[3]+4107603335&4294967295,S=O+(R<<14&4294967295|R>>>18),R=M+(O^U&(S^O))+G[8]+1163531501&4294967295,M=S+(R<<20&4294967295|R>>>12),R=U+(S^O&(M^S))+G[13]+2850285829&4294967295,U=M+(R<<5&4294967295|R>>>27),R=O+(M^S&(U^M))+G[2]+4243563512&4294967295,O=U+(R<<9&4294967295|R>>>23),R=S+(U^M&(O^U))+G[7]+1735328473&4294967295,S=O+(R<<14&4294967295|R>>>18),R=M+(O^U&(S^O))+G[12]+2368359562&4294967295,M=S+(R<<20&4294967295|R>>>12),R=U+(M^S^O)+G[5]+4294588738&4294967295,U=M+(R<<4&4294967295|R>>>28),R=O+(U^M^S)+G[8]+2272392833&4294967295,O=U+(R<<11&4294967295|R>>>21),R=S+(O^U^M)+G[11]+1839030562&4294967295,S=O+(R<<16&4294967295|R>>>16),R=M+(S^O^U)+G[14]+4259657740&4294967295,M=S+(R<<23&4294967295|R>>>9),R=U+(M^S^O)+G[1]+2763975236&4294967295,U=M+(R<<4&4294967295|R>>>28),R=O+(U^M^S)+G[4]+1272893353&4294967295,O=U+(R<<11&4294967295|R>>>21),R=S+(O^U^M)+G[7]+4139469664&4294967295,S=O+(R<<16&4294967295|R>>>16),R=M+(S^O^U)+G[10]+3200236656&4294967295,M=S+(R<<23&4294967295|R>>>9),R=U+(M^S^O)+G[13]+681279174&4294967295,U=M+(R<<4&4294967295|R>>>28),R=O+(U^M^S)+G[0]+3936430074&4294967295,O=U+(R<<11&4294967295|R>>>21),R=S+(O^U^M)+G[3]+3572445317&4294967295,S=O+(R<<16&4294967295|R>>>16),R=M+(S^O^U)+G[6]+76029189&4294967295,M=S+(R<<23&4294967295|R>>>9),R=U+(M^S^O)+G[9]+3654602809&4294967295,U=M+(R<<4&4294967295|R>>>28),R=O+(U^M^S)+G[12]+3873151461&4294967295,O=U+(R<<11&4294967295|R>>>21),R=S+(O^U^M)+G[15]+530742520&4294967295,S=O+(R<<16&4294967295|R>>>16),R=M+(S^O^U)+G[2]+3299628645&4294967295,M=S+(R<<23&4294967295|R>>>9),R=U+(S^(M|~O))+G[0]+4096336452&4294967295,U=M+(R<<6&4294967295|R>>>26),R=O+(M^(U|~S))+G[7]+1126891415&4294967295,O=U+(R<<10&4294967295|R>>>22),R=S+(U^(O|~M))+G[14]+2878612391&4294967295,S=O+(R<<15&4294967295|R>>>17),R=M+(O^(S|~U))+G[5]+4237533241&4294967295,M=S+(R<<21&4294967295|R>>>11),R=U+(S^(M|~O))+G[12]+1700485571&4294967295,U=M+(R<<6&4294967295|R>>>26),R=O+(M^(U|~S))+G[3]+2399980690&4294967295,O=U+(R<<10&4294967295|R>>>22),R=S+(U^(O|~M))+G[10]+4293915773&4294967295,S=O+(R<<15&4294967295|R>>>17),R=M+(O^(S|~U))+G[1]+2240044497&4294967295,M=S+(R<<21&4294967295|R>>>11),R=U+(S^(M|~O))+G[8]+1873313359&4294967295,U=M+(R<<6&4294967295|R>>>26),R=O+(M^(U|~S))+G[15]+4264355552&4294967295,O=U+(R<<10&4294967295|R>>>22),R=S+(U^(O|~M))+G[6]+2734768916&4294967295,S=O+(R<<15&4294967295|R>>>17),R=M+(O^(S|~U))+G[13]+1309151649&4294967295,M=S+(R<<21&4294967295|R>>>11),R=U+(S^(M|~O))+G[4]+4149444226&4294967295,U=M+(R<<6&4294967295|R>>>26),R=O+(M^(U|~S))+G[11]+3174756917&4294967295,O=U+(R<<10&4294967295|R>>>22),R=S+(U^(O|~M))+G[2]+718787259&4294967295,S=O+(R<<15&4294967295|R>>>17),R=M+(O^(S|~U))+G[9]+3951481745&4294967295,K.g[0]=K.g[0]+U&4294967295,K.g[1]=K.g[1]+(S+(R<<21&4294967295|R>>>11))&4294967295,K.g[2]=K.g[2]+S&4294967295,K.g[3]=K.g[3]+O&4294967295}r.prototype.u=function(K,U){U===void 0&&(U=K.length);for(var M=U-this.blockSize,G=this.B,S=this.h,O=0;O<U;){if(S==0)for(;O<=M;)i(this,K,O),O+=this.blockSize;if(typeof K=="string"){for(;O<U;)if(G[S++]=K.charCodeAt(O++),S==this.blockSize){i(this,G),S=0;break}}else for(;O<U;)if(G[S++]=K[O++],S==this.blockSize){i(this,G),S=0;break}}this.h=S,this.o+=U},r.prototype.v=function(){var K=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);K[0]=128;for(var U=1;U<K.length-8;++U)K[U]=0;var M=8*this.o;for(U=K.length-8;U<K.length;++U)K[U]=M&255,M/=256;for(this.u(K),K=Array(16),U=M=0;4>U;++U)for(var G=0;32>G;G+=8)K[M++]=this.g[U]>>>G&255;return K};function a(K,U){var M=c;return Object.prototype.hasOwnProperty.call(M,K)?M[K]:M[K]=U(K)}function l(K,U){this.h=U;for(var M=[],G=!0,S=K.length-1;0<=S;S--){var O=K[S]|0;G&&O==U||(M[S]=O,G=!1)}this.g=M}var c={};function h(K){return-128<=K&&128>K?a(K,function(U){return new l([U|0],0>U?-1:0)}):new l([K|0],0>K?-1:0)}function f(K){if(isNaN(K)||!isFinite(K))return w;if(0>K)return k(f(-K));for(var U=[],M=1,G=0;K>=M;G++)U[G]=K/M|0,M*=4294967296;return new l(U,0)}function p(K,U){if(K.length==0)throw Error("number format error: empty string");if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(K.charAt(0)=="-")return k(p(K.substring(1),U));if(0<=K.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(U,8)),G=w,S=0;S<K.length;S+=8){var O=Math.min(8,K.length-S),R=parseInt(K.substring(S,S+O),U);8>O?(O=f(Math.pow(U,O)),G=G.j(O).add(f(R))):(G=G.j(M),G=G.add(f(R)))}return G}var w=h(0),_=h(1),v=h(16777216);n=l.prototype,n.m=function(){if(I(this))return-k(this).m();for(var K=0,U=1,M=0;M<this.g.length;M++){var G=this.i(M);K+=(0<=G?G:4294967296+G)*U,U*=4294967296}return K},n.toString=function(K){if(K=K||10,2>K||36<K)throw Error("radix out of range: "+K);if(N(this))return"0";if(I(this))return"-"+k(this).toString(K);for(var U=f(Math.pow(K,6)),M=this,G="";;){var S=Z(M,U).g;M=P(M,S.j(U));var O=((0<M.g.length?M.g[0]:M.h)>>>0).toString(K);if(M=S,N(M))return O+G;for(;6>O.length;)O="0"+O;G=O+G}},n.i=function(K){return 0>K?0:K<this.g.length?this.g[K]:this.h};function N(K){if(K.h!=0)return!1;for(var U=0;U<K.g.length;U++)if(K.g[U]!=0)return!1;return!0}function I(K){return K.h==-1}n.l=function(K){return K=P(this,K),I(K)?-1:N(K)?0:1};function k(K){for(var U=K.g.length,M=[],G=0;G<U;G++)M[G]=~K.g[G];return new l(M,~K.h).add(_)}n.abs=function(){return I(this)?k(this):this},n.add=function(K){for(var U=Math.max(this.g.length,K.g.length),M=[],G=0,S=0;S<=U;S++){var O=G+(this.i(S)&65535)+(K.i(S)&65535),R=(O>>>16)+(this.i(S)>>>16)+(K.i(S)>>>16);G=R>>>16,O&=65535,R&=65535,M[S]=R<<16|O}return new l(M,M[M.length-1]&-2147483648?-1:0)};function P(K,U){return K.add(k(U))}n.j=function(K){if(N(this)||N(K))return w;if(I(this))return I(K)?k(this).j(k(K)):k(k(this).j(K));if(I(K))return k(this.j(k(K)));if(0>this.l(v)&&0>K.l(v))return f(this.m()*K.m());for(var U=this.g.length+K.g.length,M=[],G=0;G<2*U;G++)M[G]=0;for(G=0;G<this.g.length;G++)for(var S=0;S<K.g.length;S++){var O=this.i(G)>>>16,R=this.i(G)&65535,at=K.i(S)>>>16,vt=K.i(S)&65535;M[2*G+2*S]+=R*vt,H(M,2*G+2*S),M[2*G+2*S+1]+=O*vt,H(M,2*G+2*S+1),M[2*G+2*S+1]+=R*at,H(M,2*G+2*S+1),M[2*G+2*S+2]+=O*at,H(M,2*G+2*S+2)}for(G=0;G<U;G++)M[G]=M[2*G+1]<<16|M[2*G];for(G=U;G<2*U;G++)M[G]=0;return new l(M,0)};function H(K,U){for(;(K[U]&65535)!=K[U];)K[U+1]+=K[U]>>>16,K[U]&=65535,U++}function X(K,U){this.g=K,this.h=U}function Z(K,U){if(N(U))throw Error("division by zero");if(N(K))return new X(w,w);if(I(K))return U=Z(k(K),U),new X(k(U.g),k(U.h));if(I(U))return U=Z(K,k(U)),new X(k(U.g),U.h);if(30<K.g.length){if(I(K)||I(U))throw Error("slowDivide_ only works with positive integers.");for(var M=_,G=U;0>=G.l(K);)M=pt(M),G=pt(G);var S=wt(M,1),O=wt(G,1);for(G=wt(G,2),M=wt(M,2);!N(G);){var R=O.add(G);0>=R.l(K)&&(S=S.add(M),O=R),G=wt(G,1),M=wt(M,1)}return U=P(K,S.j(U)),new X(S,U)}for(S=w;0<=K.l(U);){for(M=Math.max(1,Math.floor(K.m()/U.m())),G=Math.ceil(Math.log(M)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),O=f(M),R=O.j(U);I(R)||0<R.l(K);)M-=G,O=f(M),R=O.j(U);N(O)&&(O=_),S=S.add(O),K=P(K,R)}return new X(S,K)}n.A=function(K){return Z(this,K).h},n.and=function(K){for(var U=Math.max(this.g.length,K.g.length),M=[],G=0;G<U;G++)M[G]=this.i(G)&K.i(G);return new l(M,this.h&K.h)},n.or=function(K){for(var U=Math.max(this.g.length,K.g.length),M=[],G=0;G<U;G++)M[G]=this.i(G)|K.i(G);return new l(M,this.h|K.h)},n.xor=function(K){for(var U=Math.max(this.g.length,K.g.length),M=[],G=0;G<U;G++)M[G]=this.i(G)^K.i(G);return new l(M,this.h^K.h)};function pt(K){for(var U=K.g.length+1,M=[],G=0;G<U;G++)M[G]=K.i(G)<<1|K.i(G-1)>>>31;return new l(M,K.h)}function wt(K,U){var M=U>>5;U%=32;for(var G=K.g.length-M,S=[],O=0;O<G;O++)S[O]=0<U?K.i(O+M)>>>U|K.i(O+M+1)<<32-U:K.i(O+M);return new l(S,K.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Oc=l}).apply(typeof i3<"u"?i3:typeof self<"u"?self:typeof window<"u"?window:{});var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JS,Np,tT,y1,jv,eT,nT,rT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,C,j){return g==Array.prototype||g==Object.prototype||(g[C]=j.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ug=="object"&&Ug];for(var C=0;C<g.length;++C){var j=g[C];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=e(this);function i(g,C){if(C)t:{var j=r;g=g.split(".");for(var it=0;it<g.length-1;it++){var Ot=g[it];if(!(Ot in j))break t;j=j[Ot]}g=g[g.length-1],it=j[g],C=C(it),C!=it&&C!=null&&t(j,g,{configurable:!0,writable:!0,value:C})}}function a(g,C){g instanceof String&&(g+="");var j=0,it=!1,Ot={next:function(){if(!it&&j<g.length){var Vt=j++;return{value:C(Vt,g[Vt]),done:!1}}return it=!0,{done:!0,value:void 0}}};return Ot[Symbol.iterator]=function(){return Ot},Ot}i("Array.prototype.values",function(g){return g||function(){return a(this,function(C,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var C=typeof g;return C=C!="object"?C:g?Array.isArray(g)?"array":C:"null",C=="array"||C=="object"&&typeof g.length=="number"}function f(g){var C=typeof g;return C=="object"&&g!=null||C=="function"}function p(g,C,j){return g.call.apply(g.bind,arguments)}function w(g,C,j){if(!g)throw Error();if(2<arguments.length){var it=Array.prototype.slice.call(arguments,2);return function(){var Ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ot,it),g.apply(C,Ot)}}return function(){return g.apply(C,arguments)}}function _(g,C,j){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:w,_.apply(null,arguments)}function v(g,C){var j=Array.prototype.slice.call(arguments,1);return function(){var it=j.slice();return it.push.apply(it,arguments),g.apply(this,it)}}function N(g,C){function j(){}j.prototype=C.prototype,g.aa=C.prototype,g.prototype=new j,g.prototype.constructor=g,g.Qb=function(it,Ot,Vt){for(var le=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)le[kn-2]=arguments[kn];return C.prototype[Ot].apply(it,le)}}function I(g){const C=g.length;if(0<C){const j=Array(C);for(let it=0;it<C;it++)j[it]=g[it];return j}return[]}function k(g,C){for(let j=1;j<arguments.length;j++){const it=arguments[j];if(h(it)){const Ot=g.length||0,Vt=it.length||0;g.length=Ot+Vt;for(let le=0;le<Vt;le++)g[Ot+le]=it[le]}else g.push(it)}}class P{constructor(C,j){this.i=C,this.j=j,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function H(g){return/^[\s\xa0]*$/.test(g)}function X(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function Z(g){return Z[" "](g),g}Z[" "]=function(){};var pt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function wt(g,C,j){for(const it in g)C.call(j,g[it],it,g)}function K(g,C){for(const j in g)C.call(void 0,g[j],j,g)}function U(g){const C={};for(const j in g)C[j]=g[j];return C}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(g,C){let j,it;for(let Ot=1;Ot<arguments.length;Ot++){it=arguments[Ot];for(j in it)g[j]=it[j];for(let Vt=0;Vt<M.length;Vt++)j=M[Vt],Object.prototype.hasOwnProperty.call(it,j)&&(g[j]=it[j])}}function S(g){var C=1;g=g.split(":");const j=[];for(;0<C&&g.length;)j.push(g.shift()),C--;return g.length&&j.push(g.join(":")),j}function O(g){c.setTimeout(()=>{throw g},0)}function R(){var g=Et;let C=null;return g.g&&(C=g.g,g.g=g.g.next,g.g||(g.h=null),C.next=null),C}class at{constructor(){this.h=this.g=null}add(C,j){const it=vt.get();it.set(C,j),this.h?this.h.next=it:this.g=it,this.h=it}}var vt=new P(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(C,j){this.h=C,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,ct=!1,Et=new at,W=()=>{const g=c.Promise.resolve(void 0);ut=()=>{g.then(gt)}};var gt=()=>{for(var g;g=R();){try{g.h.call(g.g)}catch(j){O(j)}var C=vt;C.j(g),100>C.h&&(C.h++,g.next=C.g,C.g=g)}ct=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(g,C){this.type=g,this.g=this.target=C,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var nt=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,C=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};c.addEventListener("test",j,C),c.removeEventListener("test",j,C)}catch{}return g})();function lt(g,C){if(z.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var j=this.type=g.type,it=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=C,C=g.relatedTarget){if(pt){t:{try{Z(C.nodeName);var Ot=!0;break t}catch{}Ot=!1}Ot||(C=null)}}else j=="mouseover"?C=g.fromElement:j=="mouseout"&&(C=g.toElement);this.relatedTarget=C,it?(this.clientX=it.clientX!==void 0?it.clientX:it.pageX,this.clientY=it.clientY!==void 0?it.clientY:it.pageY,this.screenX=it.screenX||0,this.screenY=it.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:mt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&lt.aa.h.call(this)}}N(lt,z);var mt={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),St=0;function Rt(g,C,j,it,Ot){this.listener=g,this.proxy=null,this.src=C,this.type=j,this.capture=!!it,this.ha=Ot,this.key=++St,this.da=this.fa=!1}function Mt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function zt(g){this.src=g,this.g={},this.h=0}zt.prototype.add=function(g,C,j,it,Ot){var Vt=g.toString();g=this.g[Vt],g||(g=this.g[Vt]=[],this.h++);var le=Bt(g,C,it,Ot);return-1<le?(C=g[le],j||(C.fa=!1)):(C=new Rt(C,this.src,Vt,!!it,Ot),C.fa=j,g.push(C)),C};function Qt(g,C){var j=C.type;if(j in g.g){var it=g.g[j],Ot=Array.prototype.indexOf.call(it,C,void 0),Vt;(Vt=0<=Ot)&&Array.prototype.splice.call(it,Ot,1),Vt&&(Mt(C),g.g[j].length==0&&(delete g.g[j],g.h--))}}function Bt(g,C,j,it){for(var Ot=0;Ot<g.length;++Ot){var Vt=g[Ot];if(!Vt.da&&Vt.listener==C&&Vt.capture==!!j&&Vt.ha==it)return Ot}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),st={};function we(g,C,j,it,Ot){if(Array.isArray(C)){for(var Vt=0;Vt<C.length;Vt++)we(g,C[Vt],j,it,Ot);return null}return j=Pe(j),g&&g[At]?g.K(C,j,f(it)?!!it.capture:!1,Ot):he(g,C,j,!1,it,Ot)}function he(g,C,j,it,Ot,Vt){if(!C)throw Error("Invalid event type");var le=f(Ot)?!!Ot.capture:!!Ot,kn=ge(g);if(kn||(g[Nt]=kn=new zt(g)),j=kn.add(C,j,it,le,Vt),j.proxy)return j;if(it=xe(),j.proxy=it,it.src=g,it.listener=j,g.addEventListener)nt||(Ot=le),Ot===void 0&&(Ot=!1),g.addEventListener(C.toString(),it,Ot);else if(g.attachEvent)g.attachEvent(ue(C.toString()),it);else if(g.addListener&&g.removeListener)g.addListener(it);else throw Error("addEventListener and attachEvent are unavailable.");return j}function xe(){function g(j){return C.call(g.src,g.listener,j)}const C=Ge;return g}function ee(g,C,j,it,Ot){if(Array.isArray(C))for(var Vt=0;Vt<C.length;Vt++)ee(g,C[Vt],j,it,Ot);else it=f(it)?!!it.capture:!!it,j=Pe(j),g&&g[At]?(g=g.i,C=String(C).toString(),C in g.g&&(Vt=g.g[C],j=Bt(Vt,j,it,Ot),-1<j&&(Mt(Vt[j]),Array.prototype.splice.call(Vt,j,1),Vt.length==0&&(delete g.g[C],g.h--)))):g&&(g=ge(g))&&(C=g.g[C.toString()],g=-1,C&&(g=Bt(C,j,it,Ot)),(j=-1<g?C[g]:null)&&de(j))}function de(g){if(typeof g!="number"&&g&&!g.da){var C=g.src;if(C&&C[At])Qt(C.i,g);else{var j=g.type,it=g.proxy;C.removeEventListener?C.removeEventListener(j,it,g.capture):C.detachEvent?C.detachEvent(ue(j),it):C.addListener&&C.removeListener&&C.removeListener(it),(j=ge(C))?(Qt(j,g),j.h==0&&(j.src=null,C[Nt]=null)):Mt(g)}}}function ue(g){return g in st?st[g]:st[g]="on"+g}function Ge(g,C){if(g.da)g=!0;else{C=new lt(C,this);var j=g.listener,it=g.ha||g.src;g.fa&&de(g),g=j.call(it,C)}return g}function ge(g){return g=g[Nt],g instanceof zt?g:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(g){return typeof g=="function"?g:(g[Ye]||(g[Ye]=function(C){return g.handleEvent(C)}),g[Ye])}function oe(){q.call(this),this.i=new zt(this),this.M=this,this.F=null}N(oe,q),oe.prototype[At]=!0,oe.prototype.removeEventListener=function(g,C,j,it){ee(this,g,C,j,it)};function pe(g,C){var j,it=g.F;if(it)for(j=[];it;it=it.F)j.push(it);if(g=g.M,it=C.type||C,typeof C=="string")C=new z(C,g);else if(C instanceof z)C.target=C.target||g;else{var Ot=C;C=new z(it,g),G(C,Ot)}if(Ot=!0,j)for(var Vt=j.length-1;0<=Vt;Vt--){var le=C.g=j[Vt];Ot=se(le,it,!0,C)&&Ot}if(le=C.g=g,Ot=se(le,it,!0,C)&&Ot,Ot=se(le,it,!1,C)&&Ot,j)for(Vt=0;Vt<j.length;Vt++)le=C.g=j[Vt],Ot=se(le,it,!1,C)&&Ot}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var g=this.i,C;for(C in g.g){for(var j=g.g[C],it=0;it<j.length;it++)Mt(j[it]);delete g.g[C],g.h--}}this.F=null},oe.prototype.K=function(g,C,j,it){return this.i.add(String(g),C,!1,j,it)},oe.prototype.L=function(g,C,j,it){return this.i.add(String(g),C,!0,j,it)};function se(g,C,j,it){if(C=g.i.g[String(C)],!C)return!0;C=C.concat();for(var Ot=!0,Vt=0;Vt<C.length;++Vt){var le=C[Vt];if(le&&!le.da&&le.capture==j){var kn=le.listener,zr=le.ha||le.src;le.fa&&Qt(g.i,le),Ot=kn.call(zr,it)!==!1&&Ot}}return Ot&&!it.defaultPrevented}function ce(g,C,j){if(typeof g=="function")j&&(g=_(g,j));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(g,C||0)}function ve(g){g.g=ce(()=>{g.g=null,g.i&&(g.i=!1,ve(g))},g.l);const C=g.h;g.h=null,g.m.apply(null,C)}class Ne extends q{constructor(C,j){super(),this.m=C,this.l=j,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(g){q.call(this),this.h=g,this.g={}}N(Rn,q);var xn=[];function ye(g){wt(g.g,function(C,j){this.g.hasOwnProperty(j)&&de(C)},g),g.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),ye(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=c.JSON.stringify,Ln=c.JSON.parse,Re=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function tn(){}tn.prototype.h=null;function qe(g){return g.h||(g.h=g.i())}function Jn(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){z.call(this,"d")}N(gn,z);function He(){z.call(this,"c")}N(He,z);var en={},us=null;function pr(){return us=us||new oe}en.La="serverreachability";function Si(g){z.call(this,en.La,g)}N(Si,z);function Cr(g){const C=pr();pe(C,new Si(C))}en.STAT_EVENT="statevent";function Be(g,C){z.call(this,en.STAT_EVENT,g),this.stat=C}N(Be,z);function _n(g){const C=pr();pe(C,new Be(C,g))}en.Ma="timingevent";function ir(g,C){z.call(this,en.Ma,g),this.size=C}N(ir,z);function Un(g,C){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},C)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function sr(g,C,j,it,Ot,Vt){g.info(function(){if(g.g)if(Vt)for(var le="",kn=Vt.split("&"),zr=0;zr<kn.length;zr++){var Dn=kn[zr].split("=");if(1<Dn.length){var Mn=Dn[0];Dn=Dn[1];var fr=Mn.split("_");le=2<=fr.length&&fr[1]=="type"?le+(Mn+"="+Dn+"&"):le+(Mn+"=redacted&")}}else le=null;else le=Vt;return"XMLHTTP REQ ("+it+") [attempt "+Ot+"]: "+C+`
`+j+`
`+le})}function Rr(g,C,j,it,Ot,Vt,le){g.info(function(){return"XMLHTTP RESP ("+it+") [ attempt "+Ot+"]: "+C+`
`+j+`
`+Vt+" "+le})}function wn(g,C,j,it){g.info(function(){return"XMLHTTP TEXT ("+C+"): "+Qi(g,j)+(it?" "+it:"")})}function Js(g,C){g.info(function(){return"TIMEOUT: "+C})}wr.prototype.info=function(){};function Qi(g,C){if(!g.g)return C;if(!C)return null;try{var j=JSON.parse(C);if(j){for(g=0;g<j.length;g++)if(Array.isArray(j[g])){var it=j[g];if(!(2>it.length)){var Ot=it[1];if(Array.isArray(Ot)&&!(1>Ot.length)){var Vt=Ot[0];if(Vt!="noop"&&Vt!="stop"&&Vt!="close")for(var le=1;le<Ot.length;le++)Ot[le]=""}}}}return Me(j)}catch{return C}}var ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function In(){}N(In,tn),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},Fr=new In;function hr(g,C,j,it){this.j=g,this.i=C,this.l=j,this.R=it||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ar}function ar(){this.i=null,this.g="",this.h=!1}var Xi={},bs={};function Ti(g,C,j){g.L=1,g.v=Ji(mi(C)),g.m=j,g.P=!0,mr(g,null)}function mr(g,C){g.F=Date.now(),Os(g),g.A=mi(g.v);var j=g.A,it=g.R;Array.isArray(it)||(it=[String(it)]),Ke(j.i,"t",it),g.C=0,j=g.j.J,g.h=new ar,g.g=Ga(g.j,j?C:null,!g.m),0<g.O&&(g.M=new Ne(_(g.Y,g,g.g),g.O)),C=g.U,j=g.g,it=g.ca;var Ot="readystatechange";Array.isArray(Ot)||(Ot&&(xn[0]=Ot.toString()),Ot=xn);for(var Vt=0;Vt<Ot.length;Vt++){var le=we(j,Ot[Vt],it||C.handleEvent,!1,C.h||C);if(!le)break;C.g[le.key]=le}C=g.H?U(g.H):{},g.m?(g.u||(g.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,C)):(g.u="GET",g.g.ea(g.A,g.u,null,C)),Cr(),sr(g.i,g.u,g.A,g.l,g.R,g.m)}hr.prototype.ca=function(g){g=g.target;const C=this.M;C&&Xn(g)==3?C.j():this.Y(g)},hr.prototype.Y=function(g){try{if(g==this.g)t:{const fr=Xn(this.g);var C=this.g.Ba();const ya=this.g.Z();if(!(3>fr)&&(fr!=3||this.g&&(this.h.h||this.g.oa()||Yr(this.g)))){this.J||fr!=4||C==7||(C==8||0>=ya?Cr(3):Cr(2)),ks(this);var j=this.g.Z();this.X=j;e:if(fa(this)){var it=Yr(this.g);g="";var Ot=it.length,Vt=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),yr(this);var le="";break e}this.h.i=new c.TextDecoder}for(C=0;C<Ot;C++)this.h.h=!0,g+=this.h.i.decode(it[C],{stream:!(Vt&&C==Ot-1)});it.length=0,this.h.g+=g,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=j==200,Rr(this.i,this.u,this.A,this.l,this.R,fr,j),this.o){if(this.T&&!this.K){e:{if(this.g){var kn,zr=this.g;if((kn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(kn)){var Dn=kn;break e}}Dn=null}if(j=Dn)wn(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,j);else{this.o=!1,this.s=3,_n(12),Lr(this),yr(this);break t}}if(this.P){j=!0;let bi;for(;!this.J&&this.C<le.length;)if(bi=ao(this,le),bi==bs){fr==4&&(this.s=4,_n(14),j=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(bi==Xi){this.s=4,_n(15),wn(this.i,this.l,le,"[Invalid Chunk]"),j=!1;break}else wn(this.i,this.l,bi,null),cs(this,bi);if(fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fr!=4||le.length!=0||this.h.h||(this.s=1,_n(16),j=!1),this.o=this.o&&j,!j)wn(this.i,this.l,le,"[Invalid Chunked Response]"),Lr(this),yr(this);else if(0<le.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),On(Mn),Mn.M=!0,_n(11))}}else wn(this.i,this.l,le,null),cs(this,le);fr==4&&Lr(this),this.o&&!this.J&&(fr==4?lr(this.j,this):(this.o=!1,Os(this)))}else Fn(this.g),j==400&&0<le.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),Lr(this),yr(this)}}}catch{}finally{}};function fa(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function ao(g,C){var j=g.C,it=C.indexOf(`
`,j);return it==-1?bs:(j=Number(C.substring(j,it)),isNaN(j)?Xi:(it+=1,it+j>C.length?bs:(C=C.slice(it,it+j),g.C=it+j,C)))}hr.prototype.cancel=function(){this.J=!0,Lr(this)};function Os(g){g.S=Date.now()+g.I,za(g,g.I)}function za(g,C){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Un(_(g.ba,g),C)}function ks(g){g.B&&(c.clearTimeout(g.B),g.B=null)}hr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Js(this.i,this.A),this.L!=2&&(Cr(),_n(17)),Lr(this),this.s=2,yr(this)):za(this,this.S-g)};function yr(g){g.j.G==0||g.J||lr(g.j,g)}function Lr(g){ks(g);var C=g.M;C&&typeof C.ma=="function"&&C.ma(),g.M=null,ye(g.U),g.g&&(C=g.g,g.g=null,C.abort(),C.ma())}function cs(g,C){try{var j=g.j;if(j.G!=0&&(j.g==g||ta(j.h,g))){if(!g.K&&ta(j.h,g)&&j.G==3){try{var it=j.Da.g.parse(C)}catch{it=null}if(Array.isArray(it)&&it.length==3){var Ot=it;if(Ot[0]==0){t:if(!j.u){if(j.g)if(j.g.F+3e3<g.F)Mr(j),ht(j);else break t;sn(j),_n(18)}}else j.za=Ot[1],0<j.za-j.T&&37500>Ot[2]&&j.F&&j.v==0&&!j.C&&(j.C=Un(_(j.Za,j),6e3));if(1>=pa(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else vr(j,11)}else if((g.K||j.g==g)&&Mr(j),!H(C))for(Ot=j.Da.g.parse(C),C=0;C<Ot.length;C++){let Dn=Ot[C];if(j.T=Dn[0],Dn=Dn[1],j.G==2)if(Dn[0]=="c"){j.K=Dn[1],j.ia=Dn[2];const Mn=Dn[3];Mn!=null&&(j.la=Mn,j.j.info("VER="+j.la));const fr=Dn[4];fr!=null&&(j.Aa=fr,j.j.info("SVER="+j.Aa));const ya=Dn[5];ya!=null&&typeof ya=="number"&&0<ya&&(it=1.5*ya,j.L=it,j.j.info("backChannelRequestTimeoutMs_="+it)),it=j;const bi=g.g;if(bi){const ds=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var Vt=it.h;Vt.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(Vt.j=Vt.l,Vt.g=new Set,Vt.h&&(Na(Vt,Vt.h),Vt.h=null))}if(it.D){const oo=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(it.ya=oo,Sn(it.I,it.D,oo))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-g.F,j.j.info("Handshake RTT: "+j.R+"ms")),it=j;var le=g;if(it.qa=La(it,it.J?it.ia:null,it.W),le.K){Cn(it.h,le);var kn=le,zr=it.L;zr&&(kn.I=zr),kn.B&&(ks(kn),Os(kn)),it.g=le}else Qe(it);0<j.i.length&&Lt(j)}else Dn[0]!="stop"&&Dn[0]!="close"||vr(j,7);else j.G==3&&(Dn[0]=="stop"||Dn[0]=="close"?Dn[0]=="stop"?vr(j,7):F(j):Dn[0]!="noop"&&j.l&&j.l.ta(Dn),j.v=0)}}Cr(4)}catch{}}var Di=class{constructor(g,C){this.g=g,this.map=C}};function Zi(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function pa(g){return g.h?1:g.g?g.g.size:0}function ta(g,C){return g.h?g.h==C:g.g?g.g.has(C):!1}function Na(g,C){g.g?g.g.add(C):g.h=C}function Cn(g,C){g.h&&g.h==C?g.h=null:g.g&&g.g.has(C)&&g.g.delete(C)}Zi.prototype.cancel=function(){if(this.i=Ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ds(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let C=g.i;for(const j of g.g.values())C=C.concat(j.D);return C}return I(g.i)}function Ca(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var C=[],j=g.length,it=0;it<j;it++)C.push(g[it]);return C}C=[],j=0;for(it in g)C[j++]=g[it];return C}function si(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var C=[];g=g.length;for(var j=0;j<g;j++)C.push(j);return C}C=[],j=0;for(const it in g)C[j++]=it;return C}}}function _s(g,C){if(g.forEach&&typeof g.forEach=="function")g.forEach(C,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,C,void 0);else for(var j=si(g),it=Ca(g),Ot=it.length,Vt=0;Vt<Ot;Vt++)C.call(void 0,it[Vt],j&&j[Vt],g)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(g,C){if(g){g=g.split("&");for(var j=0;j<g.length;j++){var it=g[j].indexOf("="),Ot=null;if(0<=it){var Vt=g[j].substring(0,it);Ot=g[j].substring(it+1)}else Vt=g[j];C(Vt,Ot?decodeURIComponent(Ot.replace(/\+/g," ")):"")}}}function fn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof fn){this.h=g.h,ga(this,g.j),this.o=g.o,this.g=g.g,ws(this,g.s),this.l=g.l;var C=g.i,j=new Ni;j.i=C.i,C.g&&(j.g=new Map(C.g),j.h=C.h),Ps(this,j),this.m=g.m}else g&&(C=String(g).match(ai))?(this.h=!1,ga(this,C[1]||"",!0),this.o=Er(C[2]||""),this.g=Er(C[3]||"",!0),ws(this,C[4]),this.l=Er(C[5]||"",!0),Ps(this,C[6]||"",!0),this.m=Er(C[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}fn.prototype.toString=function(){var g=[],C=this.j;C&&g.push(Vr(C,Ha,!0),":");var j=this.g;return(j||C=="file")&&(g.push("//"),(C=this.o)&&g.push(Vr(C,Ha,!0),"@"),g.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&g.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Vr(j,j.charAt(0)=="/"?Do:es,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Vr(j,Es)),g.join("")};function mi(g){return new fn(g)}function ga(g,C,j){g.j=j?Er(C,!0):C,g.j&&(g.j=g.j.replace(/:$/,""))}function ws(g,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);g.s=C}else g.s=null}function Ps(g,C,j){C instanceof Ni?(g.i=C,Ra(g.i,g.h)):(j||(C=Vr(C,$a)),g.i=new Ni(C,g.h))}function Sn(g,C,j){g.i.set(C,j)}function Ji(g){return Sn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Er(g,C){return g?C?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Vr(g,C,j){return typeof g=="string"?(g=encodeURI(g).replace(C,ts),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ts(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ha=/[#\/\?@]/g,es=/[#\?:]/g,Do=/[#\?]/g,$a=/[#\?@]/g,Es=/#/g;function Ni(g,C){this.h=this.g=null,this.i=g||null,this.j=!!C}function Pi(g){g.g||(g.g=new Map,g.h=0,g.i&&ma(g.i,function(C,j){g.add(decodeURIComponent(C.replace(/\+/g," ")),j)}))}n=Ni.prototype,n.add=function(g,C){Pi(this),this.i=null,g=Mi(this,g);var j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(C),this.h+=1,this};function or(g,C){Pi(g),C=Mi(g,C),g.g.has(C)&&(g.i=null,g.h-=g.g.get(C).length,g.g.delete(C))}function ns(g,C){return Pi(g),C=Mi(g,C),g.g.has(C)}n.forEach=function(g,C){Pi(this),this.g.forEach(function(j,it){j.forEach(function(Ot){g.call(C,Ot,it,this)},this)},this)},n.na=function(){Pi(this);const g=Array.from(this.g.values()),C=Array.from(this.g.keys()),j=[];for(let it=0;it<C.length;it++){const Ot=g[it];for(let Vt=0;Vt<Ot.length;Vt++)j.push(C[it])}return j},n.V=function(g){Pi(this);let C=[];if(typeof g=="string")ns(this,g)&&(C=C.concat(this.g.get(Mi(this,g))));else{g=Array.from(this.g.values());for(let j=0;j<g.length;j++)C=C.concat(g[j])}return C},n.set=function(g,C){return Pi(this),this.i=null,g=Mi(this,g),ns(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[C]),this.h+=1,this},n.get=function(g,C){return g?(g=this.V(g),0<g.length?String(g[0]):C):C};function Ke(g,C,j){or(g,C),0<j.length&&(g.i=null,g.g.set(Mi(g,C),I(j)),g.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],C=Array.from(this.g.keys());for(var j=0;j<C.length;j++){var it=C[j];const Vt=encodeURIComponent(String(it)),le=this.V(it);for(it=0;it<le.length;it++){var Ot=Vt;le[it]!==""&&(Ot+="="+encodeURIComponent(String(le[it]))),g.push(Ot)}}return this.i=g.join("&")};function Mi(g,C){return C=String(C),g.j&&(C=C.toLowerCase()),C}function Ra(g,C){C&&!g.j&&(Pi(g),g.i=null,g.g.forEach(function(j,it){var Ot=it.toLowerCase();it!=Ot&&(or(this,it),Ke(this,Ot,j))},g)),g.j=C}function As(g,C){const j=new wr;if(c.Image){const it=new Image;it.onload=v(Pr,j,"TestLoadImage: loaded",!0,C,it),it.onerror=v(Pr,j,"TestLoadImage: error",!1,C,it),it.onabort=v(Pr,j,"TestLoadImage: abort",!1,C,it),it.ontimeout=v(Pr,j,"TestLoadImage: timeout",!1,C,it),c.setTimeout(function(){it.ontimeout&&it.ontimeout()},1e4),it.src=g}else C(!1)}function hs(g,C){const j=new wr,it=new AbortController,Ot=setTimeout(()=>{it.abort(),Pr(j,"TestPingServer: timeout",!1,C)},1e4);fetch(g,{signal:it.signal}).then(Vt=>{clearTimeout(Ot),Vt.ok?Pr(j,"TestPingServer: ok",!0,C):Pr(j,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Ot),Pr(j,"TestPingServer: error",!1,C)})}function Pr(g,C,j,it,Ot){try{Ot&&(Ot.onload=null,Ot.onerror=null,Ot.onabort=null,Ot.ontimeout=null),it(j)}catch{}}function gi(){this.g=new Re}function fs(g,C,j){const it=j||"";try{_s(g,function(Ot,Vt){let le=Ot;f(Ot)&&(le=Me(Ot)),C.push(it+Vt+"="+encodeURIComponent(le))})}catch(Ot){throw C.push(it+"type="+encodeURIComponent("_badmap")),Ot}}function yi(g){this.l=g.Ub||null,this.j=g.eb||!1}N(yi,tn),yi.prototype.g=function(){return new ji(this.l,this.j)},yi.prototype.i=(function(g){return function(){return g}})({});function ji(g,C){oe.call(this),this.D=g,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ji,oe),n=ji.prototype,n.open=function(g,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=C,this.readyState=1,qi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(C.body=g),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var C=g.value?g.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!g.done}))&&(this.response=this.responseText+=C)}g.done?Ci(this):qi(this),this.readyState==3&&Ms(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ci(this))},n.Qa=function(g){this.g&&(this.response=g,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(g){g.readyState=4,g.l=null,g.j=null,g.v=null,qi(g)}n.setRequestHeader=function(g,C){this.u.append(g,C)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],C=this.h.entries();for(var j=C.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=C.next();return g.join(`\r
`)};function qi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function L(g){let C="";return wt(g,function(j,it){C+=it,C+=":",C+=j,C+=`\r
`}),C}function tt(g,C,j){t:{for(it in j){var it=!1;break t}it=!0}it||(j=L(j),typeof g=="string"?j!=null&&encodeURIComponent(String(j)):Sn(g,C,j))}function yt(g){oe.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(yt,oe);var Ht=/^https?$/i,Ve=["POST","PUT"];n=yt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,C,j,it){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);C=C?C.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?qe(this.o):qe(Fr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(C,String(g),!0),this.B=!1}catch(Vt){Ee(this,Vt);return}if(g=j||"",j=new Map(this.headers),it)if(Object.getPrototypeOf(it)===Object.prototype)for(var Ot in it)j.set(Ot,it[Ot]);else if(typeof it.keys=="function"&&typeof it.get=="function")for(const Vt of it.keys())j.set(Vt,it.get(Vt));else throw Error("Unknown input type for opt_headers: "+String(it));it=Array.from(j.keys()).find(Vt=>Vt.toLowerCase()=="content-type"),Ot=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ve,C,void 0))||it||Ot||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Vt,le]of j)this.g.setRequestHeader(Vt,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dn(this),this.u=!0,this.g.send(g),this.u=!1}catch(Vt){Ee(this,Vt)}};function Ee(g,C){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=C,g.m=5,yn(g),Bn(g)}function yn(g){g.A||(g.A=!0,pe(g,"complete"),pe(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,pe(this,"complete"),pe(this,"abort"),Bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ln(this):this.bb())},n.bb=function(){ln(this)};function ln(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Xn(g)!=4||g.Z()!=2)){if(g.u&&Xn(g)==4)ce(g.Ea,0,g);else if(pe(g,"readystatechange"),Xn(g)==4){g.h=!1;try{const le=g.Z();t:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break t;default:C=!1}var j;if(!(j=C)){var it;if(it=le===0){var Ot=String(g.D).match(ai)[1]||null;!Ot&&c.self&&c.self.location&&(Ot=c.self.location.protocol.slice(0,-1)),it=!Ht.test(Ot?Ot.toLowerCase():"")}j=it}if(j)pe(g,"complete"),pe(g,"success");else{g.m=6;try{var Vt=2<Xn(g)?g.g.statusText:""}catch{Vt=""}g.l=Vt+" ["+g.Z()+"]",yn(g)}}finally{Bn(g)}}}}function Bn(g,C){if(g.g){dn(g);const j=g.g,it=g.v[0]?()=>{}:null;g.g=null,g.v=null,C||pe(g,"ready");try{j.onreadystatechange=it}catch{}}}function dn(g){g.I&&(c.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Xn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var C=this.g.responseText;return g&&C.indexOf(g)==0&&(C=C.substring(g.length)),Ln(C)}};function Yr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Fn(g){const C={};g=(g.g&&2<=Xn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let it=0;it<g.length;it++){if(H(g[it]))continue;var j=S(g[it]);const Ot=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Vt=C[Ot]||[];C[Ot]=Vt,Vt.push(j)}K(C,function(it){return it.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(g,C,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||C}function x(g){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,g),this.cb=Zn("retryDelaySeedMs",1e4,g),this.Wa=Zn("forwardChannelMaxRetries",2,g),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(g&&g.concurrentRequestLimit),this.Da=new gi,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=x.prototype,n.la=8,n.G=1,n.connect=function(g,C,j,it){_n(0),this.W=g,this.H=C||{},j&&it!==void 0&&(this.H.OSID=j,this.H.OAID=it),this.F=this.X,this.I=La(this,null,this.W),Lt(this)};function F(g){if(_t(g),g.G==3){var C=g.U++,j=mi(g.I);if(Sn(j,"SID",g.K),Sn(j,"RID",C),Sn(j,"TYPE","terminate"),be(g,j),C=new hr(g,g.j,C),C.L=2,C.v=Ji(mi(j)),j=!1,c.navigator&&c.navigator.sendBeacon)try{j=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!j&&c.Image&&(new Image().src=C.v,j=!0),j||(C.g=Ga(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Os(C)}Ri(g)}function ht(g){g.g&&(On(g),g.g.cancel(),g.g=null)}function _t(g){ht(g),g.u&&(c.clearTimeout(g.u),g.u=null),Mr(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Lt(g){if(!da(g.h)&&!g.s){g.s=!0;var C=g.Ga;ut||W(),ct||(ut(),ct=!0),Et.add(C,g),g.B=0}}function Gt(g,C){return pa(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=C.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Un(_(g.Ga,g,C),Qr(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Ot=new hr(this,this.j,g);let Vt=this.o;if(this.S&&(Vt?(Vt=U(Vt),G(Vt,this.S)):Vt=this.S),this.m!==null||this.O||(Ot.H=Vt,Vt=null),this.P)t:{for(var C=0,j=0;j<this.i.length;j++){e:{var it=this.i[j];if("__data__"in it.map&&(it=it.map.__data__,typeof it=="string")){it=it.length;break e}it=void 0}if(it===void 0)break;if(C+=it,4096<C){C=j;break t}if(C===4096||j===this.i.length-1){C=j+1;break t}}C=1e3}else C=1e3;C=Ie(this,Ot,C),j=mi(this.I),Sn(j,"RID",g),Sn(j,"CVER",22),this.D&&Sn(j,"X-HTTP-Session-Id",this.D),be(this,j),Vt&&(this.O?C="headers="+encodeURIComponent(String(L(Vt)))+"&"+C:this.m&&tt(j,this.m,Vt)),Na(this.h,Ot),this.Ua&&Sn(j,"TYPE","init"),this.P?(Sn(j,"$req",C),Sn(j,"SID","null"),Ot.T=!0,Ti(Ot,j,null)):Ti(Ot,j,C),this.G=2}}else this.G==3&&(g?te(this,g):this.i.length==0||da(this.h)||te(this))};function te(g,C){var j;C?j=C.l:j=g.U++;const it=mi(g.I);Sn(it,"SID",g.K),Sn(it,"RID",j),Sn(it,"AID",g.T),be(g,it),g.m&&g.o&&tt(it,g.m,g.o),j=new hr(g,g.j,j,g.B+1),g.m===null&&(j.H=g.o),C&&(g.i=C.D.concat(g.i)),C=Ie(g,j,1e3),j.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Na(g.h,j),Ti(j,it,C)}function be(g,C){g.H&&wt(g.H,function(j,it){Sn(C,it,j)}),g.l&&_s({},function(j,it){Sn(C,it,j)})}function Ie(g,C,j){j=Math.min(g.i.length,j);var it=g.l?_(g.l.Na,g.l,g):null;t:{var Ot=g.i;let Vt=-1;for(;;){const le=["count="+j];Vt==-1?0<j?(Vt=Ot[0].g,le.push("ofs="+Vt)):Vt=0:le.push("ofs="+Vt);let kn=!0;for(let zr=0;zr<j;zr++){let Dn=Ot[zr].g;const Mn=Ot[zr].map;if(Dn-=Vt,0>Dn)Vt=Math.max(0,Ot[zr].g-100),kn=!1;else try{fs(Mn,le,"req"+Dn+"_")}catch{it&&it(Mn)}}if(kn){it=le.join("&");break t}}}return g=g.i.splice(0,j),C.D=g,it}function Qe(g){if(!g.g&&!g.u){g.Y=1;var C=g.Fa;ut||W(),ct||(ut(),ct=!0),Et.add(C,g),g.v=0}}function sn(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Un(_(g.Fa,g),Qr(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Ir(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Un(_(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),ht(this),Ir(this))};function On(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Ir(g){g.g=new hr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var C=mi(g.qa);Sn(C,"RID","rpc"),Sn(C,"SID",g.K),Sn(C,"AID",g.T),Sn(C,"CI",g.F?"0":"1"),!g.F&&g.ja&&Sn(C,"TO",g.ja),Sn(C,"TYPE","xmlhttp"),be(g,C),g.m&&g.o&&tt(C,g.m,g.o),g.L&&(g.g.I=g.L);var j=g.g;g=g.ia,j.L=1,j.v=Ji(mi(C)),j.m=null,j.P=!0,mr(j,g)}n.Za=function(){this.C!=null&&(this.C=null,ht(this),sn(this),_n(19))};function Mr(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function lr(g,C){var j=null;if(g.g==C){Mr(g),On(g),g.g=null;var it=2}else if(ta(g.h,C))j=C.D,Cn(g.h,C),it=1;else return;if(g.G!=0){if(C.o)if(it==1){j=C.m?C.m.length:0,C=Date.now()-C.F;var Ot=g.B;it=pr(),pe(it,new ir(it,j)),Lt(g)}else Qe(g);else if(Ot=C.s,Ot==3||Ot==0&&0<C.X||!(it==1&&Gt(g,C)||it==2&&sn(g)))switch(j&&0<j.length&&(C=g.h,C.i=C.i.concat(j)),Ot){case 1:vr(g,5);break;case 4:vr(g,10);break;case 3:vr(g,6);break;default:vr(g,2)}}}function Qr(g,C){let j=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(j*=2),j*C}function vr(g,C){if(g.j.info("Error code "+C),C==2){var j=_(g.fb,g),it=g.Xa;const Ot=!it;it=new fn(it||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ga(it,"https"),Ji(it),Ot?As(it.toString(),j):hs(it.toString(),j)}else _n(2);g.G=0,g.l&&g.l.sa(C),Ri(g),_t(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Ri(g){if(g.G=0,g.ka=[],g.l){const C=Ds(g.h);(C.length!=0||g.i.length!=0)&&(k(g.ka,C),k(g.ka,g.i),g.h.i.length=0,I(g.i),g.i.length=0),g.l.ra()}}function La(g,C,j){var it=j instanceof fn?mi(j):new fn(j);if(it.g!="")C&&(it.g=C+"."+it.g),ws(it,it.s);else{var Ot=c.location;it=Ot.protocol,C=C?C+"."+Ot.hostname:Ot.hostname,Ot=+Ot.port;var Vt=new fn(null);it&&ga(Vt,it),C&&(Vt.g=C),Ot&&ws(Vt,Ot),j&&(Vt.l=j),it=Vt}return j=g.D,C=g.ya,j&&C&&Sn(it,j,C),Sn(it,"VER",g.la),be(g,it),it}function Ga(g,C,j){if(C&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=g.Ca&&!g.pa?new yt(new yi({eb:j})):new yt(g.pa),C.Ha(g.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Po(){}Po.prototype.g=function(g,C){return new vi(g,C)};function vi(g,C){oe.call(this),this.g=new x(C),this.l=g,this.h=C&&C.messageUrlParams||null,g=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(g?g["X-WebChannel-Content-Type"]=C.messageContentType:g={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(g?g["X-WebChannel-Client-Profile"]=C.va:g={"X-WebChannel-Client-Profile":C.va}),this.g.S=g,(g=C&&C.Sb)&&!H(g)&&(this.g.m=g),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!H(C)&&(this.g.D=C,g=this.h,g!==null&&C in g&&(g=this.h,C in g&&delete g[C])),this.j=new js(this)}N(vi,oe),vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){F(this.g)},vi.prototype.o=function(g){var C=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.u&&(j={},j.__data__=Me(g),g=j);C.i.push(new Di(C.Ya++,g)),C.G==3&&Lt(C)},vi.prototype.N=function(){this.g.l=null,delete this.j,F(this.g),delete this.g,vi.aa.N.call(this)};function ea(g){gn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var C=g.__sm__;if(C){t:{for(const j in C){g=j;break t}g=void 0}(this.i=g)&&(g=this.i,C=C!==null&&g in C?C[g]:void 0),this.data=C}else this.data=g}N(ea,gn);function ml(){He.call(this),this.status=1}N(ml,He);function js(g){this.g=g}N(js,qu),js.prototype.ua=function(){pe(this.g,"a")},js.prototype.ta=function(g){pe(this.g,new ea(g))},js.prototype.sa=function(g){pe(this.g,new ml)},js.prototype.ra=function(){pe(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,rT=function(){return new Po},nT=function(){return pr()},eT=en,jv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,y1=ri,ii.COMPLETE="complete",tT=ii,Jn.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Np=Jn,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,JS=yt}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});const s3="@firebase/firestore",a3="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}la.UNAUTHENTICATED=new la(null),la.GOOGLE_CREDENTIALS=new la("google-credentials-uid"),la.FIRST_PARTY=new la("first-party-uid"),la.MOCK_USER=new la("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new B5("@firebase/firestore");function If(){return Rh.logLevel}function Se(n,...t){if(Rh.logLevel<=Kn.DEBUG){const e=t.map(X5);Rh.debug(`Firestore (${vd}): ${n}`,...e)}}function Tu(n,...t){if(Rh.logLevel<=Kn.ERROR){const e=t.map(X5);Rh.error(`Firestore (${vd}): ${n}`,...e)}}function rd(n,...t){if(Rh.logLevel<=Kn.WARN){const e=t.map(X5);Rh.warn(`Firestore (${vd}): ${n}`,...e)}}function X5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,iT(n,r,e)}function iT(n,t,e){let r=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Tu(r),new Error(r)}function _r(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||iT(t,i,r)}function An(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ku{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(la.UNAUTHENTICATED)))}shutdown(){}}class Zk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Jk{constructor(t){this.t=t,this.currentUser=la.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_r(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,e(h)):Promise.resolve();let a=new _u;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _u,t.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;t.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _u)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_r(typeof r.accessToken=="string",31837,{l:r}),new sT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _r(t===null||typeof t=="string",2055,{h:t}),new la(t)}}class t9{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=la.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e9{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new t9(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(la.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n9{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Co(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_r(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>r(a)))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_r(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new o3(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=r9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<e&&(r+=t.charAt(i[a]%62))}return r}}function Wn(n,t){return n<t?-1:n>t?1:0}function qv(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const i=n.charAt(r),a=t.charAt(r);if(i!==a)return Cy(i)===Cy(a)?Wn(i,a):Cy(i)?1:-1}return Wn(n.length,t.length)}const i9=55296,s9=57343;function Cy(n){const t=n.charCodeAt(0);return t>=i9&&t<=s9}function id(n,t,e){return n.length===t.length&&n.every(((r,i)=>e(r,t[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="__name__";class Il{constructor(t,e,r){e===void 0?e=0:e>t.length&&rn(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&rn(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Il.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Il?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const a=Il.compareSegments(t.get(i),e.get(i));if(a!==0)return a}return Wn(t.length,e.length)}static compareSegments(t,e){const r=Il.isNumericId(t),i=Il.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?Il.extractNumericId(t).compare(Il.extractNumericId(e)):qv(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Oc.fromString(t.substring(4,t.length-2))}}class Kr extends Il{construct(t,e,r){return new Kr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new me(Jt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((i=>i.length>0)))}return new Kr(e)}static emptyPath(){return new Kr([])}}const a9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ys extends Il{construct(t,e,r){return new Ys(t,e,r)}static isValidIdentifier(t){return a9.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ys.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l3}static keyField(){return new Ys([l3])}static fromServerFormat(t){const e=[];let r="",i=0;const a=()=>{if(r.length===0)throw new me(Jt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let l=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new me(Jt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(Jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new me(Jt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ys(e)}static emptyPath(){return new Ys([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.path=t}static fromPath(t){return new We(Kr.fromString(t))}static fromName(t){return new We(Kr.fromString(t).popFirst(5))}static empty(){return new We(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Kr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new Kr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,t,e){if(!e)throw new me(Jt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function o9(n,t,e,r){if(t===!0&&r===!0)throw new me(Jt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function u3(n){if(!We.isDocumentKey(n))throw new me(Jt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c3(n){if(We.isDocumentKey(n))throw new me(Jt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function w0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":rn(12329,{type:typeof n})}function Fa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new me(Jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=w0(n);throw new me(Jt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n,t){const e={typeString:n};return t&&(e.value=t),e}function wm(n,t){if(!oT(n))throw new me(Jt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${r}' field to equal '${a.value}'`;break}}if(e)throw new me(Jt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=-62135596800,f3=1e6;class ei{static now(){return ei.fromMillis(Date.now())}static fromDate(t){return ei.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*f3);return new ei(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new me(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new me(Jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<h3)throw new me(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new me(Jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f3}_compareTo(t){return this.seconds===t.seconds?Wn(this.nanoseconds,t.nanoseconds):Wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ei._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wm(t,ei._jsonSchema))return new ei(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-h3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ei._jsonSchemaVersion="firestore/timestamp/1.0",ei._jsonSchema={type:ls("string",ei._jsonSchemaVersion),seconds:ls("number"),nanoseconds:ls("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{static fromTimestamp(t){return new bn(t)}static min(){return new bn(new ei(0,0))}static max(){return new bn(new ei(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function l9(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bn.fromTimestamp(r===1e9?new ei(e+1,0):new ei(e,r));return new Mc(i,We.empty(),t)}function u9(n){return new Mc(n.readTime,n.key,Qp)}class Mc{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Mc(bn.min(),We.empty(),Qp)}static max(){return new Mc(bn.max(),We.empty(),Qp)}}function c9(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=We.comparator(n.documentKey,t.documentKey),e!==0?e:Wn(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(n){if(n.code!==Jt.FAILED_PRECONDITION||n.message!==h9)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&rn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ie(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ie?e:ie.resolve(e)}catch(e){return ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ie.reject(e)}static resolve(t){return new ie(((e,r)=>{e(t)}))}static reject(t){return new ie(((e,r)=>{r(t)}))}static waitFor(t){return new ie(((e,r)=>{let i=0,a=0,l=!1;t.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&e()}),(h=>r(h)))})),l=!0,a===i&&e()}))}static or(t){let e=ie.resolve(!1);for(const r of t)e=e.next((i=>i?ie.resolve(i):r()));return e}static forEach(t,e){const r=[];return t.forEach(((i,a)=>{r.push(e.call(this,i,a))})),this.waitFor(r)}static mapArray(t,e){return new ie(((r,i)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next((p=>{l[f]=p,++c,c===a&&r(l)}),(p=>i(p)))}}))}static doWhile(t,e){return new ie(((r,i)=>{const a=()=>{t()===!0?e().next((()=>{a()}),i):r()};a()}))}}function d9(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _d(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}E0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=-1;function A0(n){return n==null}function U1(n){return n===0&&1/n==-1/0}function p9(n){return typeof n=="number"&&Number.isInteger(n)&&!U1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function m9(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=d3(t)),t=g9(n.get(e),t);return d3(t)}function g9(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":e+="";break;case lT:e+="";break;default:e+=a}}return e}function d3(n){return n+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function uT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,e){this.comparator=t,this.root=e||Ws.EMPTY}insert(t,e){return new xi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ws.BLACK,null,null))}remove(t){return new xi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ws.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bg(this.root,t,this.comparator,!0)}}class Bg{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?r(t.key,e):1,e&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ws{constructor(t,e,r,i,a){this.key=t,this.value=e,this.color=r??Ws.RED,this.left=i??Ws.EMPTY,this.right=a??Ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,a){return new Ws(t??this.key,e??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,e,r),null):a===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ws.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Ws.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rn(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw rn(27949);return t+(this.isRed()?0:1)}}Ws.EMPTY=null,Ws.RED=!0,Ws.BLACK=!1;Ws.EMPTY=new class{constructor(){this.size=0}get key(){throw rn(57766)}get value(){throw rn(16141)}get color(){throw rn(16727)}get left(){throw rn(29726)}get right(){throw rn(36894)}copy(t,e,r,i,a){return this}insert(t,e,r){return new Ws(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this.comparator=t,this.data=new xi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new m3(this.data.getIterator())}getIteratorFrom(t){return new m3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof vs)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new vs(this.comparator);return e.data=t,e}}class m3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.fields=t,t.sort(Ys.comparator)}static empty(){return new eo([])}unionWith(t){let e=new vs(Ys.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new eo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return id(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new cT("Invalid base64 string: "+a):a}})(t);return new Zs(e)}static fromUint8Array(t){const e=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(t);return new Zs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zs.EMPTY_BYTE_STRING=new Zs("");const y9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(n){if(_r(!!n,39018),typeof n=="string"){let t=0;const e=y9.exec(n);if(_r(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Gi(n.seconds),nanos:Gi(n.nanos)}}function Gi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qc(n){return typeof n=="string"?Zs.fromBase64String(n):Zs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="server_timestamp",fT="__type__",dT="__previous_value__",pT="__local_write_time__";function tb(n){return(n?.mapValue?.fields||{})[fT]?.stringValue===hT}function x0(n){const t=n.mapValue.fields[dT];return tb(t)?x0(t):t}function Xp(n){const t=jc(n.mapValue.fields[pT].timestampValue);return new ei(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(t,e,r,i,a,l,c,h,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const B1="(default)";class Zp{constructor(t,e){this.projectId=t,this.database=e||B1}static empty(){return new Zp("","")}get isDefaultDatabase(){return this.database===B1}isEqual(t){return t instanceof Zp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__type__",b9="__max__",Fg={mapValue:{}},gT="__vector__",F1="value";function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tb(n)?4:w9(n)?9007199254740991:_9(n)?10:11:rn(28295,{value:n})}function Fl(n,t){if(n===t)return!0;const e=Uc(n);if(e!==Uc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xp(n).isEqual(Xp(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=jc(i.timestampValue),c=jc(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,a){return qc(i.bytesValue).isEqual(qc(a.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,a){return Gi(i.geoPointValue.latitude)===Gi(a.geoPointValue.latitude)&&Gi(i.geoPointValue.longitude)===Gi(a.geoPointValue.longitude)})(n,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Gi(i.integerValue)===Gi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Gi(i.doubleValue),c=Gi(a.doubleValue);return l===c?U1(l)===U1(c):isNaN(l)&&isNaN(c)}return!1})(n,t);case 9:return id(n.arrayValue.values||[],t.arrayValue.values||[],Fl);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(p3(l)!==p3(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Fl(l[h],c[h])))return!1;return!0})(n,t);default:return rn(52216,{left:n})}}function Jp(n,t){return(n.values||[]).find((e=>Fl(e,t)))!==void 0}function sd(n,t){if(n===t)return 0;const e=Uc(n),r=Uc(t);if(e!==r)return Wn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wn(n.booleanValue,t.booleanValue);case 2:return(function(a,l){const c=Gi(a.integerValue||a.doubleValue),h=Gi(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,t);case 3:return g3(n.timestampValue,t.timestampValue);case 4:return g3(Xp(n),Xp(t));case 5:return qv(n.stringValue,t.stringValue);case 6:return(function(a,l){const c=qc(a),h=qc(l);return c.compareTo(h)})(n.bytesValue,t.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Wn(c[f],h[f]);if(p!==0)return p}return Wn(c.length,h.length)})(n.referenceValue,t.referenceValue);case 8:return(function(a,l){const c=Wn(Gi(a.latitude),Gi(l.latitude));return c!==0?c:Wn(Gi(a.longitude),Gi(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return y3(n.arrayValue,t.arrayValue);case 10:return(function(a,l){const c=a.fields||{},h=l.fields||{},f=c[F1]?.arrayValue,p=h[F1]?.arrayValue,w=Wn(f?.values?.length||0,p?.values?.length||0);return w!==0?w:y3(f,p)})(n.mapValue,t.mapValue);case 11:return(function(a,l){if(a===Fg.mapValue&&l===Fg.mapValue)return 0;if(a===Fg.mapValue)return 1;if(l===Fg.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let w=0;w<h.length&&w<p.length;++w){const _=qv(h[w],p[w]);if(_!==0)return _;const v=sd(c[h[w]],f[p[w]]);if(v!==0)return v}return Wn(h.length,p.length)})(n.mapValue,t.mapValue);default:throw rn(23264,{he:e})}}function g3(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Wn(n,t);const e=jc(n),r=jc(t),i=Wn(e.seconds,r.seconds);return i!==0?i:Wn(e.nanos,r.nanos)}function y3(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const a=sd(e[i],r[i]);if(a)return a}return Wn(e.length,r.length)}function ad(n){return Uv(n)}function Uv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=jc(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return qc(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return We.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(const a of e.values||[])i?i=!1:r+=",",r+=Uv(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Uv(e.fields[l])}`;return i+"}"})(n.mapValue):rn(61005,{value:n})}function v1(n){switch(Uc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=x0(n);return t?16+v1(t):16;case 5:return 2*n.stringValue.length;case 6:return qc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+v1(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Gc(r.fields,((a,l)=>{i+=a.length+v1(l)})),i})(n.mapValue);default:throw rn(13486,{value:n})}}function v3(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Bv(n){return!!n&&"integerValue"in n}function eb(n){return!!n&&"arrayValue"in n}function b3(n){return!!n&&"nullValue"in n}function _3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function b1(n){return!!n&&"mapValue"in n}function _9(n){return(n?.mapValue?.fields||{})[mT]?.stringValue===gT}function qp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Gc(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=qp(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=qp(n.arrayValue.values[e]);return t}return{...n}}function w9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.value=t}static empty(){return new Ua({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!b1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qp(e)}setAll(t){let e=Ys.emptyPath(),r={},i=[];t.forEach(((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,r,i),r={},i=[],e=c.popLast()}l?r[c.lastSegment()]=qp(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(e);this.applyChanges(a,r,i)}delete(t){const e=this.field(t.popLast());b1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];b1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Gc(e,((i,a)=>t[i]=a));for(const i of r)delete t[i]}clone(){return new Ua(qp(this.value))}}function yT(n){const t=[];return Gc(n.fields,((e,r)=>{const i=new Ys([e]);if(b1(r)){const a=yT(r.mapValue).fields;if(a.length===0)t.push(i);else for(const l of a)t.push(i.child(l))}else t.push(i)})),new eo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,e,r,i,a,l,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ua(t,0,bn.min(),bn.min(),bn.min(),Ua.empty(),0)}static newFoundDocument(t,e,r,i){return new ua(t,1,e,bn.min(),r,i,0)}static newNoDocument(t,e){return new ua(t,2,e,bn.min(),bn.min(),Ua.empty(),0)}static newUnknownDocument(t,e){return new ua(t,3,e,bn.min(),bn.min(),Ua.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ua&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ua(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,e){this.position=t,this.inclusive=e}}function w3(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const a=t[i],l=n.position[i];if(a.field.isKeyField()?r=We.comparator(We.fromName(l.referenceValue),e.key):r=sd(l,e.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function E3(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e="asc"){this.field=t,this.dir=e}}function E9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{}class os extends vT{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new x9(t,e,r):e==="array-contains"?new N9(t,r):e==="in"?new C9(t,r):e==="not-in"?new R9(t,r):e==="array-contains-any"?new L9(t,r):new os(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new S9(t,r):new T9(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(sd(e,this.value)):e!==null&&Uc(this.value)===Uc(e)&&this.matchesComparison(sd(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return rn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class al extends vT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new al(t,e)}matches(t){return bT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(n){return n.op==="and"}function _T(n){return A9(n)&&bT(n)}function A9(n){for(const t of n.filters)if(t instanceof al)return!1;return!0}function Fv(n){if(n instanceof os)return n.field.canonicalString()+n.op.toString()+ad(n.value);if(_T(n))return n.filters.map((t=>Fv(t))).join(",");{const t=n.filters.map((e=>Fv(e))).join(",");return`${n.op}(${t})`}}function wT(n,t){return n instanceof os?(function(r,i){return i instanceof os&&r.op===i.op&&r.field.isEqual(i.field)&&Fl(r.value,i.value)})(n,t):n instanceof al?(function(r,i){return i instanceof al&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&wT(l,i.filters[c])),!0):!1})(n,t):void rn(19439)}function ET(n){return n instanceof os?(function(e){return`${e.field.canonicalString()} ${e.op} ${ad(e.value)}`})(n):n instanceof al?(function(e){return e.op.toString()+" {"+e.getFilters().map(ET).join(" ,")+"}"})(n):"Filter"}class x9 extends os{constructor(t,e,r){super(t,e,r),this.key=We.fromName(r.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.matchesComparison(e)}}class S9 extends os{constructor(t,e){super(t,"in",e),this.keys=AT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class T9 extends os{constructor(t,e){super(t,"not-in",e),this.keys=AT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function AT(n,t){return(t.arrayValue?.values||[]).map((e=>We.fromName(e.referenceValue)))}class N9 extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return eb(e)&&Jp(e.arrayValue,this.value)}}class C9 extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jp(this.value.arrayValue,e)}}class R9 extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jp(this.value.arrayValue,e)}}class L9 extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!eb(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Jp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t,e=null,r=[],i=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function A3(n,t=null,e=[],r=[],i=null,a=null,l=null){return new I9(n,t,e,r,i,a,l)}function nb(n){const t=An(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Fv(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),A0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>ad(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>ad(r))).join(",")),t.Te=e}return t.Te}function rb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!E9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!wT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!E3(n.startAt,t.startAt)&&E3(n.endAt,t.endAt)}function Vv(n){return We.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,e=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O9(n,t,e,r,i,a,l,c){return new wd(n,t,e,r,i,a,l,c)}function S0(n){return new wd(n)}function x3(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xT(n){return n.collectionGroup!==null}function Up(n){const t=An(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new vs(Ys.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(t).forEach((a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new tm(a,r))})),e.has(Ys.keyField().canonicalString())||t.Ie.push(new tm(Ys.keyField(),r))}return t.Ie}function Ml(n){const t=An(n);return t.Ee||(t.Ee=k9(t,Up(n))),t.Ee}function k9(n,t){if(n.limitType==="F")return A3(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new tm(i.field,a)}));const e=n.endAt?new V1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new V1(n.startAt.position,n.startAt.inclusive):null;return A3(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function zv(n,t){const e=n.filters.concat([t]);return new wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function z1(n,t,e){return new wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function T0(n,t){return rb(Ml(n),Ml(t))&&n.limitType===t.limitType}function ST(n){return`${nb(Ml(n))}|lt:${n.limitType}`}function Of(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((i=>ET(i))).join(", ")}]`),A0(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>ad(i))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>ad(i))).join(",")),`Target(${r})`})(Ml(n))}; limitType=${n.limitType})`}function N0(n,t){return t.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):We.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,t)&&(function(r,i){for(const a of Up(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=w3(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,Up(r),i)||r.endAt&&!(function(l,c,h){const f=w3(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,Up(r),i))})(n,t)}function D9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TT(n){return(t,e)=>{let r=!1;for(const i of Up(n)){const a=P9(i,t,e);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function P9(n,t,e){const r=n.field.isKeyField()?We.comparator(t.key,e.key):(function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?sd(h,f):rn(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Gc(this.inner,((e,r)=>{for(const[i,a]of r)t(i,a)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new xi(We.comparator);function Nu(){return M9}const NT=new xi(We.comparator);function Cp(...n){let t=NT;for(const e of n)t=t.insert(e.key,e);return t}function CT(n){let t=NT;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function _h(){return Bp()}function RT(){return Bp()}function Bp(){return new Uh((n=>n.toString()),((n,t)=>n.isEqual(t)))}const j9=new xi(We.comparator),q9=new vs(We.comparator);function Yn(...n){let t=q9;for(const e of n)t=t.add(e);return t}const U9=new vs(Wn);function B9(){return U9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U1(t)?"-0":t}}function LT(n){return{integerValue:""+n}}function F9(n,t){return p9(t)?LT(t):ib(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._=void 0}}function V9(n,t,e){return n instanceof em?(function(i,a){const l={fields:{[fT]:{stringValue:hT},[pT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tb(a)&&(a=x0(a)),a&&(l.fields[dT]=a),{mapValue:l}})(e,t):n instanceof nm?OT(n,t):n instanceof rm?kT(n,t):(function(i,a){const l=IT(i,a),c=S3(l)+S3(i.Ae);return Bv(l)&&Bv(i.Ae)?LT(c):ib(i.serializer,c)})(n,t)}function z9(n,t,e){return n instanceof nm?OT(n,t):n instanceof rm?kT(n,t):e}function IT(n,t){return n instanceof H1?(function(r){return Bv(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(t)?t:{integerValue:0}:null}class em extends C0{}class nm extends C0{constructor(t){super(),this.elements=t}}function OT(n,t){const e=DT(t);for(const r of n.elements)e.some((i=>Fl(i,r)))||e.push(r);return{arrayValue:{values:e}}}class rm extends C0{constructor(t){super(),this.elements=t}}function kT(n,t){let e=DT(t);for(const r of n.elements)e=e.filter((i=>!Fl(i,r)));return{arrayValue:{values:e}}}class H1 extends C0{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function S3(n){return Gi(n.integerValue||n.doubleValue)}function DT(n){return eb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(t,e){this.field=t,this.transform=e}}function $9(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof nm&&i instanceof nm||r instanceof rm&&i instanceof rm?id(r.elements,i.elements,Fl):r instanceof H1&&i instanceof H1?Fl(r.Ae,i.Ae):r instanceof em&&i instanceof em})(n.transform,t.transform)}class G9{constructor(t,e){this.version=t,this.transformResults=e}}class Oo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oo}static exists(t){return new Oo(void 0,t)}static updateTime(t){return new Oo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _1(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class R0{}function PT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new sb(n.key,Oo.none()):new Em(n.key,n.data,Oo.none());{const e=n.data,r=Ua.empty();let i=new vs(Ys.comparator);for(let a of t.fields)if(!i.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Kc(n.key,r,new eo(i.toArray()),Oo.none())}}function K9(n,t,e){n instanceof Em?(function(i,a,l){const c=i.value.clone(),h=N3(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,t,e):n instanceof Kc?(function(i,a,l){if(!_1(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=N3(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(MT(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,t,e):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function Fp(n,t,e,r){return n instanceof Em?(function(a,l,c,h){if(!_1(a.precondition,l))return c;const f=a.value.clone(),p=C3(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,r):n instanceof Kc?(function(a,l,c,h){if(!_1(a.precondition,l))return c;const f=C3(a.fieldTransforms,h,l),p=l.data;return p.setAll(MT(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,t,e,r):(function(a,l,c){return _1(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,t,e)}function W9(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),a=IT(r.transform,i||null);a!=null&&(e===null&&(e=Ua.empty()),e.set(r.field,a))}return e||null}function T3(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&id(r,i,((a,l)=>$9(a,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Em extends R0{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kc extends R0{constructor(t,e,r,i,a=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MT(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function N3(n,t,e){const r=new Map;_r(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){const a=n[i],l=a.transform,c=t.data.field(a.field);r.set(a.field,z9(l,c,e[i]))}return r}function C3(n,t,e){const r=new Map;for(const i of n){const a=i.transform,l=e.data.field(i.field);r.set(i.field,V9(a,l,t))}return r}class sb extends R0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y9 extends R0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&K9(a,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Fp(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Fp(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=RT();return this.mutations.forEach((i=>{const a=t.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(i.key)?null:c;const h=PT(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(bn.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Yn())}isEqual(t){return this.batchId===t.batchId&&id(this.mutations,t.mutations,((e,r)=>T3(e,r)))&&id(this.baseMutations,t.baseMutations,((e,r)=>T3(e,r)))}}class ab{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){_r(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return j9})();const a=t.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new ab(t,e,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as,nr;function J9(n){switch(n){case Jt.OK:return rn(64938);case Jt.CANCELLED:case Jt.UNKNOWN:case Jt.DEADLINE_EXCEEDED:case Jt.RESOURCE_EXHAUSTED:case Jt.INTERNAL:case Jt.UNAVAILABLE:case Jt.UNAUTHENTICATED:return!1;case Jt.INVALID_ARGUMENT:case Jt.NOT_FOUND:case Jt.ALREADY_EXISTS:case Jt.PERMISSION_DENIED:case Jt.FAILED_PRECONDITION:case Jt.ABORTED:case Jt.OUT_OF_RANGE:case Jt.UNIMPLEMENTED:case Jt.DATA_LOSS:return!0;default:return rn(15467,{code:n})}}function jT(n){if(n===void 0)return Tu("GRPC error has no .code"),Jt.UNKNOWN;switch(n){case as.OK:return Jt.OK;case as.CANCELLED:return Jt.CANCELLED;case as.UNKNOWN:return Jt.UNKNOWN;case as.DEADLINE_EXCEEDED:return Jt.DEADLINE_EXCEEDED;case as.RESOURCE_EXHAUSTED:return Jt.RESOURCE_EXHAUSTED;case as.INTERNAL:return Jt.INTERNAL;case as.UNAVAILABLE:return Jt.UNAVAILABLE;case as.UNAUTHENTICATED:return Jt.UNAUTHENTICATED;case as.INVALID_ARGUMENT:return Jt.INVALID_ARGUMENT;case as.NOT_FOUND:return Jt.NOT_FOUND;case as.ALREADY_EXISTS:return Jt.ALREADY_EXISTS;case as.PERMISSION_DENIED:return Jt.PERMISSION_DENIED;case as.FAILED_PRECONDITION:return Jt.FAILED_PRECONDITION;case as.ABORTED:return Jt.ABORTED;case as.OUT_OF_RANGE:return Jt.OUT_OF_RANGE;case as.UNIMPLEMENTED:return Jt.UNIMPLEMENTED;case as.DATA_LOSS:return Jt.DATA_LOSS;default:return rn(39323,{code:n})}}(nr=as||(as={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Oc([4294967295,4294967295],0);function R3(n){const t=tD().encode(n),e=new ZS;return e.update(t),new Uint8Array(e.digest())}function L3(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Oc([e,r],0),new Oc([i,a],0)]}class ob{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Rp(`Invalid padding: ${e}`);if(r<0)throw new Rp(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rp(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Rp(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Oc.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(Oc.fromNumber(r)));return i.compare(eD)===1&&(i=new Oc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=R3(t),[r,i]=L3(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new ob(a,i,e);return r.forEach((c=>l.insert(c))),l}insert(t){if(this.ge===0)return;const e=R3(t),[r,i]=L3(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,e,r,i,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,Am.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new L0(bn.min(),i,new xi(Wn),Nu(),Yn())}}class Am{constructor(t,e,r,i,a){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Am(r,e,Yn(),Yn(),Yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}}class qT{constructor(t,e){this.targetId=t,this.Ce=e}}class UT{constructor(t,e,r=Zs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class I3{constructor(){this.ve=0,this.Fe=O3(),this.Me=Zs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yn(),e=Yn(),r=Yn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:rn(38017,{changeType:a})}})),new Am(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=O3()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_r(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nD{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nu(),this.Je=Vg(),this.He=Vg(),this.Ye=new xi(Wn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:rn(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,i)=>{this.rt(i)&&e(i)}))}st(t){const e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){const a=i.target;if(Vv(a))if(r===0){const l=new We(a.path);this.et(e,l,ua.newNoDocument(l,bn.min()))}else _r(r===1,20013,{expectedCount:r});else{const l=this._t(e);if(l!==r){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=e;let l,c;try{l=qc(r).toUint8Array()}catch(h){if(h instanceof cT)return rd("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new ob(l,i,a)}catch(h){return rd(h instanceof Rp?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.et(e,a,null),i++)})),i}Tt(t){const e=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Vv(c.target)){const h=new We(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ua.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}}));let r=Yn();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(t)));const i=new L0(t,e,this.Ye,this.je,r);return this.je=Nu(),this.Je=Vg(),this.He=Vg(),this.Ye=new xi(Wn),i}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new I3,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new vs(Wn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new vs(Wn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Se("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new I3),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vg(){return new xi(We.comparator)}function O3(){return new xi(We.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},iD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class aD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Hv(n,t){return n.useProto3Json||A0(t)?t:{value:t}}function $1(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function oD(n,t){return $1(n,t.toTimestamp())}function jl(n){return _r(!!n,49232),bn.fromTimestamp((function(e){const r=jc(e);return new ei(r.seconds,r.nanos)})(n))}function lb(n,t){return $v(n,t).canonicalString()}function $v(n,t){const e=(function(i){return new Kr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function FT(n){const t=Kr.fromString(n);return _r(GT(t),10190,{key:t.toString()}),t}function Gv(n,t){return lb(n.databaseId,t.path)}function Ry(n,t){const e=FT(t);if(e.get(1)!==n.databaseId.projectId)throw new me(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new me(Jt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new We(zT(e))}function VT(n,t){return lb(n.databaseId,t)}function lD(n){const t=FT(n);return t.length===4?Kr.emptyPath():zT(t)}function Kv(n){return new Kr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zT(n){return _r(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function k3(n,t,e){return{name:Gv(n,t),fields:e.value.mapValue.fields}}function uD(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rn(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(_r(p===void 0||typeof p=="string",58123),Zs.fromBase64String(p||"")):(_r(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zs.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?Jt.UNKNOWN:jT(f.code);return new me(p,f.message||"")})(l);e=new UT(r,i,a,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ry(n,r.document.name),a=jl(r.document.updateTime),l=r.document.createTime?jl(r.document.createTime):bn.min(),c=new Ua({mapValue:{fields:r.document.fields}}),h=ua.newFoundDocument(i,a,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];e=new w1(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ry(n,r.document),a=r.readTime?jl(r.readTime):bn.min(),l=ua.newNoDocument(i,a),c=r.removedTargetIds||[];e=new w1([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ry(n,r.document),a=r.removedTargetIds||[];e=new w1([],a,i,null)}else{if(!("filter"in t))return rn(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new Z9(i,a),c=r.targetId;e=new qT(c,l)}}return e}function cD(n,t){let e;if(t instanceof Em)e={update:k3(n,t.key,t.value)};else if(t instanceof sb)e={delete:Gv(n,t.key)};else if(t instanceof Kc)e={update:k3(n,t.key,t.data),updateMask:bD(t.fieldMask)};else{if(!(t instanceof Y9))return rn(16599,{Vt:t.type});e={verify:Gv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof em)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nm)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rm)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof H1)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw rn(20930,{transform:l.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:oD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:rn(27497)})(n,t.precondition)),e}function hD(n,t){return n&&n.length>0?(_r(t!==void 0,14353),n.map((e=>(function(i,a){let l=i.updateTime?jl(i.updateTime):jl(a);return l.isEqual(bn.min())&&(l=jl(a)),new G9(l,i.transformResults||[])})(e,t)))):[]}function fD(n,t){return{documents:[VT(n,t.path)]}}function dD(n,t){const e={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=VT(n,i);const a=(function(f){if(f.length!==0)return $T(al.create(f,"and"))})(t.filters);a&&(e.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:kf(_.field),direction:gD(_.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=Hv(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:i}}function pD(n){let t=lD(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){_r(r===1,65062);const p=e.from[0];p.allDescendants?i=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=(function(w){const _=HT(w);return _ instanceof al&&_T(_)?_.getFilters():[_]})(e.where));let l=[];e.orderBy&&(l=(function(w){return w.map((_=>(function(N){return new tm(Df(N.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(_)))})(e.orderBy));let c=null;e.limit&&(c=(function(w){let _;return _=typeof w=="object"?w.value:w,A0(_)?null:_})(e.limit));let h=null;e.startAt&&(h=(function(w){const _=!!w.before,v=w.values||[];return new V1(v,_)})(e.startAt));let f=null;return e.endAt&&(f=(function(w){const _=!w.before,v=w.values||[];return new V1(v,_)})(e.endAt)),O9(t,i,l,a,c,"F",h,f)}function mD(n,t){const e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function HT(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Df(e.unaryFilter.field);return os.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Df(e.unaryFilter.field);return os.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Df(e.unaryFilter.field);return os.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Df(e.unaryFilter.field);return os.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rn(61313);default:return rn(60726)}})(n):n.fieldFilter!==void 0?(function(e){return os.create(Df(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rn(58110);default:return rn(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return al.create(e.compositeFilter.filters.map((r=>HT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rn(1026)}})(e.compositeFilter.op))})(n):rn(30097,{filter:n})}function gD(n){return rD[n]}function yD(n){return iD[n]}function vD(n){return sD[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Df(n){return Ys.fromServerFormat(n.fieldPath)}function $T(n){return n instanceof os?(function(e){if(e.op==="=="){if(_3(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NAN"}};if(b3(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(_3(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NAN"}};if(b3(e.value))return{unaryFilter:{field:kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(e.field),op:yD(e.op),value:e.value}}})(n):n instanceof al?(function(e){const r=e.getFilters().map((i=>$T(i)));return r.length===1?r[0]:{compositeFilter:{op:vD(e.op),filters:r}}})(n):rn(54877,{filter:n})}function bD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function GT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,e,r,i,a=bn.min(),l=bn.min(),c=Zs.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Tc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.yt=t}}function wD(n){const t=pD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?z1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Cn=new AD}addToCollectionParentIndex(t,e){return this.Cn.add(e),ie.resolve()}getCollectionParents(t,e){return ie.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ie.resolve()}deleteFieldIndex(t,e){return ie.resolve()}deleteAllFieldIndexes(t){return ie.resolve()}createTargetIndexes(t,e){return ie.resolve()}getDocumentsMatchingTarget(t,e){return ie.resolve(null)}getIndexType(t,e){return ie.resolve(0)}getFieldIndexes(t,e){return ie.resolve([])}getNextCollectionGroupToUpdate(t){return ie.resolve(null)}getMinOffset(t,e){return ie.resolve(Mc.min())}getMinOffsetFromCollectionGroup(t,e){return ie.resolve(Mc.min())}updateCollectionGroup(t,e,r){return ie.resolve()}updateIndexEntries(t,e){return ie.resolve()}}class AD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new vs(Kr.comparator),a=!i.has(r);return this.index[e]=i.add(r),a}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new vs(Kr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class qa{static withCacheSize(t){return new qa(t,qa.DEFAULT_COLLECTION_PERCENTILE,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qa.DEFAULT_COLLECTION_PERCENTILE=10,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qa.DEFAULT=new qa(KT,qa.DEFAULT_COLLECTION_PERCENTILE,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qa.DISABLED=new qa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new od(0)}static cr(){return new od(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="LruGarbageCollector",xD=1048576;function M3([n,t],[e,r]){const i=Wn(n,e);return i===0?Wn(t,r):i}class SD{constructor(t){this.Ir=t,this.buffer=new vs(M3),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();M3(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class TD{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Se(P3,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_d(e)?Se(P3,"Ignoring IndexedDB error during garbage collection: ",e):await bd(e)}await this.Vr(3e5)}))}}class ND{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return ie.resolve(E0.ce);const r=new SD(e);return this.mr.forEachTarget(t,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(D3)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D3):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(t,i)))).next((w=>(r=w,c=Date.now(),this.removeTargets(t,r,e)))).next((w=>(a=w,h=Date.now(),this.removeOrphanedDocuments(t,r)))).next((w=>(f=Date.now(),If()<=Kn.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${w} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w}))))}}function CD(n,t){return new ND(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.changes=new Uh((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ua.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?ie.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(r=i,this.remoteDocumentCache.getEntry(t,e)))).next((i=>(r!==null&&Fp(r.mutation,i,eo.empty(),ei.now()),i)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Yn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Yn()){const i=_h();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,r).next((a=>{let l=Cp();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const r=_h();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Yn())))}populateOverlays(t,e,r){const i=[];return r.forEach((a=>{e.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((l,c)=>{e.set(l,c)}))}))}computeViews(t,e,r,i){let a=Nu();const l=Bp(),c=(function(){return Bp()})();return e.forEach(((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Kc)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Fp(p.mutation,f,p.mutation.getFieldMask(),ei.now())):l.set(f.key,eo.empty())})),this.recalculateAndSaveOverlays(t,a).next((h=>(h.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>c.set(f,new LD(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(t,e){const r=Bp();let i=new xi(((l,c)=>l-c)),a=Yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=e.get(h);if(f===null)return;let p=r.get(h)||eo.empty();p=c.applyToLocalView(f,p),r.set(h,p);const w=(i.get(c.batchId)||Yn()).add(h);i=i.insert(c.batchId,w)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,w=RT();p.forEach((_=>{if(!a.has(_)){const v=PT(e.get(_),r.get(_));v!==null&&w.set(_,v),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,w))}return ie.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,i){return(function(l){return We.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-a.size):ie.resolve(_h());let c=Qp,h=a;return l.next((f=>ie.forEach(f,((p,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(p)?ie.resolve():this.remoteDocumentCache.getEntry(t,p).next((_=>{h=h.insert(p,_)}))))).next((()=>this.populateOverlays(t,f,a))).next((()=>this.computeViews(t,h,f,Yn()))).next((p=>({batchId:c,changes:CT(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new We(e)).next((r=>{let i=Cp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const a=e.collectionGroup;let l=Cp();return this.indexManager.getCollectionParents(t,a).next((c=>ie.forEach(c,(h=>{const f=(function(w,_){return new wd(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,r,i).next((p=>{p.forEach(((w,_)=>{l=l.insert(w,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,a,i)))).next((l=>{a.forEach(((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ua.newInvalidDocument(p)))}));let c=Cp();return l.forEach(((h,f)=>{const p=a.get(h);p!==void 0&&Fp(p.mutation,f,eo.empty(),ei.now()),N0(e,f)&&(c=c.insert(h,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ie.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:jl(i.createTime)}})(e)),ie.resolve()}getNamedQuery(t,e){return ie.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:wD(i.bundledQuery),readTime:jl(i.readTime)}})(e)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.overlays=new xi(We.comparator),this.qr=new Map}getOverlay(t,e){return ie.resolve(this.overlays.get(e))}getOverlays(t,e){const r=_h();return ie.forEach(e,(i=>this.getOverlay(t,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((i,a)=>{this.St(t,e,a)})),ie.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(t,e,r){const i=_h(),a=e.length+1,l=new We(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ie.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let a=new xi(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=_h(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=_h(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return ie.resolve(c)}St(t,e,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new X9(e,r));let a=this.qr.get(e);a===void 0&&(a=Yn(),this.qr.set(e,a)),this.qr.set(e,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.sessionToken=Zs.EMPTY_BYTE_STRING}getSessionToken(t){return ie.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.Qr=new vs(Rs.$r),this.Ur=new vs(Rs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Rs(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Rs(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new We(new Kr([])),r=new Rs(e,t),i=new Rs(e,t+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new We(new Kr([])),r=new Rs(e,t),i=new Rs(e,t+1);let a=Yn();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(t){const e=new Rs(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Rs{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return We.comparator(t.key,e.key)||Wn(t.Yr,e.Yr)}static Kr(t,e){return Wn(t.Yr,e.Yr)||We.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new vs(Rs.$r)}checkEmpty(t){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q9(a,e,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Rs(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(t,e){return ie.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=this.ei(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?J5:this.tr-1)}getAllMutationBatches(t){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Rs(e,0),i=new Rs(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new vs(Wn);return e.forEach((i=>{const a=new Rs(i,0),l=new Rs(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const l=new Rs(new We(a),0);let c=new vs(Wn);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),ie.resolve(this.ti(c))}ti(t){const e=[];return t.forEach((r=>{const i=this.Xr(r);i!==null&&e.push(i)})),e}removeMutationBatch(t,e){_r(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(e.mutations,(i=>{const a=new Rs(i.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Rs(e,0),i=this.Zr.firstAfterOrEqual(r);return ie.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ie.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.ri=t,this.docs=(function(){return new xi(We.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ie.resolve(r?r.document.mutableCopy():ua.newInvalidDocument(e))}getEntries(t,e){let r=Nu();return e.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ua.newInvalidDocument(i))})),ie.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let a=Nu();const l=e.path,c=new We(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||c9(u9(p),r)<=0||(i.has(p.key)||N0(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(t,e,r,i){rn(9500)}ii(t,e){return ie.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new jD(this)}getSize(t){return ie.resolve(this.size)}}class jD extends RD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)})),ie.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.persistence=t,this.si=new Uh((e=>nb(e)),rb),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.oi=0,this._i=new ub,this.targetCount=0,this.ai=od.ur()}forEachTarget(t,e){return this.si.forEach(((r,i)=>e(i))),ie.resolve()}getLastRemoteSnapshotVersion(t){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ie.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),ie.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new od(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ie.resolve()}updateTargetData(t,e){return this.Pr(e),ie.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ie.resolve()}removeTargets(t,e,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)})),ie.waitFor(a).next((()=>i))}getTargetCount(t){return ie.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return ie.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),ie.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const i=this.persistence.referenceDelegate,a=[];return i&&e.forEach((l=>{a.push(i.markPotentiallyOrphaned(t,l))})),ie.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ie.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return ie.resolve(r)}containsKey(t,e){return ie.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,e){this.ui={},this.overlays={},this.ci=new E0(0),this.li=!1,this.li=!0,this.hi=new DD,this.referenceDelegate=t(this),this.Pi=new qD(this),this.indexManager=new ED,this.remoteDocumentCache=(function(i){return new MD(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _D(e),this.Ii=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new kD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new PD(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Se("MemoryPersistence","Starting transaction:",t);const i=new UD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(t,e){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class UD extends f9{constructor(t){super(),this.currentSequenceNumber=t}}class cb{constructor(t){this.persistence=t,this.Ri=new ub,this.Vi=null}static mi(t){return new cb(t)}get fi(){if(this.Vi)return this.Vi;throw rn(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),ie.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ie.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const i=We.fromPath(r);return this.gi(t,i).next((a=>{a||e.removeEntry(i,bn.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ie.or([()=>ie.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class G1{constructor(t,e){this.persistence=t,this.pi=new Uh((r=>m9(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=CD(this,e)}static mi(t,e){return new G1(t,e)}Ei(){}di(t){return ie.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((i=>r+i))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return ie.forEach(this.pi,((r,i)=>this.br(t,r,i).next((a=>a?ie.resolve():e(i)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,(l=>this.br(t,l,e).next((c=>{c||(r++,a.removeEntry(l,bn.min()))})))).next((()=>a.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ie.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ie.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),ie.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ie.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=v1(t.data.value)),e}br(t,e,r){return ie.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=Yn(),i=Yn();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hb(t,e.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yI()?8:d9(ha())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){const a={result:null};return this.ys(t,e).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(t,e,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new BD;return this.Ss(t,e,l).next((c=>{if(a.result=c,this.Vs)return this.bs(t,e,l,c.size)}))})).next((()=>a.result))}bs(t,e,r,i){return r.documentReadCount<this.fs?(If()<=Kn.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Of(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(If()<=Kn.DEBUG&&Se("QueryEngine","Query:",Of(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(If()<=Kn.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Of(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ml(e))):ie.resolve())}ys(t,e){if(x3(e))return ie.resolve(null);let r=Ml(e);return this.indexManager.getIndexType(t,r).next((i=>i===0?null:(e.limit!==null&&i===1&&(e=z1(e,null,"F"),r=Ml(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((a=>{const l=Yn(...a);return this.ps.getDocuments(t,l).next((c=>this.indexManager.getMinOffset(t,r).next((h=>{const f=this.Ds(e,c);return this.Cs(e,f,l,h.readTime)?this.ys(t,z1(e,null,"F")):this.vs(t,f,e,h)}))))})))))}ws(t,e,r,i){return x3(e)||i.isEqual(bn.min())?ie.resolve(null):this.ps.getDocuments(t,r).next((a=>{const l=this.Ds(e,a);return this.Cs(e,l,r,i)?ie.resolve(null):(If()<=Kn.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Of(e)),this.vs(t,l,e,l9(i,Qp)).next((c=>c)))}))}Ds(t,e){let r=new vs(TT(t));return e.forEach(((i,a)=>{N0(t,a)&&(r=r.add(a))})),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,e,r){return If()<=Kn.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Of(e)),this.ps.getDocumentsMatchingQuery(t,e,Mc.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next((a=>(e.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="LocalStore",VD=3e8;class zD{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new xi(Wn),this.xs=new Uh((a=>nb(a)),rb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ID(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function HD(n,t,e,r){return new zD(n,t,e,r)}async function YT(n,t){const e=An(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let h=Yn();for(const f of i){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function $D(n,t){const e=An(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,p){const w=f.batch,_=w.keys();let v=ie.resolve();return _.forEach((N=>{v=v.next((()=>p.getEntry(h,N))).next((I=>{const k=f.docVersions.get(N);_r(k!==null,48541),I.version.compareTo(k)<0&&(w.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),p.addEntry(I)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(h,w)))})(e,r,t,a).next((()=>a.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Yn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(t)))).next((()=>e.localDocuments.getDocuments(r,i)))}))}function QT(n){const t=An(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function GD(n,t){const e=An(n),r=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const c=[];t.targetChanges.forEach(((p,w)=>{const _=i.get(w);if(!_)return;c.push(e.Pi.removeMatchingKeys(a,p.removedDocuments,w).next((()=>e.Pi.addMatchingKeys(a,p.addedDocuments,w))));let v=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(w)!==null?v=v.withResumeToken(Zs.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(w,v),(function(I,k,P){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=VD?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(_,v,p)&&c.push(e.Pi.updateTargetData(a,v))}));let h=Nu(),f=Yn();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(KD(a,l,t.documentUpdates).next((p=>{h=p.ks,f=p.qs}))),!r.isEqual(bn.min())){const p=e.Pi.getLastRemoteSnapshotVersion(a).next((w=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return ie.waitFor(c).next((()=>l.apply(a))).next((()=>e.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(e.Ms=i,a)))}function KD(n,t,e){let r=Yn(),i=Yn();return e.forEach((a=>r=r.add(a))),t.getEntries(n,r).next((a=>{let l=Nu();return e.forEach(((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(bn.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):Se(fb,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function WD(n,t){const e=An(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=J5),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function YD(n,t){const e=An(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return e.Pi.getTargetData(r,t).next((a=>a?(i=a,ie.resolve(i)):e.Pi.allocateTargetId(r).next((l=>(i=new Tc(t,l,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Wv(n,t,e){const r=An(n),i=r.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!_d(l))throw l;Se(fb,`Failed to update sequence numbers for target ${t}: ${l}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function j3(n,t,e){const r=An(n);let i=bn.min(),a=Yn();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,p){const w=An(h),_=w.xs.get(p);return _!==void 0?ie.resolve(w.Ms.get(_)):w.Pi.getTargetData(f,p)})(r,l,Ml(t)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,t,e?i:bn.min(),e?a:Yn()))).next((c=>(QD(r,D9(t),c),{documents:c,Qs:a})))))}function QD(n,t,e){let r=n.Os.get(t)||bn.min();e.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(t,r)}class q3{constructor(){this.activeTargetIds=B9()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XD{constructor(){this.Mo=new q3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new q3,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="ConnectivityMonitor";class B3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(U3,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Se(U3,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg=null;function Yv(){return zg===null?zg=(function(){return 268435456+Math.round(2147483648*Math.random())})():zg++,"0x"+zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="RestConnection",JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===B1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,a){const l=Yv(),c=this.zo(t,e.toUriEncodedString());Se(Ly,`Sending RPC '${t}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:f}=new URL(c),p=md(f);return this.Jo(t,c,h,r,p).then((w=>(Se(Ly,`Received RPC '${t}' ${l}: `,w),w)),(w=>{throw rd(Ly,`RPC '${t}' ${l} failed with error: `,w,"url: ",c,"request:",r),w}))}Ho(t,e,r,i,a,l){return this.Go(t,e,r,i,a)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vd})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((i,a)=>t[a]=i)),r&&r.headers.forEach(((i,a)=>t[a]=i))}zo(t,e){const r=JD[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="WebChannelConnection";class nP extends tP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,a){const l=Yv();return new Promise(((c,h)=>{const f=new JS;f.setWithCredentials(!0),f.listenOnce(tT.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case y1.NO_ERROR:const w=f.getResponseJson();Se(ra,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(w)),c(w);break;case y1.TIMEOUT:Se(ra,`RPC '${t}' ${l} timed out`),h(new me(Jt.DEADLINE_EXCEEDED,"Request time out"));break;case y1.HTTP_ERROR:const _=f.getStatus();if(Se(ra,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const N=v?.error;if(N&&N.status&&N.message){const I=(function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(Jt).indexOf(H)>=0?H:Jt.UNKNOWN})(N.status);h(new me(I,N.message))}else h(new me(Jt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(Jt.UNAVAILABLE,"Connection failed."));break;default:rn(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(ra,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(i);Se(ra,`RPC '${t}' ${l} sending request:`,i),f.send(e,"POST",p,r,15)}))}T_(t,e,r){const i=Yv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=rT(),c=nT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,r),h.encodeInitMessageHeaders=!0;const p=a.join("");Se(ra,`Creating RPC '${t}' stream ${i}: ${p}`,h);const w=l.createWebChannel(p,h);this.I_(w);let _=!1,v=!1;const N=new eP({Yo:k=>{v?Se(ra,`Not sending because RPC '${t}' stream ${i} is closed:`,k):(_||(Se(ra,`Opening RPC '${t}' stream ${i} transport.`),w.open(),_=!0),Se(ra,`RPC '${t}' stream ${i} sending:`,k),w.send(k))},Zo:()=>w.close()}),I=(k,P,H)=>{k.listen(P,(X=>{try{H(X)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return I(w,Np.EventType.OPEN,(()=>{v||(Se(ra,`RPC '${t}' stream ${i} transport opened.`),N.o_())})),I(w,Np.EventType.CLOSE,(()=>{v||(v=!0,Se(ra,`RPC '${t}' stream ${i} transport closed`),N.a_(),this.E_(w))})),I(w,Np.EventType.ERROR,(k=>{v||(v=!0,rd(ra,`RPC '${t}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),N.a_(new me(Jt.UNAVAILABLE,"The operation could not be completed")))})),I(w,Np.EventType.MESSAGE,(k=>{if(!v){const P=k.data[0];_r(!!P,16349);const H=P,X=H?.error||H[0]?.error;if(X){Se(ra,`RPC '${t}' stream ${i} received error:`,X);const Z=X.status;let pt=(function(U){const M=as[U];if(M!==void 0)return jT(M)})(Z),wt=X.message;pt===void 0&&(pt=Jt.INTERNAL,wt="Unknown error status: "+Z+" with message "+X.message),v=!0,N.a_(new me(pt,wt)),w.close()}else Se(ra,`RPC '${t}' stream ${i} received:`,P),N.u_(P)}})),I(c,eT.STAT_EVENT,(k=>{k.stat===jv.PROXY?Se(ra,`RPC '${t}' stream ${i} detected buffering proxy`):k.stat===jv.NOPROXY&&Se(ra,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(n){return new aD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,e,r=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="PersistentStream";class ZT{constructor(t,e,r,i,a,l,c,h){this.Mi=t,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XT(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Jt.RESOURCE_EXHAUSTED?(Tu(e.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Jt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===e&&this.G_(r,i)}),(r=>{t((()=>{const i=new me(Jt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Se(F3,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Se(F3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rP extends ZT{constructor(t,e,r,i,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=uD(this.serializer,t),r=(function(a){if(!("targetChange"in a))return bn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?bn.min():l.readTime?jl(l.readTime):bn.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Kv(this.serializer),e.addTarget=(function(a,l){let c;const h=l.target;if(c=Vv(h)?{documents:fD(a,h)}:{query:dD(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=BT(a,l.resumeToken);const f=Hv(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(bn.min())>0){c.readTime=$1(a,l.snapshotVersion.toTimestamp());const f=Hv(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,t);const r=mD(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Kv(this.serializer),e.removeTarget=t,this.q_(e)}}class iP extends ZT{constructor(t,e,r,i,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return _r(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_r(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_r(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=hD(t.writeResults,t.commitTime),r=jl(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Kv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>cD(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{}class aP extends sP{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new me(Jt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(t,$v(e,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Jt.UNKNOWN,a.toString())}))}Ho(t,e,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(t,$v(e,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(Jt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tu(e),this.aa=!1):Se("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="RemoteStore";class lP{constructor(t,e,r,i,a){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bh(this)&&(Se(Lh,"Restarting streams for network reachability change."),await(async function(h){const f=An(h);f.Ea.add(4),await xm(f),f.Ra.set("Unknown"),f.Ea.delete(4),await O0(f)})(this))}))})),this.Ra=new oP(r,i)}}async function O0(n){if(Bh(n))for(const t of n.da)await t(!0)}async function xm(n){for(const t of n.da)await t(!1)}function JT(n,t){const e=An(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),gb(e)?mb(e):Ed(e).O_()&&pb(e,t))}function db(n,t){const e=An(n),r=Ed(e);e.Ia.delete(t),r.O_()&&t6(e,t),e.Ia.size===0&&(r.O_()?r.L_():Bh(e)&&e.Ra.set("Unknown"))}function pb(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ed(n).Y_(t)}function t6(n,t){n.Va.Ue(t),Ed(n).Z_(t)}function mb(n){n.Va=new nD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ed(n).start(),n.Ra.ua()}function gb(n){return Bh(n)&&!Ed(n).x_()&&n.Ia.size>0}function Bh(n){return An(n).Ea.size===0}function e6(n){n.Va=void 0}async function uP(n){n.Ra.set("Online")}async function cP(n){n.Ia.forEach(((t,e)=>{pb(n,t)}))}async function hP(n,t){e6(n),gb(n)?(n.Ra.ha(t),mb(n)):n.Ra.set("Unknown")}async function fP(n,t,e){if(n.Ra.set("Online"),t instanceof UT&&t.state===2&&t.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(n,t)}catch(r){Se(Lh,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await K1(n,r)}else if(t instanceof w1?n.Va.Ze(t):t instanceof qT?n.Va.st(t):n.Va.tt(t),!e.isEqual(bn.min()))try{const r=await QT(n.localStore);e.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(Zs.EMPTY_BYTE_STRING,p.snapshotVersion)),t6(a,h);const w=new Tc(p.target,h,f,p.sequenceNumber);pb(a,w)})),a.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){Se(Lh,"Failed to raise snapshot:",r),await K1(n,r)}}async function K1(n,t,e){if(!_d(t))throw t;n.Ea.add(1),await xm(n),n.Ra.set("Offline"),e||(e=()=>QT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Se(Lh,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await O0(n)}))}function n6(n,t){return t().catch((e=>K1(n,e,t)))}async function k0(n){const t=An(n),e=Bc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:J5;for(;dP(t);)try{const i=await WD(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,pP(t,i)}catch(i){await K1(t,i)}r6(t)&&i6(t)}function dP(n){return Bh(n)&&n.Ta.length<10}function pP(n,t){n.Ta.push(t);const e=Bc(n);e.O_()&&e.X_&&e.ea(t.mutations)}function r6(n){return Bh(n)&&!Bc(n).x_()&&n.Ta.length>0}function i6(n){Bc(n).start()}async function mP(n){Bc(n).ra()}async function gP(n){const t=Bc(n);for(const e of n.Ta)t.ea(e.mutations)}async function yP(n,t,e){const r=n.Ta.shift(),i=ab.from(r,t,e);await n6(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await k0(n)}async function vP(n,t){t&&Bc(n).X_&&await(async function(r,i){if((function(l){return J9(l)&&l!==Jt.ABORTED})(i.code)){const a=r.Ta.shift();Bc(r).B_(),await n6(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await k0(r)}})(n,t),r6(n)&&i6(n)}async function V3(n,t){const e=An(n);e.asyncQueue.verifyOperationInProgress(),Se(Lh,"RemoteStore received new credentials");const r=Bh(e);e.Ea.add(3),await xm(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await O0(e)}async function bP(n,t){const e=An(n);t?(e.Ea.delete(2),await O0(e)):t||(e.Ea.add(2),await xm(e),e.Ra.set("Unknown"))}function Ed(n){return n.ma||(n.ma=(function(e,r,i){const a=An(e);return a.sa(),new rP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:uP.bind(null,n),t_:cP.bind(null,n),r_:hP.bind(null,n),H_:fP.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),gb(n)?mb(n):n.Ra.set("Unknown")):(await n.ma.stop(),e6(n))}))),n.ma}function Bc(n){return n.fa||(n.fa=(function(e,r,i){const a=An(e);return a.sa(),new iP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:mP.bind(null,n),r_:vP.bind(null,n),ta:gP.bind(null,n),na:yP.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await k0(n)):(await n.fa.stop(),n.Ta.length>0&&(Se(Lh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,e,r,i,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,a){const l=Date.now()+r,c=new yb(t,e,l,i,a);return c.start(r),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Jt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vb(n,t){if(Tu("AsyncQueue",`${t}: ${n}`),_d(n))return new me(Jt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{static emptySet(t){return new Wf(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||We.comparator(e.key,r.key):(e,r)=>We.comparator(e.key,r.key),this.keyedMap=Cp(),this.sortedSet=new xi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Wf;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.ga=new xi(We.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):rn(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ld{constructor(t,e,r,i,a,l,c,h,f){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,r,i,a){const l=[];return e.forEach((c=>{l.push({type:0,doc:c})})),new ld(t,e,Wf.emptySet(e),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&T0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class wP{constructor(){this.queries=H3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const i=An(e),a=i.queries;i.queries=H3(),a.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new me(Jt.ABORTED,"Firestore shutting down"))}}function H3(){return new Uh((n=>ST(n)),T0)}async function bb(n,t){const e=An(n);let r=3;const i=t.query;let a=e.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new _P,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await e.onListen(i,!0);break;case 1:a.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(l){const c=vb(l,`Initialization of query '${Of(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&wb(e)}async function _b(n,t){const e=An(n),r=t.query;let i=3;const a=e.queries.get(r);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function EP(n,t){const e=An(n);let r=!1;for(const i of t){const a=i.query,l=e.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&wb(e)}function AP(n,t,e){const r=An(n),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(e);r.queries.delete(t)}function wb(n){n.Ca.forEach((t=>{t.next()}))}var Qv,$3;($3=Qv||(Qv={})).Ma="default",$3.Cache="cache";class Eb{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ld(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ld.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t){this.key=t}}class a6{constructor(t){this.key=t}}class xP{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Yn(),this.mutatedKeys=Yn(),this.eu=TT(t),this.tu=new Wf(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new z3,i=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((p,w)=>{const _=i.get(p),v=N0(this.query,w)?w:null,N=!!_&&this.mutatedKeys.has(_.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;_&&v?_.data.isEqual(v.data)?N!==I&&(r.track({type:3,doc:v}),k=!0):this.su(_,v)||(r.track({type:2,doc:v}),k=!0,(h&&this.eu(v,h)>0||f&&this.eu(v,f)<0)&&(c=!0)):!_&&v?(r.track({type:0,doc:v}),k=!0):_&&!v&&(r.track({type:1,doc:_}),k=!0,(h||f)&&(c=!0)),k&&(v?(l=l.add(v),a=I?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,w)=>(function(v,N){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn(20277,{Rt:k})}};return I(v)-I(N)})(p.type,w.type)||this.eu(p.doc,w.doc))),this.ou(r),i=i??!1;const c=e&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new ld(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Yn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new a6(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new s6(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Yn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ld.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ab="SyncEngine";class SP{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class TP{constructor(t){this.key=t,this.hu=!1}}class NP{constructor(t,e,r,i,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Uh((c=>ST(c)),T0),this.Iu=new Map,this.Eu=new Set,this.du=new xi(We.comparator),this.Au=new Map,this.Ru=new ub,this.Vu={},this.mu=new Map,this.fu=od.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CP(n,t,e=!0){const r=f6(n);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await o6(r,t,e,!0),i}async function RP(n,t){const e=f6(n);await o6(e,t,!0,!1)}async function o6(n,t,e,r){const i=await YD(n.localStore,Ml(t)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let c;return r&&(c=await LP(n,t,a,l==="current",i.resumeToken)),n.isPrimaryClient&&e&&JT(n.remoteStore,i),c}async function LP(n,t,e,r,i){n.pu=(w,_,v)=>(async function(I,k,P,H){let X=k.view.ru(P);X.Cs&&(X=await j3(I.localStore,k.query,!1).then((({documents:K})=>k.view.ru(K,X))));const Z=H&&H.targetChanges.get(k.targetId),pt=H&&H.targetMismatches.get(k.targetId)!=null,wt=k.view.applyChanges(X,I.isPrimaryClient,Z,pt);return K3(I,k.targetId,wt.au),wt.snapshot})(n,w,_,v);const a=await j3(n.localStore,t,!0),l=new xP(t,a.Qs),c=l.ru(a.documents),h=Am.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,h);K3(n,e,f.au);const p=new SP(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function IP(n,t,e){const r=An(n),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!T0(l,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),e&&db(r.remoteStore,i.targetId),Xv(r,i.targetId)})).catch(bd)):(Xv(r,i.targetId),await Wv(r.localStore,i.targetId,!0))}async function OP(n,t){const e=An(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),db(e.remoteStore,r.targetId))}async function kP(n,t,e){const r=BP(n);try{const i=await(function(l,c){const h=An(l),f=ei.now(),p=c.reduce(((v,N)=>v.add(N.key)),Yn());let w,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let N=Nu(),I=Yn();return h.Ns.getEntries(v,p).next((k=>{N=k,N.forEach(((P,H)=>{H.isValidDocument()||(I=I.add(P))}))})).next((()=>h.localDocuments.getOverlayedDocuments(v,N))).next((k=>{w=k;const P=[];for(const H of c){const X=W9(H,w.get(H.key).overlayedDocument);X!=null&&P.push(new Kc(H.key,X,yT(X.value.mapValue),Oo.exists(!0)))}return h.mutationQueue.addMutationBatch(v,f,P,c)})).next((k=>{_=k;const P=k.applyToLocalDocumentSet(w,I);return h.documentOverlayCache.saveOverlays(v,k.batchId,P)}))})).then((()=>({batchId:_.batchId,changes:CT(w)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new xi(Wn)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,e),await Sm(r,i.changes),await k0(r.remoteStore)}catch(i){const a=vb(i,"Failed to persist write");e.reject(a)}}async function l6(n,t){const e=An(n);try{const r=await GD(e.localStore,t);t.targetChanges.forEach(((i,a)=>{const l=e.Au.get(a);l&&(_r(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?_r(l.hu,14607):i.removedDocuments.size>0&&(_r(l.hu,42227),l.hu=!1))})),await Sm(e,r,t)}catch(r){await bd(r)}}function G3(n,t,e){const r=An(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(t);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=An(l);h.onlineState=c;let f=!1;h.queries.forEach(((p,w)=>{for(const _ of w.Sa)_.va(c)&&(f=!0)})),f&&wb(h)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function DP(n,t,e){const r=An(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Au.get(t),a=i&&i.key;if(a){let l=new xi(We.comparator);l=l.insert(a,ua.newNoDocument(a,bn.min()));const c=Yn().add(a),h=new L0(bn.min(),new Map,new xi(Wn),l,c);await l6(r,h),r.du=r.du.remove(a),r.Au.delete(t),xb(r)}else await Wv(r.localStore,t,!1).then((()=>Xv(r,t,e))).catch(bd)}async function PP(n,t){const e=An(n),r=t.batch.batchId;try{const i=await $D(e.localStore,t);c6(e,r,null),u6(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Sm(e,i)}catch(i){await bd(i)}}async function MP(n,t,e){const r=An(n);try{const i=await(function(l,c){const h=An(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next((w=>(_r(w!==null,37113),p=w.keys(),h.mutationQueue.removeMutationBatch(f,w)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(r.localStore,t);c6(r,t,e),u6(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Sm(r,i)}catch(i){await bd(i)}}function u6(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function c6(n,t,e){const r=An(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(e?a.reject(e):a.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Xv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||h6(n,r)}))}function h6(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(db(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),xb(n))}function K3(n,t,e){for(const r of e)r instanceof s6?(n.Ru.addReference(r.key,t),jP(n,r)):r instanceof a6?(Se(Ab,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||h6(n,r.key)):rn(19791,{wu:r})}function jP(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(Se(Ab,"New document in limbo: "+e),n.Eu.add(r),xb(n))}function xb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new We(Kr.fromString(t)),r=n.fu.next();n.Au.set(r,new TP(e)),n.du=n.du.insert(e,r),JT(n.remoteStore,new Tc(Ml(S0(e.path)),r,"TargetPurposeLimboResolution",E0.ce))}}async function Sm(n,t,e){const r=An(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,t,e).then((f=>{if((f||e)&&r.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){i.push(f);const p=hb.As(h.targetId,f);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const p=An(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(f,(_=>ie.forEach(_.Es,(v=>p.persistence.referenceDelegate.addReference(w,_.targetId,v))).next((()=>ie.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(w,_.targetId,v)))))))))}catch(w){if(!_d(w))throw w;Se(fb,"Failed to update sequence numbers: "+w)}for(const w of f){const _=w.targetId;if(!w.fromCache){const v=p.Ms.get(_),N=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(N);p.Ms=p.Ms.insert(_,I)}}})(r.localStore,a))}async function qP(n,t){const e=An(n);if(!e.currentUser.isEqual(t)){Se(Ab,"User change. New user:",t.toKey());const r=await YT(e.localStore,t);e.currentUser=t,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new me(Jt.CANCELLED,l))}))})),a.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Sm(e,r.Ls)}}function UP(n,t){const e=An(n),r=e.Au.get(t);if(r&&r.hu)return Yn().add(r.key);{let i=Yn();const a=e.Iu.get(t);if(!a)return i;for(const l of a){const c=e.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function f6(n){const t=An(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=l6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DP.bind(null,t),t.Pu.H_=EP.bind(null,t.eventManager),t.Pu.yu=AP.bind(null,t.eventManager),t}function BP(n){const t=An(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MP.bind(null,t),t}class W1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=I0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return HD(this.persistence,new FD,t.initialUser,this.serializer)}Cu(t){return new WT(cb.mi,this.serializer)}Du(t){return new XD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}W1.provider={build:()=>new W1};class FP extends W1{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_r(this.persistence.referenceDelegate instanceof G1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TD(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?qa.withCacheSize(this.cacheSizeBytes):qa.DEFAULT;return new WT((r=>G1.mi(r,e)),this.serializer)}}class Zv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qP.bind(null,this.syncEngine),await bP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new wP})()}createDatastore(t){const e=I0(t.databaseInfo.databaseId),r=(function(a){return new nP(a)})(t.databaseInfo);return(function(a,l,c,h){return new aP(a,l,c,h)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,i,a,l,c){return new lP(r,i,a,l,c)})(this.localStore,this.datastore,t.asyncQueue,(e=>G3(this.syncEngine,e,0)),(function(){return B3.v()?new B3:new ZD})())}createSyncEngine(t,e){return(function(i,a,l,c,h,f,p){const w=new NP(i,a,l,c,h,f);return p&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=An(e);Se(Lh,"RemoteStore shutting down."),r.Ea.add(5),await xm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zv.provider={build:()=>new Zv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tu("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="FirestoreClient";class VP{constructor(t,e,r,i,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=la.UNAUTHENTICATED,this.clientId=Z5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Se(Fc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(Fc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=vb(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Oy(n,t){n.asyncQueue.verifyOperationInProgress(),Se(Fc,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await YT(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function W3(n,t){n.asyncQueue.verifyOperationInProgress();const e=await zP(n);Se(Fc,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>V3(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>V3(t.remoteStore,i))),n._onlineComponents=t}async function zP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Fc,"Using user provided OfflineComponentProvider");try{await Oy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===Jt.FAILED_PRECONDITION||i.code===Jt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;rd("Error using user provided cache. Falling back to memory cache: "+e),await Oy(n,new W1)}}else Se(Fc,"Using default OfflineComponentProvider"),await Oy(n,new FP(void 0));return n._offlineComponents}async function d6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Fc,"Using user provided OnlineComponentProvider"),await W3(n,n._uninitializedComponentsProvider._online)):(Se(Fc,"Using default OnlineComponentProvider"),await W3(n,new Zv))),n._onlineComponents}function HP(n){return d6(n).then((t=>t.syncEngine))}async function Y1(n){const t=await d6(n),e=t.eventManager;return e.onListen=CP.bind(null,t.syncEngine),e.onUnlisten=IP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=RP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=OP.bind(null,t.syncEngine),e}function $P(n,t,e={}){const r=new _u;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,f){const p=new Sb({next:_=>{p.Nu(),l.enqueueAndForget((()=>_b(a,w)));const v=_.docs.has(c);!v&&_.fromCache?f.reject(new me(Jt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&h&&h.source==="server"?f.reject(new me(Jt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),w=new Eb(S0(c.path),p,{includeMetadataChanges:!0,qa:!0});return bb(a,w)})(await Y1(n),n.asyncQueue,t,e,r))),r.promise}function GP(n,t,e={}){const r=new _u;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,f){const p=new Sb({next:_=>{p.Nu(),l.enqueueAndForget((()=>_b(a,w))),_.fromCache&&h.source==="server"?f.reject(new me(Jt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),w=new Eb(c,p,{includeMetadataChanges:!0,qa:!0});return bb(a,w)})(await Y1(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="firestore.googleapis.com",Q3=!0;class X3{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new me(Jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m6,this.ssl=Q3}else this.host=t.host,this.ssl=t.ssl??Q3;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xD)throw new me(Jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}o9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p6(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(Jt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class D0{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new me(Jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X3(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xk;switch(r.type){case"firstParty":return new e9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Y3.get(e);r&&(Se("ComponentProvider","Removing Datastore"),Y3.delete(e),r.terminate())})(this),Promise.resolve()}}function KP(n,t,e,r={}){n=Fa(n,D0);const i=md(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${t}:${e}`;i&&(cS(`https://${c}`),hS("Firestore",!0)),a.host!==m6&&a.host!==c&&rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!Sh(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=la.MOCK_USER;else{f=lI(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(Jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new la(w)}n._authCredentials=new Zk(new sT(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Du(this.firestore,t,this._query)}}class ki{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ki(this.firestore,t,this._key)}toJSON(){return{type:ki._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(wm(e,ki._jsonSchema))return new ki(t,r||null,new We(Kr.fromString(e.referencePath)))}}ki._jsonSchemaVersion="firestore/documentReference/1.0",ki._jsonSchema={type:ls("string",ki._jsonSchemaVersion),referencePath:ls("string")};class kc extends Du{constructor(t,e,r){super(t,e,S0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ki(this.firestore,null,new We(t))}withConverter(t){return new kc(this.firestore,t,this._path)}}function Sa(n,t,...e){if(n=Is(n),aT("collection","path",t),n instanceof D0){const r=Kr.fromString(t,...e);return c3(r),new kc(n,null,r)}{if(!(n instanceof ki||n instanceof kc))throw new me(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kr.fromString(t,...e));return c3(r),new kc(n.firestore,null,r)}}function ro(n,t,...e){if(n=Is(n),arguments.length===1&&(t=Z5.newId()),aT("doc","path",t),n instanceof D0){const r=Kr.fromString(t,...e);return u3(r),new ki(n,null,new We(r))}{if(!(n instanceof ki||n instanceof kc))throw new me(Jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kr.fromString(t,...e));return u3(r),new ki(n.firestore,n instanceof kc?n.converter:null,new We(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="AsyncQueue";class J3{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XT(this,"async_queue_retry"),this._c=()=>{const r=Iy();r&&Se(Z3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Iy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Iy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new _u;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_d(t))throw t;Se(Z3,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Tu("INTERNAL UNHANDLED ERROR: ",tE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=yb.createAndSchedule(this,t,e,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&rn(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function tE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Cu extends D0{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new J3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new J3(t),this._firestoreClient=void 0,await t}}}function WP(n,t){const e=typeof n=="object"?n:mS(),r=typeof n=="string"?n:B1,i=V5(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=aI("firestore");a&&KP(i,...a)}return i}function P0(n){if(n._terminated)throw new me(Jt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YP(n),n._firestoreClient}function YP(n){const t=n._freezeSettings(),e=(function(i,a,l,c){return new v9(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,p6(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new VP(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ro(Zs.fromBase64String(t))}catch(e){throw new me(Jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ro(Zs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ro._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wm(t,Ro._jsonSchema))return Ro.fromBase64String(t.bytes)}}Ro._jsonSchemaVersion="firestore/bytes/1.0",Ro._jsonSchema={type:ls("string",Ro._jsonSchemaVersion),bytes:ls("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new me(Jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ys(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new me(Jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new me(Jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wn(this._lat,t._lat)||Wn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ql._jsonSchemaVersion}}static fromJSON(t){if(wm(t,ql._jsonSchema))return new ql(t.latitude,t.longitude)}}ql._jsonSchemaVersion="firestore/geoPoint/1.0",ql._jsonSchema={type:ls("string",ql._jsonSchemaVersion),latitude:ls("number"),longitude:ls("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ul._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wm(t,Ul._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ul(t.vectorValues);throw new me(Jt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ul._jsonSchemaVersion="firestore/vectorValue/1.0",Ul._jsonSchema={type:ls("string",Ul._jsonSchemaVersion),vectorValues:ls("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/^__.*__$/;class XP{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Kc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Em(t,this.data,e,this.fieldTransforms)}}class g6{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Kc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function y6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn(40011,{Ac:n})}}class Tb{constructor(t,e,r,i,a,l){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Tb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Q1(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(y6(this.Ac)&&QP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZP{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||I0(t)}Cc(t,e,r,i=!1){return new Tb({Ac:t,methodName:e,Dc:r,path:Ys.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q0(n){const t=n._freezeSettings(),e=I0(n._databaseId);return new ZP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function v6(n,t,e,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,i);Cb("Data must be an object, but it was:",l,r);const c=b6(r,l);let h,f;if(a.merge)h=new eo(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const w of a.mergeFields){const _=Jv(t,w,e);if(!l.contains(_))throw new me(Jt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);w6(p,_)||p.push(_)}h=new eo(p),f=l.fieldTransforms.filter((w=>h.covers(w.field)))}else h=null,f=l.fieldTransforms;return new XP(new Ua(c),h,f)}class U0 extends j0{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof U0}}class Nb extends j0{_toFieldTransform(t){return new H9(t.path,new em)}isEqual(t){return t instanceof Nb}}function JP(n,t,e,r){const i=n.Cc(1,t,e);Cb("Data must be an object, but it was:",i,r);const a=[],l=Ua.empty();Gc(r,((h,f)=>{const p=Rb(t,h,e);f=Is(f);const w=i.yc(p);if(f instanceof U0)a.push(p);else{const _=Tm(f,w);_!=null&&(a.push(p),l.set(p,_))}}));const c=new eo(a);return new g6(l,c,i.fieldTransforms)}function tM(n,t,e,r,i,a){const l=n.Cc(1,t,e),c=[Jv(t,r,e)],h=[i];if(a.length%2!=0)throw new me(Jt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(Jv(t,a[_])),h.push(a[_+1]);const f=[],p=Ua.empty();for(let _=c.length-1;_>=0;--_)if(!w6(f,c[_])){const v=c[_];let N=h[_];N=Is(N);const I=l.yc(v);if(N instanceof U0)f.push(v);else{const k=Tm(N,I);k!=null&&(f.push(v),p.set(v,k))}}const w=new eo(f);return new g6(p,w,l.fieldTransforms)}function eM(n,t,e,r=!1){return Tm(e,n.Cc(r?4:3,t))}function Tm(n,t){if(_6(n=Is(n)))return Cb("Unsupported field value:",t,n),b6(n,t);if(n instanceof j0)return(function(r,i){if(!y6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let h=Tm(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,t)}return(function(r,i){if((r=Is(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ei.fromDate(r);return{timestampValue:$1(i.serializer,a)}}if(r instanceof ei){const a=new ei(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$1(i.serializer,a)}}if(r instanceof ql)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:BT(i.serializer,r._byteString)};if(r instanceof ki){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ul)return(function(l,c){return{mapValue:{fields:{[mT]:{stringValue:gT},[F1]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return ib(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${w0(r)}`)})(n,t)}function b6(n,t){const e={};return uT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gc(n,((r,i)=>{const a=Tm(i,t.mc(r));a!=null&&(e[r]=a)})),{mapValue:{fields:e}}}function _6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ei||n instanceof ql||n instanceof Ro||n instanceof ki||n instanceof j0||n instanceof Ul)}function Cb(n,t,e){if(!_6(e)||!oT(e)){const r=w0(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Jv(n,t,e){if((t=Is(t))instanceof M0)return t._internalPath;if(typeof t=="string")return Rb(n,t);throw Q1("Field path arguments must be of type string or ",n,!1,void 0,e)}const nM=new RegExp("[~\\*/\\[\\]]");function Rb(n,t,e){if(t.search(nM)>=0)throw Q1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new M0(...t.split("."))._internalPath}catch{throw Q1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Q1(n,t,e,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new me(Jt.INVALID_ARGUMENT,c+n+h)}function w6(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(t,e,r,i,a){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(B0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rM extends E6{data(){return super.data()}}function B0(n,t){return typeof t=="string"?Rb(n,t):t instanceof M0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(Jt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lb{}class Ib extends Lb{}function Nm(n,t,...e){let r=[];t instanceof Lb&&r.push(t),r=r.concat(e),(function(a){const l=a.filter((h=>h instanceof Ob)).length,c=a.filter((h=>h instanceof F0)).length;if(l>1||l>0&&c>0)throw new me(Jt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class F0 extends Ib{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new F0(t,e,r)}_apply(t){const e=this._parse(t);return S6(t._query,e),new Du(t.firestore,t.converter,zv(t._query,e))}_parse(t){const e=q0(t.firestore);return(function(a,l,c,h,f,p,w){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new me(Jt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){rE(w,p);const N=[];for(const I of w)N.push(nE(h,a,I));_={arrayValue:{values:N}}}else _=nE(h,a,w)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||rE(w,p),_=eM(c,l,w,p==="in"||p==="not-in");return os.create(f,p,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function x6(n,t,e){const r=t,i=B0("where",n);return F0._create(i,r,e)}class Ob extends Lb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ob(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:al.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)S6(l,h),l=zv(l,h)})(t._query,e),new Du(t.firestore,t.converter,zv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kb extends Ib{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new kb(t,e)}_apply(t){const e=(function(i,a,l){if(i.startAt!==null)throw new me(Jt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new me(Jt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tm(a,l)})(t._query,this._field,this._direction);return new Du(t.firestore,t.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new wd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(t._query,e))}}function V0(n,t="asc"){const e=t,r=B0("orderBy",n);return kb._create(r,e)}class Db extends Ib{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Db(t,e,r)}_apply(t){return new Du(t.firestore,t.converter,z1(t._query,this._limit,this._limitType))}}function iM(n){return Db._create("limit",n,"F")}function nE(n,t,e){if(typeof(e=Is(e))=="string"){if(e==="")throw new me(Jt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xT(t)&&e.indexOf("/")!==-1)throw new me(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Kr.fromString(e));if(!We.isDocumentKey(r))throw new me(Jt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v3(n,new We(r))}if(e instanceof ki)return v3(n,e._key);throw new me(Jt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w0(e)}.`)}function rE(n,t){if(!Array.isArray(n)||n.length===0)throw new me(Jt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S6(n,t){const e=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new me(Jt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new me(Jt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class sM{convertValue(t,e="none"){switch(Uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw rn(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Gc(t,((i,a)=>{r[i]=this.convertValue(a,e)})),r}convertVectorValue(t){const e=t.fields?.[F1].arrayValue?.values?.map((r=>Gi(r.doubleValue)));return new Ul(e)}convertGeoPoint(t){return new ql(Gi(t.latitude),Gi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=x0(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xp(t));default:return null}}convertTimestamp(t){const e=jc(t);return new ei(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Kr.fromString(t);_r(GT(r),9688,{name:t});const i=new Zp(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(e)||Tu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Lp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Eh extends E6{constructor(t,e,r,i,a,l){super(t,e,r,i,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new E1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(B0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Jt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Eh._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Eh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eh._jsonSchema={type:ls("string",Eh._jsonSchemaVersion),bundleSource:ls("string","DocumentSnapshot"),bundleName:ls("string"),bundle:ls("string")};class E1 extends Eh{data(t={}){return super.data(t)}}class Ah{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Lp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new E1(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new me(Jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new E1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new E1(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:aM(c.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Jt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ah._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Z5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(e.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n){n=Fa(n,ki);const t=Fa(n.firestore,Cu);return $P(P0(t),n._key).then((e=>L6(t,n,e)))}Ah._jsonSchemaVersion="firestore/querySnapshot/1.0",Ah._jsonSchema={type:ls("string",Ah._jsonSchemaVersion),bundleSource:ls("string","QuerySnapshot"),bundleName:ls("string"),bundle:ls("string")};class Pb extends sM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ro(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ki(this.firestore,null,e)}}function yu(n){n=Fa(n,Du);const t=Fa(n.firestore,Cu),e=P0(t),r=new Pb(t);return A6(n._query),GP(e,n._query).then((i=>new Ah(t,r,n,i)))}function N6(n,t,e){n=Fa(n,ki);const r=Fa(n.firestore,Cu),i=T6(n.converter,t);return $0(r,[v6(q0(r),"setDoc",n._key,i,n.converter!==null,e).toMutation(n._key,Oo.none())])}function z0(n,t,e,...r){n=Fa(n,ki);const i=Fa(n.firestore,Cu),a=q0(i);let l;return l=typeof(t=Is(t))=="string"||t instanceof M0?tM(a,"updateDoc",n._key,t,e,r):JP(a,"updateDoc",n._key,t),$0(i,[l.toMutation(n._key,Oo.exists(!0))])}function C6(n){return $0(Fa(n.firestore,Cu),[new sb(n._key,Oo.none())])}function H0(n,t){const e=Fa(n.firestore,Cu),r=ro(n),i=T6(n.converter,t);return $0(e,[v6(q0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Oo.exists(!1))]).then((()=>r))}function R6(n,...t){n=Is(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||eE(t[r])||(e=t[r++]);const i={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(eE(t[r])){const h=t[r];t[r]=h.next?.bind(h),t[r+1]=h.error?.bind(h),t[r+2]=h.complete?.bind(h)}let a,l,c;if(n instanceof ki)l=Fa(n.firestore,Cu),c=S0(n._key.path),a={next:h=>{t[r]&&t[r](L6(l,n,h))},error:t[r+1],complete:t[r+2]};else{const h=Fa(n,Du);l=Fa(h.firestore,Cu),c=h._query;const f=new Pb(l);a={next:p=>{t[r]&&t[r](new Ah(l,f,h,p))},error:t[r+1],complete:t[r+2]},A6(n._query)}return(function(f,p,w,_){const v=new Sb(_),N=new Eb(p,v,w);return f.asyncQueue.enqueueAndForget((async()=>bb(await Y1(f),N))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>_b(await Y1(f),N)))}})(P0(l),c,i,a)}function $0(n,t){return(function(r,i){const a=new _u;return r.asyncQueue.enqueueAndForget((async()=>kP(await HP(r),i,a))),a.promise})(P0(n),t)}function L6(n,t,e){const r=e.docs.get(t._key),i=new Pb(n);return new Eh(n,i,t._key,r,new Lp(e.hasPendingWrites,e.fromCache),t.converter)}function Mb(){return new Nb("serverTimestamp")}(function(t,e=!0){(function(i){vd=i})(gd),nd(new Th("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Cu(new Jk(r.getProvider("auth-internal")),new n9(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(Jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zp(f.options.projectId,p)})(l,i),l);return a={useFetchStreams:e,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Ic(s3,a3,t),Ic(s3,a3,"esm2020")})();const oM={apiKey:"AIzaSyBlvejFrP_Tw9HMLn9PaN0hYg8i0cWcyr0",authDomain:"quizeweb-d92e8.firebaseapp.com",projectId:"quizeweb-d92e8",storageBucket:"quizeweb-d92e8.firebasestorage.app",messagingSenderId:"93919331965",appId:"1:93919331965:web:b3b0acf43a04a21c4f5314",measurementId:"G-5776SY11DX"},I6=pS(oM),Wr=WP(I6),Aa=Kk(I6);var ky={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var iE;function lM(){return iE||(iE=1,(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(ky)),ky.exports}var uM=lM();const mn=hd(uM);function t5(){return t5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t5.apply(null,arguments)}function O6(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function sE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function cM(n){var t=hM(n,"string");return typeof t=="symbol"?t:String(t)}function hM(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function fM(n,t,e){var r=Y.useRef(n!==void 0),i=Y.useState(t),a=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&a!==t&&l(t),[c?n:a,Y.useCallback(function(f){for(var p=arguments.length,w=new Array(p>1?p-1:0),_=1;_<p;_++)w[_-1]=arguments[_];e&&e.apply(void 0,[f].concat(w)),l(f)},[e])]}function dM(n,t){return Object.keys(t).reduce(function(e,r){var i,a=e,l=a[sE(r)],c=a[r],h=O6(a,[sE(r),r].map(cM)),f=t[r],p=fM(c,l,n[f]),w=p[0],_=p[1];return t5({},h,(i={},i[r]=w,i[f]=_,i))},n)}function e5(n,t){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},e5(n,t)}function pM(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,e5(n,t)}const mM=["xxl","xl","lg","md","sm","xs"],gM="xs",Cm=Y.createContext({prefixes:{},breakpoints:mM,minBreakpoint:gM}),{Consumer:EW,Provider:AW}=Cm;function Hn(n,t){const{prefixes:e}=Y.useContext(Cm);return n||e[t]||t}function k6(){const{breakpoints:n}=Y.useContext(Cm);return n}function D6(){const{minBreakpoint:n}=Y.useContext(Cm);return n}function yM(){const{dir:n}=Y.useContext(Cm);return n==="rtl"}function G0(n){return n&&n.ownerDocument||document}function vM(n){var t=G0(n);return t&&t.defaultView||window}function bM(n,t){return vM(n).getComputedStyle(n,t)}var _M=/([A-Z])/g;function wM(n){return n.replace(_M,"-$1").toLowerCase()}var EM=/^ms-/;function Hg(n){return wM(n).replace(EM,"-ms-")}var AM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xM(n){return!!(n&&AM.test(n))}function wu(n,t){var e="",r="";if(typeof t=="string")return n.style.getPropertyValue(Hg(t))||bM(n).getPropertyValue(Hg(t));Object.keys(t).forEach(function(i){var a=t[i];!a&&a!==0?n.style.removeProperty(Hg(i)):xM(i)?r+=i+"("+a+") ":e+=Hg(i)+": "+a+";"}),r&&(e+="transform: "+r+";"),n.style.cssText+=";"+e}var Dy={exports:{}},Py,aE;function SM(){if(aE)return Py;aE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Py=n,Py}var My,oE;function TM(){if(oE)return My;oE=1;var n=SM();function t(){}function e(){}return e.resetWarningCache=t,My=function(){function r(l,c,h,f,p,w){if(w!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},My}var lE;function NM(){return lE||(lE=1,Dy.exports=TM()()),Dy.exports}var CM=NM();const Eu=hd(CM),uE={disabled:!1},P6=Gr.createContext(null);var RM=function(t){return t.scrollTop},Ip="unmounted",yc="exited",du="entering",Ec="entered",Z1="exiting",Pu=(function(n){pM(t,n);function t(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=yc,a.appearStatus=du):h=Ec:r.unmountOnExit||r.mountOnEnter?h=Ip:h=yc,a.state={status:h},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Ip?{status:yc}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==du&&l!==Ec&&(a=du):(l===du||l===Ec)&&(a=Z1)}this.updateStatus(!1,a)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},e.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===du){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Vf.findDOMNode(this);l&&RM(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yc&&this.setState({status:Ip})},e.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,h=this.props.nodeRef?[c]:[Vf.findDOMNode(this),c],f=h[0],p=h[1],w=this.getTimeouts(),_=c?w.appear:w.enter;if(!i&&!l||uE.disabled){this.safeSetState({status:Ec},function(){a.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:du},function(){a.props.onEntering(f,p),a.onTransitionEnd(_,function(){a.safeSetState({status:Ec},function(){a.props.onEntered(f,p)})})})},e.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Vf.findDOMNode(this);if(!a||uE.disabled){this.safeSetState({status:yc},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Z1},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:yc},function(){i.props.onExited(c)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},e.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},e.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Vf.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],p=h[1];this.props.addEndListener(f,p)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===Ip)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=O6(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gr.createElement(P6.Provider,{value:null},typeof l=="function"?l(i,c):Gr.cloneElement(Gr.Children.only(l),c))},t})(Gr.Component);Pu.contextType=P6;Pu.propTypes={};function Sf(){}Pu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sf,onEntering:Sf,onEntered:Sf,onExit:Sf,onExiting:Sf,onExited:Sf};Pu.UNMOUNTED=Ip;Pu.EXITED=yc;Pu.ENTERING=du;Pu.ENTERED=Ec;Pu.EXITING=Z1;function LM(n){return n.code==="Escape"||n.keyCode===27}function IM(){const n=Y.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Rm(n){if(!n||typeof n=="function")return null;const{major:t}=IM();return t>=19?n.props.ref:n.ref}const Ad=!!(typeof window<"u"&&window.document&&window.document.createElement);var n5=!1,r5=!1;try{var jy={get passive(){return n5=!0},get once(){return r5=n5=!0}};Ad&&(window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,!0))}catch{}function M6(n,t,e,r){if(r&&typeof r!="boolean"&&!r5){var i=r.once,a=r.capture,l=e;!r5&&i&&(l=e.__once||function c(h){this.removeEventListener(t,c,a),e.call(this,h)},e.__once=l),n.addEventListener(t,l,n5?r:a)}n.addEventListener(t,e,r)}function i5(n,t,e,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(t,e,i),e.__once&&n.removeEventListener(t,e.__once,i)}function J1(n,t,e,r){return M6(n,t,e,r),function(){i5(n,t,e,r)}}function OM(n,t,e,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(t,e,r),n.dispatchEvent(i)}}function kM(n){var t=wu(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function DM(n,t,e){e===void 0&&(e=5);var r=!1,i=setTimeout(function(){r||OM(n,"transitionend",!0)},t+e),a=J1(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function j6(n,t,e,r){e==null&&(e=kM(n)||0);var i=DM(n,e,r),a=J1(n,"transitionend",t);return function(){i(),a()}}function cE(n,t){const e=wu(n,t)||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function q6(n,t){const e=cE(n,"transitionDuration"),r=cE(n,"transitionDelay"),i=j6(n,a=>{a.target===n&&(i(),t(a))},e+r)}function _p(...n){return n.filter(t=>t!=null).reduce((t,e)=>{if(typeof e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?e:function(...i){t.apply(this,i),e.apply(this,i)}},null)}function U6(n){n.offsetHeight}const hE=n=>!n||typeof n=="function"?n:t=>{n.current=t};function PM(n,t){const e=hE(n),r=hE(t);return i=>{e&&e(i),r&&r(i)}}function B6(n,t){return Y.useMemo(()=>PM(n,t),[n,t])}function MM(n){return n&&"setState"in n?Vf.findDOMNode(n):n??null}const jb=Gr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:h,...f},p)=>{const w=Y.useRef(null),_=B6(w,h),v=wt=>{_(MM(wt))},N=wt=>K=>{wt&&w.current&&wt(w.current,K)},I=Y.useCallback(N(n),[n]),k=Y.useCallback(N(t),[t]),P=Y.useCallback(N(e),[e]),H=Y.useCallback(N(r),[r]),X=Y.useCallback(N(i),[i]),Z=Y.useCallback(N(a),[a]),pt=Y.useCallback(N(l),[l]);return A.jsx(Pu,{ref:p,...f,onEnter:I,onEntered:P,onEntering:k,onExit:H,onExited:Z,onExiting:X,addEndListener:pt,nodeRef:w,children:typeof c=="function"?(wt,K)=>c(wt,{...K,ref:v}):Gr.cloneElement(c,{ref:v})})});jb.displayName="TransitionWrapper";const jM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function qM(n,t){const e=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=t[e],i=jM[n];return r+parseInt(wu(t,i[0]),10)+parseInt(wu(t,i[1]),10)}const UM={[yc]:"collapse",[Z1]:"collapsing",[du]:"collapsing",[Ec]:"collapse show"},wh=Gr.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:h=!1,timeout:f=300,mountOnEnter:p=!1,unmountOnExit:w=!1,appear:_=!1,getDimensionValue:v=qM,...N},I)=>{const k=typeof c=="function"?c():c,P=Y.useMemo(()=>_p(wt=>{wt.style[k]="0"},n),[k,n]),H=Y.useMemo(()=>_p(wt=>{const K=`scroll${k[0].toUpperCase()}${k.slice(1)}`;wt.style[k]=`${wt[K]}px`},t),[k,t]),X=Y.useMemo(()=>_p(wt=>{wt.style[k]=null},e),[k,e]),Z=Y.useMemo(()=>_p(wt=>{wt.style[k]=`${v(k,wt)}px`,U6(wt)},r),[r,v,k]),pt=Y.useMemo(()=>_p(wt=>{wt.style[k]=null},i),[k,i]);return A.jsx(jb,{ref:I,addEndListener:q6,...N,"aria-expanded":N.role?h:null,onEnter:P,onEntering:H,onEntered:X,onExit:Z,onExiting:pt,childRef:Rm(l),in:h,timeout:f,mountOnEnter:p,unmountOnExit:w,appear:_,children:(wt,K)=>Gr.cloneElement(l,{...K,className:mn(a,l.props.className,UM[wt],k==="width"&&"collapse-horizontal")})})});wh.displayName="Collapse";function BM(n){const t=Y.useRef(n);return Y.useEffect(()=>{t.current=n},[n]),t}function t0(n){const t=BM(n);return Y.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const K0=(n=>Y.forwardRef((t,e)=>A.jsx("div",{...t,ref:e,className:mn(t.className,n)}))),F6=K0("h4");F6.displayName="DivStyledAsH4";const V6=Y.forwardRef(({className:n,bsPrefix:t,as:e=F6,...r},i)=>(t=Hn(t,"alert-heading"),A.jsx(e,{ref:i,className:mn(n,t),...r})));V6.displayName="AlertHeading";function FM(n){const t=Y.useRef(n);return Y.useEffect(()=>{t.current=n},[n]),t}function Ac(n){const t=FM(n);return Y.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function VM(){const n=Y.useRef(!0),t=Y.useRef(()=>n.current);return Y.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function zM(n){const t=Y.useRef(null);return Y.useEffect(()=>{t.current=n}),t.current}const HM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$M=typeof document<"u",fE=$M||HM?Y.useLayoutEffect:Y.useEffect,GM=["as","disabled"];function KM(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function WM(n){return!n||n.trim()==="#"}function qb({tagName:n,disabled:t,href:e,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:h}){n||(e!=null||r!=null||i!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:t},f];const p=_=>{if((t||n==="a"&&WM(e))&&_.preventDefault(),t){_.stopPropagation();return}l?.(_)},w=_=>{_.key===" "&&(_.preventDefault(),p(_))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:c,href:e,target:n==="a"?r:void 0,"aria-disabled":t||void 0,rel:n==="a"?i:void 0,onClick:p,onKeyDown:w},f]}const YM=Y.forwardRef((n,t)=>{let{as:e,disabled:r}=n,i=KM(n,GM);const[a,{tagName:l}]=qb(Object.assign({tagName:e,disabled:r},i));return A.jsx(l,Object.assign({},i,a,{ref:t}))});YM.displayName="Button";const QM=["onKeyDown"];function XM(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function ZM(n){return!n||n.trim()==="#"}const z6=Y.forwardRef((n,t)=>{let{onKeyDown:e}=n,r=XM(n,QM);const[i]=qb(Object.assign({tagName:"a"},r)),a=Ac(l=>{i.onKeyDown(l),e?.(l)});return ZM(r.href)||r.role==="button"?A.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:a})):A.jsx("a",Object.assign({ref:t},r,{onKeyDown:e}))});z6.displayName="Anchor";const H6=Y.forwardRef(({className:n,bsPrefix:t,as:e=z6,...r},i)=>(t=Hn(t,"alert-link"),A.jsx(e,{ref:i,className:mn(n,t),...r})));H6.displayName="AlertLink";const JM={[du]:"show",[Ec]:"show"},im=Y.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=Y.useCallback((h,f)=>{U6(h),r?.(h,f)},[r]);return A.jsx(jb,{ref:a,addEndListener:q6,...l,onEnter:c,childRef:Rm(t),children:(h,f)=>Y.cloneElement(t,{...f,className:mn("fade",n,t.props.className,JM[h],e[h])})})});im.displayName="Fade";const tj={"aria-label":Eu.string,onClick:Eu.func,variant:Eu.oneOf(["white"])},W0=Y.forwardRef(({className:n,variant:t,"aria-label":e="Close",...r},i)=>A.jsx("button",{ref:i,type:"button",className:mn("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...r}));W0.displayName="CloseButton";W0.propTypes=tj;const $6=Y.forwardRef((n,t)=>{const{bsPrefix:e,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:h="primary",onClose:f,dismissible:p,transition:w=im,..._}=dM(n,{show:"onClose"}),v=Hn(e,"alert"),N=t0(P=>{f&&f(!1,P)}),I=w===!0?im:w,k=A.jsxs("div",{role:"alert",...I?void 0:_,ref:t,className:mn(l,v,h&&`${v}-${h}`,p&&`${v}-dismissible`),children:[p&&A.jsx(W0,{onClick:N,"aria-label":i,variant:a}),c]});return I?A.jsx(I,{unmountOnExit:!0,..._,ref:void 0,in:r,children:k}):r?k:null});$6.displayName="Alert";const qy=Object.assign($6,{Link:H6,Heading:V6}),rr=Y.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},h)=>{const f=Hn(t,"btn"),[p,{tagName:w}]=qb({tagName:n,disabled:a,...c}),_=w;return A.jsx(_,{...p,...c,ref:h,disabled:a,className:mn(l,f,i&&"active",e&&`${f}-${e}`,r&&`${f}-${r}`,c.href&&a&&"disabled")})});rr.displayName="Button";const Ub=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"card-body"),A.jsx(e,{ref:i,className:mn(n,t),...r})));Ub.displayName="CardBody";const G6=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"card-footer"),A.jsx(e,{ref:i,className:mn(n,t),...r})));G6.displayName="CardFooter";const K6=Y.createContext(null);K6.displayName="CardHeaderContext";const W6=Y.forwardRef(({bsPrefix:n,className:t,as:e="div",...r},i)=>{const a=Hn(n,"card-header"),l=Y.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return A.jsx(K6.Provider,{value:l,children:A.jsx(e,{ref:i,...r,className:mn(t,a)})})});W6.displayName="CardHeader";const Y6=Y.forwardRef(({bsPrefix:n,className:t,variant:e,as:r="img",...i},a)=>{const l=Hn(n,"card-img");return A.jsx(r,{ref:a,className:mn(e?`${l}-${e}`:l,t),...i})});Y6.displayName="CardImg";const Q6=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"card-img-overlay"),A.jsx(e,{ref:i,className:mn(n,t),...r})));Q6.displayName="CardImgOverlay";const X6=Y.forwardRef(({className:n,bsPrefix:t,as:e="a",...r},i)=>(t=Hn(t,"card-link"),A.jsx(e,{ref:i,className:mn(n,t),...r})));X6.displayName="CardLink";const ej=K0("h6"),Z6=Y.forwardRef(({className:n,bsPrefix:t,as:e=ej,...r},i)=>(t=Hn(t,"card-subtitle"),A.jsx(e,{ref:i,className:mn(n,t),...r})));Z6.displayName="CardSubtitle";const J6=Y.forwardRef(({className:n,bsPrefix:t,as:e="p",...r},i)=>(t=Hn(t,"card-text"),A.jsx(e,{ref:i,className:mn(n,t),...r})));J6.displayName="CardText";const nj=K0("h5"),tN=Y.forwardRef(({className:n,bsPrefix:t,as:e=nj,...r},i)=>(t=Hn(t,"card-title"),A.jsx(e,{ref:i,className:mn(n,t),...r})));tN.displayName="CardTitle";const eN=Y.forwardRef(({bsPrefix:n,className:t,bg:e,text:r,border:i,body:a=!1,children:l,as:c="div",...h},f)=>{const p=Hn(n,"card");return A.jsx(c,{ref:f,...h,className:mn(t,p,e&&`bg-${e}`,r&&`text-${r}`,i&&`border-${i}`),children:a?A.jsx(Ub,{children:l}):l})});eN.displayName="Card";const vn=Object.assign(eN,{Img:Y6,Title:tN,Subtitle:Z6,Body:Ub,Link:X6,Text:J6,Header:W6,Footer:G6,ImgOverlay:Q6});function rj(n){const t=Y.useRef(n);return t.current=n,t}function ij(n){const t=rj(n);Y.useEffect(()=>()=>t.current(),[])}function sj(n,t){let e=0;return Y.Children.map(n,r=>Y.isValidElement(r)?t(r,e++):r)}function aj(n,t){return Y.Children.toArray(n).some(e=>Y.isValidElement(e)&&e.type===t)}function oj({as:n,bsPrefix:t,className:e,...r}){t=Hn(t,"col");const i=k6(),a=D6(),l=[],c=[];return i.forEach(h=>{const f=r[h];delete r[h];let p,w,_;typeof f=="object"&&f!=null?{span:p,offset:w,order:_}=f:p=f;const v=h!==a?`-${h}`:"";p&&l.push(p===!0?`${t}${v}`:`${t}${v}-${p}`),_!=null&&c.push(`order${v}-${_}`),w!=null&&c.push(`offset${v}-${w}`)}),[{...r,className:mn(e,...l,...c)},{as:n,bsPrefix:t,spans:l}]}const Tr=Y.forwardRef((n,t)=>{const[{className:e,...r},{as:i="div",bsPrefix:a,spans:l}]=oj(n);return A.jsx(i,{...r,ref:t,className:mn(e,!l.length&&a)})});Tr.displayName="Col";const Ba=Y.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:r,...i},a)=>{const l=Hn(n,"container"),c=typeof t=="string"?`-${t}`:"-fluid";return A.jsx(e,{ref:a,...i,className:mn(r,t?`${l}${c}`:l)})});Ba.displayName="Container";var lj=Function.prototype.bind.call(Function.prototype.call,[].slice);function Tf(n,t){return lj(n.querySelectorAll(t))}function dE(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}const uj="data-rr-ui-";function cj(n){return`${uj}${n}`}const nN=Y.createContext(Ad?window:void 0);nN.Provider;function Bb(){return Y.useContext(nN)}const hj={type:Eu.string,tooltip:Eu.bool,as:Eu.elementType},Y0=Y.forwardRef(({as:n="div",className:t,type:e="valid",tooltip:r=!1,...i},a)=>A.jsx(n,{...i,ref:a,className:mn(t,`${e}-${r?"tooltip":"feedback"}`)}));Y0.displayName="Feedback";Y0.propTypes=hj;const Ru=Y.createContext({}),Fb=Y.forwardRef(({id:n,bsPrefix:t,className:e,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},h)=>{const{controlId:f}=Y.useContext(Ru);return t=Hn(t,"form-check-input"),A.jsx(l,{...c,ref:h,type:r,id:n||f,className:mn(e,t,i&&"is-valid",a&&"is-invalid")})});Fb.displayName="FormCheckInput";const e0=Y.forwardRef(({bsPrefix:n,className:t,htmlFor:e,...r},i)=>{const{controlId:a}=Y.useContext(Ru);return n=Hn(n,"form-check-label"),A.jsx("label",{...r,ref:i,htmlFor:e||a,className:mn(t,n)})});e0.displayName="FormCheckLabel";const rN=Y.forwardRef(({id:n,bsPrefix:t,bsSwitchPrefix:e,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:p,className:w,style:_,title:v="",type:N="checkbox",label:I,children:k,as:P="input",...H},X)=>{t=Hn(t,"form-check"),e=Hn(e,"form-switch");const{controlId:Z}=Y.useContext(Ru),pt=Y.useMemo(()=>({controlId:n||Z}),[Z,n]),wt=!k&&I!=null&&I!==!1||aj(k,e0),K=A.jsx(Fb,{...H,type:N==="switch"?"checkbox":N,ref:X,isValid:l,isInvalid:c,disabled:a,as:P});return A.jsx(Ru.Provider,{value:pt,children:A.jsx("div",{style:_,className:mn(w,wt&&t,r&&`${t}-inline`,i&&`${t}-reverse`,N==="switch"&&e),children:k||A.jsxs(A.Fragment,{children:[K,wt&&A.jsx(e0,{title:v,children:I}),f&&A.jsx(Y0,{type:p,tooltip:h,children:f})]})})})});rN.displayName="FormCheck";const n0=Object.assign(rN,{Input:Fb,Label:e0}),iN=Y.forwardRef(({bsPrefix:n,type:t,size:e,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:h,readOnly:f,as:p="input",...w},_)=>{const{controlId:v}=Y.useContext(Ru);return n=Hn(n,"form-control"),A.jsx(p,{...w,type:t,size:r,ref:_,readOnly:f,id:i||v,className:mn(a,h?`${n}-plaintext`:n,e&&`${n}-${e}`,t==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});iN.displayName="FormControl";const fj=Object.assign(iN,{Feedback:Y0}),sN=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"form-floating"),A.jsx(e,{ref:i,className:mn(n,t),...r})));sN.displayName="FormFloating";const Vb=Y.forwardRef(({controlId:n,as:t="div",...e},r)=>{const i=Y.useMemo(()=>({controlId:n}),[n]);return A.jsx(Ru.Provider,{value:i,children:A.jsx(t,{...e,ref:r})})});Vb.displayName="FormGroup";const aN=Y.forwardRef(({as:n="label",bsPrefix:t,column:e=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:h}=Y.useContext(Ru);t=Hn(t,"form-label");let f="col-form-label";typeof e=="string"&&(f=`${f} ${f}-${e}`);const p=mn(i,t,r&&"visually-hidden",e&&f);return a=a||h,e?A.jsx(Tr,{ref:c,as:"label",className:p,htmlFor:a,...l}):A.jsx(n,{ref:c,className:p,htmlFor:a,...l})});aN.displayName="FormLabel";const oN=Y.forwardRef(({bsPrefix:n,className:t,id:e,...r},i)=>{const{controlId:a}=Y.useContext(Ru);return n=Hn(n,"form-range"),A.jsx("input",{...r,type:"range",ref:i,className:mn(t,n),id:e||a})});oN.displayName="FormRange";const lN=Y.forwardRef(({bsPrefix:n,size:t,htmlSize:e,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},h)=>{const{controlId:f}=Y.useContext(Ru);return n=Hn(n,"form-select"),A.jsx("select",{...c,size:e,ref:h,className:mn(r,n,t&&`${n}-${t}`,i&&"is-valid",a&&"is-invalid"),id:l||f})});lN.displayName="FormSelect";const uN=Y.forwardRef(({bsPrefix:n,className:t,as:e="small",muted:r,...i},a)=>(n=Hn(n,"form-text"),A.jsx(e,{...i,ref:a,className:mn(t,n,r&&"text-muted")})));uN.displayName="FormText";const cN=Y.forwardRef((n,t)=>A.jsx(n0,{...n,ref:t,type:"switch"}));cN.displayName="Switch";const dj=Object.assign(cN,{Input:n0.Input,Label:n0.Label}),hN=Y.forwardRef(({bsPrefix:n,className:t,children:e,controlId:r,label:i,...a},l)=>(n=Hn(n,"form-floating"),A.jsxs(Vb,{ref:l,className:mn(t,n),controlId:r,...a,children:[e,A.jsx("label",{htmlFor:r,children:i})]})));hN.displayName="FloatingLabel";const pj={_ref:Eu.any,validated:Eu.bool,as:Eu.elementType},zb=Y.forwardRef(({className:n,validated:t,as:e="form",...r},i)=>A.jsx(e,{...r,ref:i,className:mn(n,t&&"was-validated")}));zb.displayName="Form";zb.propTypes=pj;const _e=Object.assign(zb,{Group:Vb,Control:fj,Floating:sN,Check:n0,Switch:dj,Label:aN,Text:uN,Range:oN,Select:lN,FloatingLabel:hN}),pE=n=>!n||typeof n=="function"?n:t=>{n.current=t};function mj(n,t){const e=pE(n),r=pE(t);return i=>{e&&e(i),r&&r(i)}}function Hb(n,t){return Y.useMemo(()=>mj(n,t),[n,t])}var $g;function mE(n){if((!$g&&$g!==0||n)&&Ad){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),$g=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return $g}function gj(){return Y.useState(null)}function Uy(n){n===void 0&&(n=G0());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function yj(n){const t=Y.useRef(n);return t.current=n,t}function vj(n){const t=yj(n);Y.useEffect(()=>()=>t.current(),[])}function bj(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const gE=cj("modal-open");class $b{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:r=!1}={}){this.handleContainerOverflow=e,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return bj(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(e[r]=`${parseInt(wu(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(gE,""),wu(i,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(gE),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const By=(n,t)=>Ad?n==null?(t||G0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function _j(n,t){const e=Bb(),[r,i]=Y.useState(()=>By(n,e?.document));if(!r){const a=By(n);a&&i(a)}return Y.useEffect(()=>{},[t,r]),Y.useEffect(()=>{const a=By(n);a!==r&&i(a)},[n,r]),r}function wj({children:n,in:t,onExited:e,mountOnEnter:r,unmountOnExit:i}){const a=Y.useRef(null),l=Y.useRef(t),c=Ac(e);Y.useEffect(()=>{t?l.current=!0:c(a.current)},[t,c]);const h=Hb(a,Rm(n)),f=Y.cloneElement(n,{ref:h});return t?f:i||!l.current&&r?null:f}const Ej=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Aj(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function xj(n){let{onEnter:t,onEntering:e,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:h}=n,f=Aj(n,Ej);const p=Y.useRef(null),w=Hb(p,Rm(h)),_=Z=>pt=>{Z&&p.current&&Z(p.current,pt)},v=Y.useCallback(_(t),[t]),N=Y.useCallback(_(e),[e]),I=Y.useCallback(_(r),[r]),k=Y.useCallback(_(i),[i]),P=Y.useCallback(_(a),[a]),H=Y.useCallback(_(l),[l]),X=Y.useCallback(_(c),[c]);return Object.assign({},f,{nodeRef:p},t&&{onEnter:v},e&&{onEntering:N},r&&{onEntered:I},i&&{onExit:k},a&&{onExiting:P},l&&{onExited:H},c&&{addEndListener:X},{children:typeof h=="function"?(Z,pt)=>h(Z,Object.assign({},pt,{ref:w})):Y.cloneElement(h,{ref:w})})}const Sj=["component"];function Tj(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}const Nj=Y.forwardRef((n,t)=>{let{component:e}=n,r=Tj(n,Sj);const i=xj(r);return A.jsx(e,Object.assign({ref:t},i))});function Cj({in:n,onTransition:t}){const e=Y.useRef(null),r=Y.useRef(!0),i=Ac(t);return fE(()=>{if(!e.current)return;let a=!1;return i({in:n,element:e.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),fE(()=>(r.current=!1,()=>{r.current=!0}),[]),e}function Rj({children:n,in:t,onExited:e,onEntered:r,transition:i}){const[a,l]=Y.useState(!t);t&&a&&l(!1);const c=Cj({in:!!t,onTransition:f=>{const p=()=>{f.isStale()||(f.in?r?.(f.element,f.initial):(l(!0),e?.(f.element)))};Promise.resolve(i(f)).then(p,w=>{throw f.in||l(!0),w})}}),h=Hb(c,Rm(n));return a&&!t?null:Y.cloneElement(n,{ref:h})}function yE(n,t,e){return n?A.jsx(Nj,Object.assign({},e,{component:n})):t?A.jsx(Rj,Object.assign({},e,{transition:t})):A.jsx(wj,Object.assign({},e))}const Lj=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ij(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}let Fy;function Oj(n){return Fy||(Fy=new $b({ownerDocument:n?.document})),Fy}function kj(n){const t=Bb(),e=n||Oj(t),r=Y.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>e.add(r.current),remove:()=>e.remove(r.current),isTopModal:()=>e.isTopModal(r.current),setDialogRef:Y.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:Y.useCallback(i=>{r.current.backdrop=i},[])})}const fN=Y.forwardRef((n,t)=>{let{show:e=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:p,transition:w,runTransition:_,backdropTransition:v,runBackdropTransition:N,autoFocus:I=!0,enforceFocus:k=!0,restoreFocus:P=!0,restoreFocusOptions:H,renderDialog:X,renderBackdrop:Z=st=>A.jsx("div",Object.assign({},st)),manager:pt,container:wt,onShow:K,onHide:U=()=>{},onExit:M,onExited:G,onExiting:S,onEnter:O,onEntering:R,onEntered:at}=n,vt=Ij(n,Lj);const Q=Bb(),ut=_j(wt),ct=kj(pt),Et=VM(),W=zM(e),[gt,q]=Y.useState(!e),z=Y.useRef(null);Y.useImperativeHandle(t,()=>ct,[ct]),Ad&&!W&&e&&(z.current=Uy(Q?.document)),e&&gt&&q(!1);const nt=Ac(()=>{if(ct.add(),Mt.current=J1(document,"keydown",St),Rt.current=J1(document,"focus",()=>setTimeout(mt),!0),K&&K(),I){var st,we;const he=Uy((st=(we=ct.dialog)==null?void 0:we.ownerDocument)!=null?st:Q?.document);ct.dialog&&he&&!dE(ct.dialog,he)&&(z.current=he,ct.dialog.focus())}}),lt=Ac(()=>{if(ct.remove(),Mt.current==null||Mt.current(),Rt.current==null||Rt.current(),P){var st;(st=z.current)==null||st.focus==null||st.focus(H),z.current=null}});Y.useEffect(()=>{!e||!ut||nt()},[e,ut,nt]),Y.useEffect(()=>{gt&&lt()},[gt,lt]),vj(()=>{lt()});const mt=Ac(()=>{if(!k||!Et()||!ct.isTopModal())return;const st=Uy(Q?.document);ct.dialog&&st&&!dE(ct.dialog,st)&&ct.dialog.focus()}),At=Ac(st=>{st.target===st.currentTarget&&(f?.(st),c===!0&&U())}),St=Ac(st=>{h&&LM(st)&&ct.isTopModal()&&(p?.(st),st.defaultPrevented||U())}),Rt=Y.useRef(),Mt=Y.useRef(),zt=(...st)=>{q(!0),G?.(...st)};if(!ut)return null;const Qt=Object.assign({role:r,ref:ct.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},vt,{style:a,className:i,tabIndex:-1});let Bt=X?X(Qt):A.jsx("div",Object.assign({},Qt,{children:Y.cloneElement(l,{role:"document"})}));Bt=yE(w,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:M,onExiting:S,onExited:zt,onEnter:O,onEntering:R,onEntered:at,children:Bt});let Nt=null;return c&&(Nt=Z({ref:ct.setBackdropRef,onClick:At}),Nt=yE(v,N,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Nt})),A.jsx(A.Fragment,{children:Vf.createPortal(A.jsxs(A.Fragment,{children:[Nt,Bt]}),ut)})});fN.displayName="Modal";const Dj=Object.assign(fN,{Manager:$b});function Pj(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function Mj(n,t){n.classList?n.classList.add(t):Pj(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function vE(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jj(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=vE(n.className,t):n.setAttribute("class",vE(n.className&&n.className.baseVal||"",t))}const Nf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class qj extends $b{adjustAndStore(t,e,r){const i=e.style[t];e.dataset[t]=i,wu(e,{[t]:`${parseFloat(wu(e,t))+r}px`})}restore(t,e){const r=e.dataset[t];r!==void 0&&(delete e.dataset[t],wu(e,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(Mj(e,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tf(e,Nf.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth)),Tf(e,Nf.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-t.scrollBarWidth)),Tf(e,Nf.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();jj(e,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tf(e,Nf.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Tf(e,Nf.STICKY_CONTENT).forEach(a=>this.restore(i,a)),Tf(e,Nf.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let Vy;function Uj(n){return Vy||(Vy=new qj(n)),Vy}const dN=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"modal-body"),A.jsx(e,{ref:i,className:mn(n,t),...r})));dN.displayName="ModalBody";const pN=Y.createContext({onHide(){}}),Gb=Y.forwardRef(({bsPrefix:n,className:t,contentClassName:e,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...h},f)=>{n=Hn(n,"modal");const p=`${n}-dialog`,w=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return A.jsx("div",{...h,ref:f,className:mn(p,t,i&&`${n}-${i}`,r&&`${p}-centered`,c&&`${p}-scrollable`,a&&w),children:A.jsx("div",{className:mn(`${n}-content`,e),children:l})})});Gb.displayName="ModalDialog";const mN=Y.forwardRef(({className:n,bsPrefix:t,as:e="div",...r},i)=>(t=Hn(t,"modal-footer"),A.jsx(e,{ref:i,className:mn(n,t),...r})));mN.displayName="ModalFooter";const gN=Y.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:r,children:i,...a},l)=>{const c=Y.useContext(pN),h=t0(()=>{c?.onHide(),r?.()});return A.jsxs("div",{ref:l,...a,children:[i,e&&A.jsx(W0,{"aria-label":n,variant:t,onClick:h})]})});gN.displayName="AbstractModalHeader";const yN=Y.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:r=!1,...i},a)=>(n=Hn(n,"modal-header"),A.jsx(gN,{ref:a,...i,className:mn(t,n),closeLabel:e,closeButton:r})));yN.displayName="ModalHeader";const Bj=K0("h4"),vN=Y.forwardRef(({className:n,bsPrefix:t,as:e=Bj,...r},i)=>(t=Hn(t,"modal-title"),A.jsx(e,{ref:i,className:mn(n,t),...r})));vN.displayName="ModalTitle";function Fj(n){return A.jsx(im,{...n,timeout:null})}function Vj(n){return A.jsx(im,{...n,timeout:null})}const bN=Y.forwardRef(({bsPrefix:n,className:t,style:e,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=Gb,"data-bs-theme":c,"aria-labelledby":h,"aria-describedby":f,"aria-label":p,show:w=!1,animation:_=!0,backdrop:v=!0,keyboard:N=!0,onEscapeKeyDown:I,onShow:k,onHide:P,container:H,autoFocus:X=!0,enforceFocus:Z=!0,restoreFocus:pt=!0,restoreFocusOptions:wt,onEntered:K,onExit:U,onExiting:M,onEnter:G,onEntering:S,onExited:O,backdropClassName:R,manager:at,...vt},Q)=>{const[ut,ct]=Y.useState({}),[Et,W]=Y.useState(!1),gt=Y.useRef(!1),q=Y.useRef(!1),z=Y.useRef(null),[nt,lt]=gj(),mt=B6(Q,lt),At=t0(P),St=yM();n=Hn(n,"modal");const Rt=Y.useMemo(()=>({onHide:At}),[At]);function Mt(){return at||Uj({isRTL:St})}function zt(oe){if(!Ad)return;const pe=Mt().getScrollbarWidth()>0,se=oe.scrollHeight>G0(oe).documentElement.clientHeight;ct({paddingRight:pe&&!se?mE():void 0,paddingLeft:!pe&&se?mE():void 0})}const Qt=t0(()=>{nt&&zt(nt.dialog)});ij(()=>{i5(window,"resize",Qt),z.current==null||z.current()});const Bt=()=>{gt.current=!0},Nt=oe=>{gt.current&&nt&&oe.target===nt.dialog&&(q.current=!0),gt.current=!1},st=()=>{W(!0),z.current=j6(nt.dialog,()=>{W(!1)})},we=oe=>{oe.target===oe.currentTarget&&st()},he=oe=>{if(v==="static"){we(oe);return}if(q.current||oe.target!==oe.currentTarget){q.current=!1;return}P?.()},xe=oe=>{N?I?.(oe):(oe.preventDefault(),v==="static"&&st())},ee=(oe,pe)=>{oe&&zt(oe),G?.(oe,pe)},de=oe=>{z.current==null||z.current(),U?.(oe)},ue=(oe,pe)=>{S?.(oe,pe),M6(window,"resize",Qt)},Ge=oe=>{oe&&(oe.style.display=""),O?.(oe),i5(window,"resize",Qt)},ge=Y.useCallback(oe=>A.jsx("div",{...oe,className:mn(`${n}-backdrop`,R,!_&&"show")}),[_,R,n]),Ye={...e,...ut};Ye.display="block";const Pe=oe=>A.jsx("div",{role:"dialog",...oe,style:Ye,className:mn(t,n,Et&&`${n}-static`,!_&&"show"),onClick:v?he:void 0,onMouseUp:Nt,"data-bs-theme":c,"aria-label":p,"aria-labelledby":h,"aria-describedby":f,children:A.jsx(l,{...vt,onMouseDown:Bt,className:r,contentClassName:i,children:a})});return A.jsx(pN.Provider,{value:Rt,children:A.jsx(Dj,{show:w,ref:mt,backdrop:v,container:H,keyboard:!0,autoFocus:X,enforceFocus:Z,restoreFocus:pt,restoreFocusOptions:wt,onEscapeKeyDown:xe,onShow:k,onHide:P,onEnter:ee,onEntering:ue,onEntered:K,onExit:de,onExiting:M,onExited:Ge,manager:Mt(),transition:_?Fj:void 0,backdropTransition:_?Vj:void 0,renderBackdrop:ge,renderDialog:Pe})})});bN.displayName="Modal";const Ol=Object.assign(bN,{Body:dN,Header:yN,Title:vN,Footer:mN,Dialog:Gb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),bE=1e3;function zj(n,t,e){const r=(n-t)/(e-t)*100;return Math.round(r*bE)/bE}function _E({min:n,now:t,max:e,label:r,visuallyHidden:i,striped:a,animated:l,className:c,style:h,variant:f,bsPrefix:p,...w},_){return A.jsx("div",{ref:_,...w,role:"progressbar",className:mn(c,`${p}-bar`,{[`bg-${f}`]:f,[`${p}-bar-animated`]:l,[`${p}-bar-striped`]:l||a}),style:{width:`${zj(t,n,e)}%`,...h},"aria-valuenow":t,"aria-valuemin":n,"aria-valuemax":e,children:i?A.jsx("span",{className:"visually-hidden",children:r}):r})}const _N=Y.forwardRef(({isChild:n=!1,...t},e)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...t};if(r.bsPrefix=Hn(r.bsPrefix,"progress"),n)return _E(r,e);const{min:i,now:a,max:l,label:c,visuallyHidden:h,striped:f,animated:p,bsPrefix:w,variant:_,className:v,children:N,...I}=r;return A.jsx("div",{ref:e,...I,className:mn(v,w),children:N?sj(N,k=>Y.cloneElement(k,{isChild:!0})):_E({min:i,now:a,max:l,label:c,visuallyHidden:h,striped:f,animated:p,bsPrefix:w,variant:_},e)})});_N.displayName="ProgressBar";const Qs=Y.forwardRef(({bsPrefix:n,className:t,as:e="div",...r},i)=>{const a=Hn(n,"row"),l=k6(),c=D6(),h=`${a}-cols`,f=[];return l.forEach(p=>{const w=r[p];delete r[p];let _;w!=null&&typeof w=="object"?{cols:_}=w:_=w;const v=p!==c?`-${p}`:"";_!=null&&f.push(`${h}${v}-${_}`)}),A.jsx(e,{ref:i,...r,className:mn(t,a,...f)})});Qs.displayName="Row";const Lm=Y.forwardRef(({bsPrefix:n,variant:t,animation:e="border",size:r,as:i="div",className:a,...l},c)=>{n=Hn(n,"spinner");const h=`${n}-${e}`;return A.jsx(i,{ref:c,...l,className:mn(a,h,r&&`${h}-${r}`,t&&`text-${t}`)})});Lm.displayName="Spinner";const Op=Y.forwardRef(({bsPrefix:n,className:t,striped:e,bordered:r,borderless:i,hover:a,size:l,variant:c,responsive:h,...f},p)=>{const w=Hn(n,"table"),_=mn(t,w,c&&`${w}-${c}`,l&&`${w}-${l}`,e&&`${w}-${typeof e=="string"?`striped-${e}`:"striped"}`,r&&`${w}-bordered`,i&&`${w}-borderless`,a&&`${w}-hover`),v=A.jsx("table",{...f,className:_,ref:p});if(h){let N=`${w}-responsive`;return typeof h=="string"&&(N=`${N}-${h}`),A.jsx("div",{className:N,children:v})}return v});Op.displayName="Table";const Hj=()=>{const[n,t]=Y.useState([]),[e,r]=Y.useState(""),[i,a]=Y.useState(""),[l,c]=Y.useState(5),h=Sa(Wr,"testimonials"),f=async()=>{const _=Nm(h,V0("timestamp","desc")),v=await yu(_);t(v.docs.map(N=>({id:N.id,...N.data()})))};Y.useEffect(()=>{f()},[]);const p=async _=>{if(_.preventDefault(),!e||!i)return alert("Please fill all fields!");await H0(h,{name:e,msg:i,rating:Number(l),img:"https://cdn-icons-png.flaticon.com/256/4042/4042356.png",timestamp:new Date}),r(""),a(""),c(5),f()},w=_=>{let v="";for(let N=0;N<5;N++)v+=N<_?"":"";return v};return A.jsxs(A.Fragment,{children:[A.jsx(Qs,{className:"mb-5 justify-content-center",children:A.jsx(Tr,{lg:6,children:A.jsxs(vn,{className:"shadow-lg p-4 rounded-4 border-0",style:{background:"#f8f9fa"},children:[A.jsx("h4",{className:"text-center mb-4 fw-bold text-primary",children:"Share Your Feedback"}),A.jsxs(_e,{onSubmit:p,children:[A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{children:"Name"}),A.jsx(_e.Control,{type:"text",placeholder:"Enter your name",value:e,onChange:_=>r(_.target.value),style:{borderRadius:"10px"}})]}),A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{children:"Message"}),A.jsx(_e.Control,{as:"textarea",rows:3,placeholder:"Write your feedback",value:i,onChange:_=>a(_.target.value),style:{borderRadius:"10px"}})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{children:"Rating"}),A.jsxs(_e.Select,{value:l,onChange:_=>c(_.target.value),style:{borderRadius:"10px"},children:[A.jsx("option",{value:5,children:"5 - Excellent"}),A.jsx("option",{value:4,children:"4 - Good"}),A.jsx("option",{value:3,children:"3 - Average"}),A.jsx("option",{value:2,children:"2 - Poor"}),A.jsx("option",{value:1,children:"1 - Bad"})]})]}),A.jsx(rr,{variant:"primary",type:"submit",className:"w-100 btn-lg rounded-3",children:"Submit Feedback"})]})]})})}),A.jsx(Qs,{className:"g-4",children:n.map((_,v)=>A.jsx(Tr,{md:6,children:A.jsxs(vn,{className:"shadow-lg p-4 text-center h-100 border-0",style:{borderRadius:"20px",transition:"transform 0.3s, box-shadow 0.3s"},onMouseEnter:N=>{N.currentTarget.style.transform="translateY(-5px)",N.currentTarget.style.boxShadow="0 12px 25px rgba(0,0,0,0.2)"},onMouseLeave:N=>{N.currentTarget.style.transform="translateY(0)",N.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},children:[A.jsx("div",{className:"mb-3",children:A.jsx("img",{src:_.img||"https://i.pravatar.cc/150?img=65",alt:_.name,className:"rounded-circle",style:{width:"80px",height:"80px",objectFit:"cover",marginBottom:"10px"}})}),A.jsxs(vn.Body,{children:[A.jsxs(vn.Text,{className:"mb-2 fst-italic",children:['"',_.msg,'"']}),A.jsxs(vn.Subtitle,{className:"text-muted mb-2 fw-bold",children:["- ",_.name]}),A.jsx("p",{className:"text-warning fs-5",children:w(_.rating)})]})]})},v))})]})};var wN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wE=Gr.createContext&&Gr.createContext(wN),$j=["attr","size","title"];function Gj(n,t){if(n==null)return{};var e=Kj(n,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function Kj(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function r0(){return r0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},r0.apply(this,arguments)}function EE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function i0(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(e),!0).forEach(function(r){Wj(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):EE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Wj(n,t,e){return t=Yj(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Yj(n){var t=Qj(n,"string");return typeof t=="symbol"?t:t+""}function Qj(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function EN(n){return n&&n.map((t,e)=>Gr.createElement(t.tag,i0({key:e},t.attr),EN(t.child)))}function io(n){return t=>Gr.createElement(Xj,r0({attr:i0({},n.attr)},t),EN(n.child))}function Xj(n){var t=e=>{var{attr:r,size:i,title:a}=n,l=Gj(n,$j),c=i||e.size||"1em",h;return e.className&&(h=e.className),n.className&&(h=(h?h+" ":"")+n.className),Gr.createElement("svg",r0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,l,{className:h,style:i0(i0({color:n.color||e.color},e.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Gr.createElement("title",null,a),n.children)};return wE!==void 0?Gr.createElement(wE.Consumer,null,e=>t(e)):t(wN)}function zy(n){return io({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"},child:[]}]})(n)}const Zj=[{title:"Wide range of quiz topics",icon:A.jsx(zy,{})},{title:"User-friendly and responsive design",icon:A.jsx(zy,{})},{title:"Compete with friends and track progress",icon:A.jsx(zy,{})}],Jj=()=>A.jsx("section",{className:"why-quizweb py-5",style:{background:"#f0f8ff"},children:A.jsx(Ba,{children:A.jsxs(Qs,{className:"align-items-center",children:[A.jsxs(Tr,{lg:6,className:"mb-4 mb-lg-0",children:[A.jsx("h3",{className:"fw-bold mb-3 text-primary animate__animated animate__fadeInLeft",children:"Interactive & Fun Learning"}),A.jsx("p",{className:"lead text-dark mb-4 animate__animated animate__fadeInLeft animate__delay-1s",children:"Quizopedia is designed to make learning exciting and engaging. Test your knowledge, challenge friends, and explore quizzes across multiple topics."}),A.jsx("div",{className:"feature-cards",children:Zj.map((n,t)=>A.jsx(vn,{className:"mb-3 feature-card p-3 shadow-sm",style:{borderRadius:"15px",transition:"transform 0.3s, box-shadow 0.3s"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},children:A.jsxs("div",{className:"d-flex align-items-center",children:[A.jsx("span",{className:"feature-icon text-success fs-4 me-3",style:{minWidth:"40px",textAlign:"center"},children:n.icon}),A.jsx("span",{className:"feature-text fw-bold",children:n.title})]})},t))}),A.jsx("p",{className:"text-muted mt-3",children:"Our mission is to make learning accessible and fun for everyone. Join Quizopedia today and start your quiz journey!"})]}),A.jsx(Tr,{lg:6,className:"text-center animate__animated animate__fadeInRight",children:A.jsx("img",{src:"https://media.istockphoto.com/id/2205489078/vector/man-laptop-resume-cv-job-search-online-cartoon.jpg?s=612x612&w=0&k=20&c=qHo6ij_XCPSeQBb_OF0X1pc_o1K4477aqRw_UdjLlcA=",alt:"QuizWeb Illustration",className:"img-fluid rounded shadow-lg",style:{maxHeight:"400px",objectFit:"cover",transition:"transform 0.3s"},onMouseEnter:n=>n.currentTarget.style.transform="scale(1.05)",onMouseLeave:n=>n.currentTarget.style.transform="scale(1)"})})]})})}),tq=()=>{const n=jh();return A.jsxs("div",{children:[A.jsx("section",{className:"hero-section d-flex align-items-center text-center text-white",children:A.jsx(Ba,{children:A.jsxs("div",{className:"animate__animated animate__fadeInDown",children:[A.jsxs("h1",{className:"display-4 fw-bold mb-3",children:["Welcome to ",A.jsx("span",{className:"text-warning",children:"Quizopedia"})," "]}),A.jsx("p",{className:"lead text-light mb-4",children:"Test your knowledge, challenge your friends, and make learning fun!"}),A.jsxs("div",{children:[A.jsx("button",{className:"btn btn-warning btn-lg px-4 me-3 shadow",onClick:()=>n("/quizestart"),children:"Start Quiz "}),A.jsx("button",{className:"btn btn-outline-light btn-lg px-4 shadow",onClick:()=>n("/features"),children:"Learn More"})]})]})})}),A.jsx("section",{className:"py-5",style:{background:"linear-gradient(135deg, #f0f8ff 0%, #e6f2ff 100%)"},children:A.jsx(Ba,{children:A.jsxs(Qs,{className:"align-items-center",children:[A.jsx(Tr,{md:6,className:"mb-4 mb-md-0 text-center",children:A.jsx(vn,{className:"shadow-lg border-0 rounded-4",style:{overflow:"hidden"},children:A.jsx(vn.Img,{variant:"top",src:"https://images.quiz-maker.com/images/e0c99e73-8290-4331-e314-eb51c7d02100/public",className:"img-fluid",style:{maxHeight:"300px",objectFit:"cover"}})})}),A.jsxs(Tr,{md:6,children:[A.jsx("h2",{className:"fw-bold text-primary mb-3 animate__animated animate__fadeInDown",children:"About Our Quizzes"}),A.jsxs("p",{className:"lead text-dark animate__animated animate__fadeInUp",children:["Our quizzes are designed to ",A.jsx("span",{className:"fw-bold",children:"boost your knowledge"}),"and make learning enjoyable. Explore multiple categories, challenge your friends, and track your progress with ease."]}),A.jsxs("ul",{className:"list-unstyled mt-3",children:[A.jsxs("li",{className:"mb-2 d-flex align-items-center",children:[A.jsx("i",{className:"bi bi-lightning-charge-fill text-warning me-2"}),A.jsx("span",{children:"Fast & Engaging Quizzes"})]}),A.jsxs("li",{className:"mb-2 d-flex align-items-center",children:[A.jsx("i",{className:"bi bi-graph-up-arrow text-success me-2"}),A.jsx("span",{children:"Track Your Learning Progress"})]}),A.jsxs("li",{className:"mb-2 d-flex align-items-center",children:[A.jsx("i",{className:"bi bi-people-fill text-info me-2"}),A.jsx("span",{children:"Compete with Friends"})]})]}),A.jsx(rr,{variant:"primary",size:"lg",className:"mt-3 shadow-sm rounded-pill px-4",onClick:()=>n("/quizestart"),children:"Start Your Quiz Journey "})]})]})})}),A.jsx("section",{className:"py-5",style:{background:"#ffffff"},children:A.jsxs(Ba,{children:[A.jsx("h2",{className:"text-center mb-5 fw-bold",style:{color:"#0d6efd"},children:"Why Quizopedia?"}),A.jsx(Qs,{className:"justify-content-center",children:A.jsx(Jj,{})})]})}),A.jsx("section",{className:"py-5",style:{background:"#f8f9fa"},children:A.jsxs(Ba,{children:[A.jsx("h2",{className:"text-center mb-5 fw-bold",style:{color:"#6610f2"},children:"What Our Users Say"}),A.jsx(Qs,{className:"g-4",children:A.jsx(Hj,{})})]})})]})};function Q0({progress:n=null,loop:t=!0}){const[e,r]=Y.useState(n??0);return Y.useEffect(()=>{if(n!==null){r(n);return}let i=!0,a=0;const l=2,c=40;function h(){i&&(a+=l,a>100&&(t?a=0:a=100),r(a))}const f=setInterval(h,c);return()=>{i=!1,clearInterval(f)}},[n,t]),A.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",style:{minHeight:"100vh"},children:[A.jsx(Lm,{animation:"border",role:"status",variant:"primary",style:{width:"3rem",height:"3rem"},children:A.jsx("span",{className:"visually-hidden",children:"Loading..."})}),A.jsx("div",{className:"w-75 mt-3",children:A.jsx(_N,{now:e,animated:!0,striped:!0,variant:"info",label:`${Math.round(e)}%`})}),A.jsx("div",{className:"mt-2 text-muted small fw-semibold",children:"Please wait, preparing your content..."})]})}const eq=()=>{const[n,t]=Y.useState([]),[e,r]=Y.useState([]),[i,a]=Y.useState([]),[l,c]=Y.useState("All"),[h,f]=Y.useState(!0),p=jh();Y.useEffect(()=>{(async()=>{try{const N=(await yu(Sa(Wr,"features"))).docs.map(k=>({id:k.id,...k.data()}));t(N),r(N);const I=["All",...new Set(N.map(k=>k.category))];a(I)}catch(v){console.error("Error fetching features:",v)}finally{f(!1)}})()},[]);const w=_=>{c(_),r(_==="All"?n:n.filter(v=>v.category===_))};return h?A.jsx(Q0,{}):A.jsxs(Ba,{className:"my-5",children:[A.jsx("div",{className:"d-flex justify-content-end mb-4",children:A.jsx(_e.Select,{value:l,onChange:_=>w(_.target.value),className:"w-auto shadow-sm border-0",style:{maxWidth:"250px",background:"#f8f9fa"},children:i.map((_,v)=>A.jsx("option",{value:_,children:_},v))})}),A.jsx(Qs,{className:"g-4",children:e.map(_=>A.jsx(Tr,{md:6,lg:4,children:A.jsxs(vn,{className:"h-100 shadow-lg rounded-4 border-0 overflow-hidden",style:{transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},onClick:()=>p(`/learning/${_.id}`),onMouseEnter:v=>{v.currentTarget.style.transform="scale(1.05)",v.currentTarget.style.boxShadow="0 1rem 2rem rgba(0,0,0,0.3)"},onMouseLeave:v=>{v.currentTarget.style.transform="scale(1)",v.currentTarget.style.boxShadow="0 0.5rem 1rem rgba(0,0,0,0.15)"},children:[A.jsx(vn.Img,{variant:"top",src:_.image,style:{height:"200px",objectFit:"cover",transition:"transform 0.3s"}}),A.jsxs(vn.Body,{className:"d-flex flex-column justify-content-between",children:[A.jsxs("div",{children:[A.jsx(vn.Title,{style:{color:"#0d6efd",fontWeight:"700",fontSize:"1.3rem"},children:_.title}),A.jsx(vn.Text,{className:"text-muted",style:{minHeight:"60px"},children:_.shortDescription})]}),A.jsx(rr,{className:"mt-3",style:{background:"linear-gradient(90deg, #0d6efd, #6610f2)",border:"none",fontWeight:"600",borderRadius:"50px",padding:"0.5rem 1.5rem",boxShadow:"0 0.5rem 1rem rgba(0,0,0,0.2)",transition:"transform 0.3s, box-shadow 0.3s"},onMouseEnter:v=>{v.currentTarget.style.transform="scale(1.05)",v.currentTarget.style.boxShadow="0 1rem 2rem rgba(0,0,0,0.3)"},onMouseLeave:v=>{v.currentTarget.style.transform="scale(1)",v.currentTarget.style.boxShadow="0 0.5rem 1rem rgba(0,0,0,0.2)"},onClick:v=>{v.stopPropagation(),p(`/learning/${_.id}`)},children:"Read More"})]})]})},_.id))})]})},nq=({isLoggedIn:n})=>{const t=Ou(),e=r=>t.pathname===r?"active-link":"";return A.jsxs("nav",{className:"navbar navbar-expand-lg sticky-top custom-navbar shadow-sm",children:[A.jsxs("div",{className:"container",children:[A.jsxs(Ll,{className:"navbar-brand fw-bold fs-3 text-light",to:"/",children:[A.jsx("span",{className:"text-warning",children:""})," QuizoPedia"]}),A.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",children:A.jsx("span",{className:"navbar-toggler-icon"})}),A.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:A.jsxs("ul",{className:"navbar-nav fw-medium",children:[A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:`nav-link ${e("/")}`,to:"/",children:"Home"})}),n&&A.jsxs(A.Fragment,{children:[A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:`nav-link ${e("/quizestart")}`,to:"/quizestart",children:"Quizzes"})}),A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:`nav-link ${e("/features")}`,to:"/features",children:"Study Material"})}),A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:`nav-link ${e("/contact")}`,to:"/contact",children:"Contact"})}),A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:`nav-link ${e("/account")}`,to:"/account",children:"Account"})})]}),!n&&A.jsx("li",{className:"nav-item",children:A.jsx(Ll,{className:"btn btn-light text-primary fw-bold px-4 ms-2 shadow-sm",to:"/login",children:"Login"})})]})})]}),A.jsx("style",{children:`
        .custom-navbar {
          background: linear-gradient(90deg, #0d6efd, #6610f2);
        }

        .nav-link {
          color: white !important;
          transition: color 0.3s ease, transform 0.2s ease;
        }
        .nav-link:hover {
          color: #ffc107 !important;
          transform: translateY(-2px);
        }
        .active-link {
          color: #ffc107 !important;
          font-weight: 600;
          border-bottom: 2px solid #ffc107;
        }
      `})]})};function rq(n){return io({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function iq(n){return io({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function sq(n){return io({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function AE(n){return io({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"},child:[]}]})(n)}function aq(n){return io({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function AN(n){return io({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function oq(n){return io({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function lq(n){return io({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(n)}function uq(n){return io({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function cq(n){return io({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(n)}function hq(n){return io({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function fq(n){return io({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(n)}const dq=()=>A.jsx("footer",{className:"bg-dark text-light pt-4 pb-2 mt-auto",children:A.jsxs("div",{className:"container",children:[A.jsxs("div",{className:"row align-items-center",children:[A.jsxs("div",{className:"col-md-4 text-center text-md-start mb-3 mb-md-0",children:[A.jsx("h5",{className:"fw-bold",children:"Vivek Sharma"}),A.jsxs("p",{className:"small mb-1",children:[A.jsx(fq,{className:"me-2"}),A.jsx("a",{href:"mailto:viveksharma28402@gmail.com",className:"text-light text-decoration-none",children:"viveksharma28402@gmail.com"})]}),A.jsx("p",{className:"small text-muted mb-0",children:"Full Stack Developer | Tech Enthusiast"})]}),A.jsx("div",{className:"col-md-4 text-center mb-3 mb-md-0",children:A.jsx("p",{className:"small mb-0",children:" Building modern web & mobile apps with  and clean code."})}),A.jsxs("div",{className:"col-md-4 text-center text-md-end",children:[A.jsx("a",{href:"https://github.com/viveksharma62",target:"_blank",rel:"noopener noreferrer",className:"text-light fs-4 me-3",children:A.jsx(rq,{})}),A.jsx("a",{href:"https://www.linkedin.com/in/vivek-kumar-35637b26a/",target:"_blank",rel:"noopener noreferrer",className:"text-light fs-4",children:A.jsx(iq,{})})]})]}),A.jsx("hr",{className:"border-secondary my-3"}),A.jsx("div",{className:"text-center small",children:A.jsxs("span",{children:[" ",new Date().getFullYear()," Vivek Sharma. All rights reserved. | Designed with ",A.jsx("span",{style:{color:"#e25555"},children:""})," in India"]})})]})}),pq=()=>{const[n,t]=Y.useState({name:"",email:"",message:""}),[e,r]=Y.useState(!1),[i,a]=Y.useState(""),[l,c]=Y.useState([]),[h,f]=Y.useState(localStorage.getItem("userEmail")||""),p=_=>{t({...n,[_.target.name]:_.target.value})},w=async _=>{_.preventDefault(),r(!0),a("");try{await H0(Sa(Wr,"contacts"),{...n,reply:"",timestamp:Mb()}),a(" Message sent successfully!"),f(n.email),localStorage.setItem("userEmail",n.email),t({name:"",email:n.email,message:""})}catch(v){console.error("Error saving contact:",v),a(" Failed to send message. Try again!")}r(!1)};return Y.useEffect(()=>{if(!h)return;const _=Nm(Sa(Wr,"contacts"),V0("timestamp","desc")),v=R6(_,N=>{const I=N.docs.map(k=>({id:k.id,...k.data()}));c(I.filter(k=>k.email===h))});return()=>v()},[h]),A.jsxs(Ba,{fluid:!0,className:"min-vh-100 py-5 position-relative",style:{background:"#f0f4f8"},children:[A.jsx(AN,{className:"floating-icon icon1"}),A.jsx(lq,{className:"floating-icon icon2"}),A.jsx(aq,{className:"floating-icon icon3"}),A.jsx(Qs,{className:"w-100 justify-content-center",children:A.jsx(Tr,{lg:6,md:8,sm:10,children:A.jsxs(vn,{className:"shadow-lg p-4 rounded-4 bg-white position-relative z-1",children:[A.jsx("h2",{className:"text-center mb-3",style:{color:"#007bff"},children:" Contact Us"}),A.jsx("p",{className:"text-center text-muted mb-4",children:"Have questions or feedback? Fill out the form below and well get back to you soon."}),A.jsxs(_e,{onSubmit:w,children:[A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{children:"Full Name"}),A.jsx(_e.Control,{type:"text",name:"name",placeholder:"Enter your name",value:n.name,onChange:p,required:!0})]}),A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{children:"Email Address"}),A.jsx(_e.Control,{type:"email",name:"email",placeholder:"Enter your email",value:n.email,onChange:p,required:!0})]}),A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{children:"Message"}),A.jsx(_e.Control,{as:"textarea",rows:4,placeholder:"Write your message...",name:"message",value:n.message,onChange:p,required:!0})]}),A.jsx("div",{className:"d-grid mb-2",children:A.jsx(rr,{variant:"primary",size:"lg",type:"submit",disabled:e,children:e?A.jsx(Lm,{animation:"border",size:"sm"}):" Send Message"})})]}),i&&A.jsx(qy,{variant:i.includes("")?"success":"danger",className:"text-center mt-2",children:i})]})})}),l.length>0&&A.jsx(Qs,{className:"w-100 justify-content-center mt-5",children:A.jsxs(Tr,{lg:8,md:10,children:[A.jsx("h4",{className:"mb-3",style:{color:"#2c3e50"},children:" Your Messages & Replies"}),A.jsx(Qs,{className:"g-3",children:l.map(_=>A.jsx(Tr,{md:12,children:A.jsxs(vn,{className:"shadow-sm rounded-4 p-3 bg-white",children:[A.jsxs("p",{className:"mb-1",children:[A.jsx("strong",{children:" Message:"})," ",_.message]}),A.jsx("p",{className:"text-muted small",children:_.timestamp?.toDate().toLocaleString()}),_.reply?A.jsxs(qy,{variant:"success",className:"mt-2",children:[A.jsx("strong",{children:" Admin Reply:"})," ",_.reply]}):A.jsx(qy,{variant:"warning",className:"mt-2",children:" Waiting for admin reply..."})]})},_.id))})]})})]})},mq="modulepreload",gq=function(n){return"/"+n},xE={},Hy=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=h(e.map(f=>{if(f=gq(f),f in xE)return;xE[f]=!0;const p=f.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":mq,p||(_.as="script"),_.crossOrigin="",_.href=f,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((v,N)=>{_.addEventListener("load",v),_.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function Nr(n){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(n)}var ol=Uint8Array,no=Uint16Array,Kb=Int32Array,Wb=new ol([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yb=new ol([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SE=new ol([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xN=function(n,t){for(var e=new no(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new Kb(e[30]),r=1;r<30;++r)for(var a=e[r];a<e[r+1];++a)i[a]=a-e[r]<<5|r;return{b:e,r:i}},SN=xN(Wb,2),yq=SN.b,s5=SN.r;yq[28]=258,s5[258]=28;var vq=xN(Yb,0),TE=vq.r,a5=new no(32768);for(var ni=0;ni<32768;++ni){var pc=(ni&43690)>>1|(ni&21845)<<1;pc=(pc&52428)>>2|(pc&13107)<<2,pc=(pc&61680)>>4|(pc&3855)<<4,a5[ni]=((pc&65280)>>8|(pc&255)<<8)>>1}var Vp=(function(n,t,e){for(var r=n.length,i=0,a=new no(t);i<r;++i)n[i]&&++a[n[i]-1];var l=new no(t);for(i=1;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;var c;if(e){c=new no(1<<t);var h=15-t;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],p=t-n[i],w=l[n[i]-1]++<<p,_=w|(1<<p)-1;w<=_;++w)c[a5[w]>>h]=f}else for(c=new no(r),i=0;i<r;++i)n[i]&&(c[i]=a5[l[n[i]-1]++]>>15-n[i]);return c}),Ih=new ol(288);for(var ni=0;ni<144;++ni)Ih[ni]=8;for(var ni=144;ni<256;++ni)Ih[ni]=9;for(var ni=256;ni<280;++ni)Ih[ni]=7;for(var ni=280;ni<288;++ni)Ih[ni]=8;var s0=new ol(32);for(var ni=0;ni<32;++ni)s0[ni]=5;var bq=Vp(Ih,9,0),_q=Vp(s0,5,0),TN=function(n){return(n+7)/8|0},wq=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new ol(n.subarray(t,e))},cu=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},wp=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},$y=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,a=e.slice();if(!i)return{t:CN,l:0};if(i==1){var l=new ol(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function(pt,wt){return pt.f-wt.f}),e.push({s:-1,f:25001});var c=e[0],h=e[1],f=0,p=1,w=2;for(e[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=i-1;)c=e[e[f].f<e[w].f?f++:w++],h=e[f!=p&&e[f].f<e[w].f?f++:w++],e[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var _=a[0].s,r=1;r<i;++r)a[r].s>_&&(_=a[r].s);var v=new no(_+1),N=o5(e[p-1],v,0);if(N>t){var r=0,I=0,k=N-t,P=1<<k;for(a.sort(function(wt,K){return v[K.s]-v[wt.s]||wt.f-K.f});r<i;++r){var H=a[r].s;if(v[H]>t)I+=P-(1<<N-v[H]),v[H]=t;else break}for(I>>=k;I>0;){var X=a[r].s;v[X]<t?I-=1<<t-v[X]++-1:++r}for(;r>=0&&I;--r){var Z=a[r].s;v[Z]==t&&(--v[Z],++I)}N=t}return{t:new ol(v),l:N}},o5=function(n,t,e){return n.s==-1?Math.max(o5(n.l,t,e+1),o5(n.r,t,e+1)):t[n.s]=e},NE=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new no(++t),r=0,i=n[0],a=1,l=function(h){e[r++]=h},c=1;c<=t;++c)if(n[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=n[c]}return{c:e.subarray(0,r),n:t}},Ep=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},NN=function(n,t,e){var r=e.length,i=TN(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=e[a];return(i+4+r)*8},CE=function(n,t,e,r,i,a,l,c,h,f,p){cu(t,p++,e),++i[256];for(var w=$y(i,15),_=w.t,v=w.l,N=$y(a,15),I=N.t,k=N.l,P=NE(_),H=P.c,X=P.n,Z=NE(I),pt=Z.c,wt=Z.n,K=new no(19),U=0;U<H.length;++U)++K[H[U]&31];for(var U=0;U<pt.length;++U)++K[pt[U]&31];for(var M=$y(K,7),G=M.t,S=M.l,O=19;O>4&&!G[SE[O-1]];--O);var R=f+5<<3,at=Ep(i,Ih)+Ep(a,s0)+l,vt=Ep(i,_)+Ep(a,I)+l+14+3*O+Ep(K,G)+2*K[16]+3*K[17]+7*K[18];if(h>=0&&R<=at&&R<=vt)return NN(t,p,n.subarray(h,h+f));var Q,ut,ct,Et;if(cu(t,p,1+(vt<at)),p+=2,vt<at){Q=Vp(_,v,0),ut=_,ct=Vp(I,k,0),Et=I;var W=Vp(G,S,0);cu(t,p,X-257),cu(t,p+5,wt-1),cu(t,p+10,O-4),p+=14;for(var U=0;U<O;++U)cu(t,p+3*U,G[SE[U]]);p+=3*O;for(var gt=[H,pt],q=0;q<2;++q)for(var z=gt[q],U=0;U<z.length;++U){var nt=z[U]&31;cu(t,p,W[nt]),p+=G[nt],nt>15&&(cu(t,p,z[U]>>5&127),p+=z[U]>>12)}}else Q=bq,ut=Ih,ct=_q,Et=s0;for(var U=0;U<c;++U){var lt=r[U];if(lt>255){var nt=lt>>18&31;wp(t,p,Q[nt+257]),p+=ut[nt+257],nt>7&&(cu(t,p,lt>>23&31),p+=Wb[nt]);var mt=lt&31;wp(t,p,ct[mt]),p+=Et[mt],mt>3&&(wp(t,p,lt>>5&8191),p+=Yb[mt])}else wp(t,p,Q[lt]),p+=ut[lt]}return wp(t,p,Q[256]),p+ut[256]},Eq=new Kb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CN=new ol(0),Aq=function(n,t,e,r,i,a){var l=a.z||n.length,c=new ol(r+l+5*(1+Math.ceil(l/7e3))+i),h=c.subarray(r,c.length-i),f=a.l,p=(a.r||0)&7;if(t){p&&(h[0]=a.r>>3);for(var w=Eq[t-1],_=w>>13,v=w&8191,N=(1<<e)-1,I=a.p||new no(32768),k=a.h||new no(N+1),P=Math.ceil(e/3),H=2*P,X=function(Nt){return(n[Nt]^n[Nt+1]<<P^n[Nt+2]<<H)&N},Z=new Kb(25e3),pt=new no(288),wt=new no(32),K=0,U=0,M=a.i||0,G=0,S=a.w||0,O=0;M+2<l;++M){var R=X(M),at=M&32767,vt=k[R];if(I[at]=vt,k[R]=at,S<=M){var Q=l-M;if((K>7e3||G>24576)&&(Q>423||!f)){p=CE(n,h,0,Z,pt,wt,U,G,O,M-O,p),G=K=U=0,O=M;for(var ut=0;ut<286;++ut)pt[ut]=0;for(var ut=0;ut<30;++ut)wt[ut]=0}var ct=2,Et=0,W=v,gt=at-vt&32767;if(Q>2&&R==X(M-gt))for(var q=Math.min(_,Q)-1,z=Math.min(32767,M),nt=Math.min(258,Q);gt<=z&&--W&&at!=vt;){if(n[M+ct]==n[M+ct-gt]){for(var lt=0;lt<nt&&n[M+lt]==n[M+lt-gt];++lt);if(lt>ct){if(ct=lt,Et=gt,lt>q)break;for(var mt=Math.min(gt,lt-2),At=0,ut=0;ut<mt;++ut){var St=M-gt+ut&32767,Rt=I[St],Mt=St-Rt&32767;Mt>At&&(At=Mt,vt=St)}}}at=vt,vt=I[at],gt+=at-vt&32767}if(Et){Z[G++]=268435456|s5[ct]<<18|TE[Et];var zt=s5[ct]&31,Qt=TE[Et]&31;U+=Wb[zt]+Yb[Qt],++pt[257+zt],++wt[Qt],S=M+ct,++K}else Z[G++]=n[M],++pt[n[M]]}}for(M=Math.max(M,S);M<l;++M)Z[G++]=n[M],++pt[n[M]];p=CE(n,h,f,Z,pt,wt,U,G,O,M-O,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=k,a.p=I,a.i=M,a.w=S)}else{for(var M=a.w||0;M<l+f;M+=65535){var Bt=M+65535;Bt>=l&&(h[p/8|0]=f,Bt=l),p=NN(h,p+1,n.subarray(M,Bt))}a.i=l}return wq(c,0,r+TN(p)+i)},RN=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,a=e.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)i+=r+=e[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},xq=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new ol(a.length+n.length);l.set(a),l.set(n,a.length),n=l,i.w=a.length}return Aq(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},LN=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},Sq=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=RN();i.p(t.dictionary),LN(n,2,i.d())}};function l5(n,t){t||(t={});var e=RN();e.p(n);var r=xq(n,t,t.dictionary?6:2,4);return Sq(r,t),LN(r,r.length-4,e.d()),r}var Tq=typeof TextDecoder<"u"&&new TextDecoder,Nq=0;try{Tq.decode(CN,{stream:!0}),Nq=1}catch{}function Cq(n){if(Array.isArray(n))return n}function Rq(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,a,l,c=[],h=!0,f=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(h=(r=a.call(e)).done)&&(c.push(r.value),c.length!==t);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function RE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Lq(n,t){if(n){if(typeof n=="string")return RE(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?RE(n,t):void 0}}function Iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LE(n,t){return Cq(n)||Rq(n,t)||Lq(n,t)||Iq()}function IE(n,t="utf8"){return new TextDecoder(t).decode(n)}const Oq=new TextEncoder;function kq(n){return Oq.encode(n)}const Dq=1024*8,Pq=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Gy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Qb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Dq,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,a=t.byteLength-i;let l=i;(ArrayBuffer.isView(t)||t instanceof Qb)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=Gy[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===Pq&&e!=="uint8"&&e!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const h=new Gy[e](c.buffer);return this.offset+=r,h.reverse(),h}const l=new Gy[e](a);return this.offset+=r,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return IE(this.readBytes(t))}decodeText(t=1,e="utf8"){return IE(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(kq(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xd(n){let t=n.length;for(;--t>=0;)n[t]=0}const Mq=3,jq=258,IN=29,qq=256,Uq=qq+1+IN,ON=30,Bq=512,Fq=new Array((Uq+2)*2);xd(Fq);const Vq=new Array(ON*2);xd(Vq);const zq=new Array(Bq);xd(zq);const Hq=new Array(jq-Mq+1);xd(Hq);const $q=new Array(IN);xd($q);const Gq=new Array(ON);xd(Gq);const Kq=(n,t,e,r)=>{let i=n&65535|0,a=n>>>16&65535|0,l=0;for(;e!==0;){l=e>2e3?2e3:e,e-=l;do i=i+t[r++]|0,a=a+i|0;while(--l);i%=65521,a%=65521}return i|a<<16|0};var u5=Kq;const Wq=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},Yq=new Uint32Array(Wq()),Qq=(n,t,e,r)=>{const i=Yq,a=r+e;n^=-1;for(let l=r;l<a;l++)n=n>>>8^i[(n^t[l])&255];return n^-1};var Cl=Qq,c5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Xq=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Zq=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)Xq(e,r)&&(n[r]=e[r])}}return n},Jq=n=>{let t=0;for(let r=0,i=n.length;r<i;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,i=0,a=n.length;r<a;r++){let l=n[r];e.set(l,i),i+=l.length}return e},DN={assign:Zq,flattenChunks:Jq};let PN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PN=!1}const sm=new Uint8Array(256);for(let n=0;n<256;n++)sm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;sm[254]=sm[254]=1;var tU=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,i,a,l=n.length,c=0;for(i=0;i<l;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(c),a=0,i=0;a<c;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t};const eU=(n,t)=>{if(t<65534&&n.subarray&&PN)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var nU=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,i;const a=new Array(e*2);for(i=0,r=0;r<e;){let l=n[r++];if(l<128){a[i++]=l;continue}let c=sm[l];if(c>4){a[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<e;)l=l<<6|n[r++]&63,c--;if(c>1){a[i++]=65533;continue}l<65536?a[i++]=l:(l-=65536,a[i++]=55296|l>>10&1023,a[i++]=56320|l&1023)}return eU(a,i)},rU=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+sm[n[e]]>t?e:t},h5={string2buf:tU,buf2string:nU,utf8border:rU};function iU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sU=iU;const Gg=16209,aU=16191;var oU=function(t,e){let r,i,a,l,c,h,f,p,w,_,v,N,I,k,P,H,X,Z,pt,wt,K,U,M,G;const S=t.state;r=t.next_in,M=t.input,i=r+(t.avail_in-5),a=t.next_out,G=t.output,l=a-(e-t.avail_out),c=a+(t.avail_out-257),h=S.dmax,f=S.wsize,p=S.whave,w=S.wnext,_=S.window,v=S.hold,N=S.bits,I=S.lencode,k=S.distcode,P=(1<<S.lenbits)-1,H=(1<<S.distbits)-1;t:do{N<15&&(v+=M[r++]<<N,N+=8,v+=M[r++]<<N,N+=8),X=I[v&P];e:for(;;){if(Z=X>>>24,v>>>=Z,N-=Z,Z=X>>>16&255,Z===0)G[a++]=X&65535;else if(Z&16){pt=X&65535,Z&=15,Z&&(N<Z&&(v+=M[r++]<<N,N+=8),pt+=v&(1<<Z)-1,v>>>=Z,N-=Z),N<15&&(v+=M[r++]<<N,N+=8,v+=M[r++]<<N,N+=8),X=k[v&H];n:for(;;){if(Z=X>>>24,v>>>=Z,N-=Z,Z=X>>>16&255,Z&16){if(wt=X&65535,Z&=15,N<Z&&(v+=M[r++]<<N,N+=8,N<Z&&(v+=M[r++]<<N,N+=8)),wt+=v&(1<<Z)-1,wt>h){t.msg="invalid distance too far back",S.mode=Gg;break t}if(v>>>=Z,N-=Z,Z=a-l,wt>Z){if(Z=wt-Z,Z>p&&S.sane){t.msg="invalid distance too far back",S.mode=Gg;break t}if(K=0,U=_,w===0){if(K+=f-Z,Z<pt){pt-=Z;do G[a++]=_[K++];while(--Z);K=a-wt,U=G}}else if(w<Z){if(K+=f+w-Z,Z-=w,Z<pt){pt-=Z;do G[a++]=_[K++];while(--Z);if(K=0,w<pt){Z=w,pt-=Z;do G[a++]=_[K++];while(--Z);K=a-wt,U=G}}}else if(K+=w-Z,Z<pt){pt-=Z;do G[a++]=_[K++];while(--Z);K=a-wt,U=G}for(;pt>2;)G[a++]=U[K++],G[a++]=U[K++],G[a++]=U[K++],pt-=3;pt&&(G[a++]=U[K++],pt>1&&(G[a++]=U[K++]))}else{K=a-wt;do G[a++]=G[K++],G[a++]=G[K++],G[a++]=G[K++],pt-=3;while(pt>2);pt&&(G[a++]=G[K++],pt>1&&(G[a++]=G[K++]))}}else if((Z&64)===0){X=k[(X&65535)+(v&(1<<Z)-1)];continue n}else{t.msg="invalid distance code",S.mode=Gg;break t}break}}else if((Z&64)===0){X=I[(X&65535)+(v&(1<<Z)-1)];continue e}else if(Z&32){S.mode=aU;break t}else{t.msg="invalid literal/length code",S.mode=Gg;break t}break}}while(r<i&&a<c);pt=N>>3,r-=pt,N-=pt<<3,v&=(1<<N)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<c?257+(c-a):257-(a-c),S.hold=v,S.bits=N};const Cf=15,OE=852,kE=592,DE=0,Ky=1,PE=2,lU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fU=(n,t,e,r,i,a,l,c)=>{const h=c.bits;let f=0,p=0,w=0,_=0,v=0,N=0,I=0,k=0,P=0,H=0,X,Z,pt,wt,K,U=null,M;const G=new Uint16Array(Cf+1),S=new Uint16Array(Cf+1);let O=null,R,at,vt;for(f=0;f<=Cf;f++)G[f]=0;for(p=0;p<r;p++)G[t[e+p]]++;for(v=h,_=Cf;_>=1&&G[_]===0;_--);if(v>_&&(v=_),_===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<_&&G[w]===0;w++);for(v<w&&(v=w),k=1,f=1;f<=Cf;f++)if(k<<=1,k-=G[f],k<0)return-1;if(k>0&&(n===DE||_!==1))return-1;for(S[1]=0,f=1;f<Cf;f++)S[f+1]=S[f]+G[f];for(p=0;p<r;p++)t[e+p]!==0&&(l[S[t[e+p]]++]=p);if(n===DE?(U=O=l,M=20):n===Ky?(U=lU,O=uU,M=257):(U=cU,O=hU,M=0),H=0,p=0,f=w,K=a,N=v,I=0,pt=-1,P=1<<v,wt=P-1,n===Ky&&P>OE||n===PE&&P>kE)return 1;for(;;){R=f-I,l[p]+1<M?(at=0,vt=l[p]):l[p]>=M?(at=O[l[p]-M],vt=U[l[p]-M]):(at=96,vt=0),X=1<<f-I,Z=1<<N,w=Z;do Z-=X,i[K+(H>>I)+Z]=R<<24|at<<16|vt|0;while(Z!==0);for(X=1<<f-1;H&X;)X>>=1;if(X!==0?(H&=X-1,H+=X):H=0,p++,--G[f]===0){if(f===_)break;f=t[e+l[p]]}if(f>v&&(H&wt)!==pt){for(I===0&&(I=v),K+=w,N=f-I,k=1<<N;N+I<_&&(k-=G[N+I],!(k<=0));)N++,k<<=1;if(P+=1<<N,n===Ky&&P>OE||n===PE&&P>kE)return 1;pt=H&wt,i[pt]=v<<24|N<<16|K-a|0}}return H!==0&&(i[K+H]=f-I<<24|64<<16|0),c.bits=v,0};var zp=fU;const dU=0,MN=1,jN=2,{Z_FINISH:ME,Z_BLOCK:pU,Z_TREES:Kg,Z_OK:Oh,Z_STREAM_END:mU,Z_NEED_DICT:gU,Z_STREAM_ERROR:ko,Z_DATA_ERROR:qN,Z_MEM_ERROR:UN,Z_BUF_ERROR:yU,Z_DEFLATED:jE}=kN,X0=16180,qE=16181,UE=16182,BE=16183,FE=16184,VE=16185,zE=16186,HE=16187,$E=16188,GE=16189,a0=16190,hu=16191,Wy=16192,KE=16193,Yy=16194,WE=16195,YE=16196,QE=16197,XE=16198,Wg=16199,Yg=16200,ZE=16201,JE=16202,tA=16203,eA=16204,nA=16205,Qy=16206,rA=16207,iA=16208,di=16209,BN=16210,FN=16211,vU=852,bU=592,_U=15,wU=_U,sA=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function EU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fh=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<X0||t.mode>FN?1:0},VN=n=>{if(Fh(n))return ko;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=X0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(vU),t.distcode=t.distdyn=new Int32Array(bU),t.sane=1,t.back=-1,Oh},zN=n=>{if(Fh(n))return ko;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,VN(n)},HN=(n,t)=>{let e;if(Fh(n))return ko;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ko:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,zN(n))},$N=(n,t)=>{if(!n)return ko;const e=new EU;n.state=e,e.strm=n,e.window=null,e.mode=X0;const r=HN(n,t);return r!==Oh&&(n.state=null),r},AU=n=>$N(n,wU);let aA=!0,Xy,Zy;const xU=n=>{if(aA){Xy=new Int32Array(512),Zy=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(zp(MN,n.lens,0,288,Xy,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;zp(jN,n.lens,0,32,Zy,0,n.work,{bits:5}),aA=!1}n.lencode=Xy,n.lenbits=9,n.distcode=Zy,n.distbits=5},GN=(n,t,e,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(e-r,e-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(e-r,e),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},SU=(n,t)=>{let e,r,i,a,l,c,h,f,p,w,_,v,N,I,k=0,P,H,X,Z,pt,wt,K,U;const M=new Uint8Array(4);let G,S;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fh(n)||!n.output||!n.input&&n.avail_in!==0)return ko;e=n.state,e.mode===hu&&(e.mode=Wy),l=n.next_out,i=n.output,h=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=e.hold,p=e.bits,w=c,_=h,U=Oh;t:for(;;)switch(e.mode){case X0:if(e.wrap===0){e.mode=Wy;break}for(;p<16;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(e.wrap&2&&f===35615){e.wbits===0&&(e.wbits=15),e.check=0,M[0]=f&255,M[1]=f>>>8&255,e.check=Cl(e.check,M,2,0),f=0,p=0,e.mode=qE;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",e.mode=di;break}if((f&15)!==jE){n.msg="unknown compression method",e.mode=di;break}if(f>>>=4,p-=4,K=(f&15)+8,e.wbits===0&&(e.wbits=K),K>15||K>e.wbits){n.msg="invalid window size",e.mode=di;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=f&512?GE:hu,f=0,p=0;break;case qE:for(;p<16;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(e.flags=f,(e.flags&255)!==jE){n.msg="unknown compression method",e.mode=di;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=di;break}e.head&&(e.head.text=f>>8&1),e.flags&512&&e.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,e.check=Cl(e.check,M,2,0)),f=0,p=0,e.mode=UE;case UE:for(;p<32;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.head&&(e.head.time=f),e.flags&512&&e.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,M[2]=f>>>16&255,M[3]=f>>>24&255,e.check=Cl(e.check,M,4,0)),f=0,p=0,e.mode=BE;case BE:for(;p<16;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.head&&(e.head.xflags=f&255,e.head.os=f>>8),e.flags&512&&e.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,e.check=Cl(e.check,M,2,0)),f=0,p=0,e.mode=FE;case FE:if(e.flags&1024){for(;p<16;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.length=f,e.head&&(e.head.extra_len=f),e.flags&512&&e.wrap&4&&(M[0]=f&255,M[1]=f>>>8&255,e.check=Cl(e.check,M,2,0)),f=0,p=0}else e.head&&(e.head.extra=null);e.mode=VE;case VE:if(e.flags&1024&&(v=e.length,v>c&&(v=c),v&&(e.head&&(K=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(a,a+v),K)),e.flags&512&&e.wrap&4&&(e.check=Cl(e.check,r,v,a)),c-=v,a+=v,e.length-=v),e.length))break t;e.length=0,e.mode=zE;case zE:if(e.flags&2048){if(c===0)break t;v=0;do K=r[a+v++],e.head&&K&&e.length<65536&&(e.head.name+=String.fromCharCode(K));while(K&&v<c);if(e.flags&512&&e.wrap&4&&(e.check=Cl(e.check,r,v,a)),c-=v,a+=v,K)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=HE;case HE:if(e.flags&4096){if(c===0)break t;v=0;do K=r[a+v++],e.head&&K&&e.length<65536&&(e.head.comment+=String.fromCharCode(K));while(K&&v<c);if(e.flags&512&&e.wrap&4&&(e.check=Cl(e.check,r,v,a)),c-=v,a+=v,K)break t}else e.head&&(e.head.comment=null);e.mode=$E;case $E:if(e.flags&512){for(;p<16;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(e.wrap&4&&f!==(e.check&65535)){n.msg="header crc mismatch",e.mode=di;break}f=0,p=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=hu;break;case GE:for(;p<32;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}n.adler=e.check=sA(f),f=0,p=0,e.mode=a0;case a0:if(e.havedict===0)return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,e.hold=f,e.bits=p,gU;n.adler=e.check=1,e.mode=hu;case hu:if(t===pU||t===Kg)break t;case Wy:if(e.last){f>>>=p&7,p-=p&7,e.mode=Qy;break}for(;p<3;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}switch(e.last=f&1,f>>>=1,p-=1,f&3){case 0:e.mode=KE;break;case 1:if(xU(e),e.mode=Wg,t===Kg){f>>>=2,p-=2;break t}break;case 2:e.mode=YE;break;case 3:n.msg="invalid block type",e.mode=di}f>>>=2,p-=2;break;case KE:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",e.mode=di;break}if(e.length=f&65535,f=0,p=0,e.mode=Yy,t===Kg)break t;case Yy:e.mode=WE;case WE:if(v=e.length,v){if(v>c&&(v=c),v>h&&(v=h),v===0)break t;i.set(r.subarray(a,a+v),l),c-=v,a+=v,h-=v,l+=v,e.length-=v;break}e.mode=hu;break;case YE:for(;p<14;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(e.nlen=(f&31)+257,f>>>=5,p-=5,e.ndist=(f&31)+1,f>>>=5,p-=5,e.ncode=(f&15)+4,f>>>=4,p-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=di;break}e.have=0,e.mode=QE;case QE:for(;e.have<e.ncode;){for(;p<3;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.lens[O[e.have++]]=f&7,f>>>=3,p-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,G={bits:e.lenbits},U=zp(dU,e.lens,0,19,e.lencode,0,e.work,G),e.lenbits=G.bits,U){n.msg="invalid code lengths set",e.mode=di;break}e.have=0,e.mode=XE;case XE:for(;e.have<e.nlen+e.ndist;){for(;k=e.lencode[f&(1<<e.lenbits)-1],P=k>>>24,H=k>>>16&255,X=k&65535,!(P<=p);){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(X<16)f>>>=P,p-=P,e.lens[e.have++]=X;else{if(X===16){for(S=P+2;p<S;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(f>>>=P,p-=P,e.have===0){n.msg="invalid bit length repeat",e.mode=di;break}K=e.lens[e.have-1],v=3+(f&3),f>>>=2,p-=2}else if(X===17){for(S=P+3;p<S;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}f>>>=P,p-=P,K=0,v=3+(f&7),f>>>=3,p-=3}else{for(S=P+7;p<S;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}f>>>=P,p-=P,K=0,v=11+(f&127),f>>>=7,p-=7}if(e.have+v>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=di;break}for(;v--;)e.lens[e.have++]=K}}if(e.mode===di)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=di;break}if(e.lenbits=9,G={bits:e.lenbits},U=zp(MN,e.lens,0,e.nlen,e.lencode,0,e.work,G),e.lenbits=G.bits,U){n.msg="invalid literal/lengths set",e.mode=di;break}if(e.distbits=6,e.distcode=e.distdyn,G={bits:e.distbits},U=zp(jN,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,G),e.distbits=G.bits,U){n.msg="invalid distances set",e.mode=di;break}if(e.mode=Wg,t===Kg)break t;case Wg:e.mode=Yg;case Yg:if(c>=6&&h>=258){n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,e.hold=f,e.bits=p,oU(n,_),l=n.next_out,i=n.output,h=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=e.hold,p=e.bits,e.mode===hu&&(e.back=-1);break}for(e.back=0;k=e.lencode[f&(1<<e.lenbits)-1],P=k>>>24,H=k>>>16&255,X=k&65535,!(P<=p);){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(H&&(H&240)===0){for(Z=P,pt=H,wt=X;k=e.lencode[wt+((f&(1<<Z+pt)-1)>>Z)],P=k>>>24,H=k>>>16&255,X=k&65535,!(Z+P<=p);){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}f>>>=Z,p-=Z,e.back+=Z}if(f>>>=P,p-=P,e.back+=P,e.length=X,H===0){e.mode=nA;break}if(H&32){e.back=-1,e.mode=hu;break}if(H&64){n.msg="invalid literal/length code",e.mode=di;break}e.extra=H&15,e.mode=ZE;case ZE:if(e.extra){for(S=e.extra;p<S;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.length+=f&(1<<e.extra)-1,f>>>=e.extra,p-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=JE;case JE:for(;k=e.distcode[f&(1<<e.distbits)-1],P=k>>>24,H=k>>>16&255,X=k&65535,!(P<=p);){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if((H&240)===0){for(Z=P,pt=H,wt=X;k=e.distcode[wt+((f&(1<<Z+pt)-1)>>Z)],P=k>>>24,H=k>>>16&255,X=k&65535,!(Z+P<=p);){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}f>>>=Z,p-=Z,e.back+=Z}if(f>>>=P,p-=P,e.back+=P,H&64){n.msg="invalid distance code",e.mode=di;break}e.offset=X,e.extra=H&15,e.mode=tA;case tA:if(e.extra){for(S=e.extra;p<S;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}e.offset+=f&(1<<e.extra)-1,f>>>=e.extra,p-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=di;break}e.mode=eA;case eA:if(h===0)break t;if(v=_-h,e.offset>v){if(v=e.offset-v,v>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=di;break}v>e.wnext?(v-=e.wnext,N=e.wsize-v):N=e.wnext-v,v>e.length&&(v=e.length),I=e.window}else I=i,N=l-e.offset,v=e.length;v>h&&(v=h),h-=v,e.length-=v;do i[l++]=I[N++];while(--v);e.length===0&&(e.mode=Yg);break;case nA:if(h===0)break t;i[l++]=e.length,h--,e.mode=Yg;break;case Qy:if(e.wrap){for(;p<32;){if(c===0)break t;c--,f|=r[a++]<<p,p+=8}if(_-=h,n.total_out+=_,e.total+=_,e.wrap&4&&_&&(n.adler=e.check=e.flags?Cl(e.check,i,_,l-_):u5(e.check,i,_,l-_)),_=h,e.wrap&4&&(e.flags?f:sA(f))!==e.check){n.msg="incorrect data check",e.mode=di;break}f=0,p=0}e.mode=rA;case rA:if(e.wrap&&e.flags){for(;p<32;){if(c===0)break t;c--,f+=r[a++]<<p,p+=8}if(e.wrap&4&&f!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=di;break}f=0,p=0}e.mode=iA;case iA:U=mU;break t;case di:U=qN;break t;case BN:return UN;case FN:default:return ko}return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,e.hold=f,e.bits=p,(e.wsize||_!==n.avail_out&&e.mode<di&&(e.mode<Qy||t!==ME))&&GN(n,n.output,n.next_out,_-n.avail_out),w-=n.avail_in,_-=n.avail_out,n.total_in+=w,n.total_out+=_,e.total+=_,e.wrap&4&&_&&(n.adler=e.check=e.flags?Cl(e.check,i,_,n.next_out-_):u5(e.check,i,_,n.next_out-_)),n.data_type=e.bits+(e.last?64:0)+(e.mode===hu?128:0)+(e.mode===Wg||e.mode===Yy?256:0),(w===0&&_===0||t===ME)&&U===Oh&&(U=yU),U},TU=n=>{if(Fh(n))return ko;let t=n.state;return t.window&&(t.window=null),n.state=null,Oh},NU=(n,t)=>{if(Fh(n))return ko;const e=n.state;return(e.wrap&2)===0?ko:(e.head=t,t.done=!1,Oh)},CU=(n,t)=>{const e=t.length;let r,i,a;return Fh(n)||(r=n.state,r.wrap!==0&&r.mode!==a0)?ko:r.mode===a0&&(i=1,i=u5(i,t,e,0),i!==r.check)?qN:(a=GN(n,t,e,e),a?(r.mode=BN,UN):(r.havedict=1,Oh))};var RU=zN,LU=HN,IU=VN,OU=AU,kU=$N,DU=SU,PU=TU,MU=NU,jU=CU,qU="pako inflate (from Nodeca project)",pu={inflateReset:RU,inflateReset2:LU,inflateResetKeep:IU,inflateInit:OU,inflateInit2:kU,inflate:DU,inflateEnd:PU,inflateGetHeader:MU,inflateSetDictionary:jU,inflateInfo:qU};function UU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var BU=UU;const KN=Object.prototype.toString,{Z_NO_FLUSH:FU,Z_FINISH:VU,Z_OK:am,Z_STREAM_END:Jy,Z_NEED_DICT:tv,Z_STREAM_ERROR:zU,Z_DATA_ERROR:oA,Z_MEM_ERROR:HU}=kN;function Im(n){this.options=DN.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sU,this.strm.avail_out=0;let e=pu.inflateInit2(this.strm,t.windowBits);if(e!==am)throw new Error(c5[e]);if(this.header=new BU,pu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=h5.string2buf(t.dictionary):KN.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=pu.inflateSetDictionary(this.strm,t.dictionary),e!==am)))throw new Error(c5[e])}Im.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?VU:FU,KN.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),a=pu.inflate(e,l),a===tv&&i&&(a=pu.inflateSetDictionary(e,i),a===am?a=pu.inflate(e,l):a===oA&&(a=tv));e.avail_in>0&&a===Jy&&e.state.wrap>0&&n[e.next_in]!==0;)pu.inflateReset(e),a=pu.inflate(e,l);switch(a){case zU:case oA:case tv:case HU:return this.onEnd(a),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||a===Jy))if(this.options.to==="string"){let h=h5.utf8border(e.output,e.next_out),f=e.next_out-h,p=h5.buf2string(e.output,h);e.next_out=f,e.avail_out=r-f,f&&e.output.set(e.output.subarray(h,h+f),0),this.onData(p)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===am&&c===0)){if(a===Jy)return a=pu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Im.prototype.onData=function(n){this.chunks.push(n)};Im.prototype.onEnd=function(n){n===am&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DN.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function $U(n,t){const e=new Im(t);if(e.push(n),e.err)throw e.msg||c5[e.err];return e.result}var GU=Im,KU=$U,WU={Inflate:GU,inflate:KU};const{Inflate:YU,inflate:QU}=WU;var lA=YU,XU=QU;const WN=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;WN[n]=t}const uA=4294967295;function ZU(n,t,e){let r=n;for(let i=0;i<e;i++)r=WN[(r^t[i])&255]^r>>>8;return r}function JU(n,t){return(ZU(uA,n,t)^uA)>>>0}function cA(n,t,e){const r=n.readUint32(),i=JU(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}function YN(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function QN(n,t,e,r){let i=0;for(;i<r;i++)t[i]=n[i];for(;i<e;i++)t[i]=n[i]+t[i-r]&255}function XN(n,t,e,r){let i=0;if(e.length===0)for(;i<r;i++)t[i]=n[i];else for(;i<r;i++)t[i]=n[i]+e[i]&255}function ZN(n,t,e,r,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=n[a];for(;a<r;a++)t[a]=n[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=n[a]+(e[a]>>1)&255;for(;a<r;a++)t[a]=n[a]+(t[a-i]+e[a]>>1)&255}}function JN(n,t,e,r,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=n[a];for(;a<r;a++)t[a]=n[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=n[a]+e[a]&255;for(;a<r;a++)t[a]=n[a]+tB(t[a-i],e[a],e[a-i])&255}}function tB(n,t,e){const r=n+t-e,i=Math.abs(r-n),a=Math.abs(r-t),l=Math.abs(r-e);return i<=a&&i<=l?n:a<=l?t:e}function eB(n,t,e,r,i,a){switch(n){case 0:YN(t,e,i);break;case 1:QN(t,e,i,a);break;case 2:XN(t,e,r,i);break;case 3:ZN(t,e,r,i,a);break;case 4:JN(t,e,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const nB=new Uint16Array([255]),rB=new Uint8Array(nB.buffer),iB=rB[0]===255;function sB(n){const{data:t,width:e,height:r,channels:i,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,h=new Uint8Array(r*e*c);let f=0;for(let p=0;p<7;p++){const w=l[p],_=Math.ceil((e-w.x)/w.xStep),v=Math.ceil((r-w.y)/w.yStep);if(_<=0||v<=0)continue;const N=_*c,I=new Uint8Array(N);for(let k=0;k<v;k++){const P=t[f++],H=t.subarray(f,f+N);f+=N;const X=new Uint8Array(N);eB(P,H,X,I,N,c),I.set(X);for(let Z=0;Z<_;Z++){const pt=w.x+Z*w.xStep,wt=w.y+k*w.yStep;if(!(pt>=e||wt>=r))for(let K=0;K<c;K++)h[(wt*e+pt)*c+K]=X[Z*c+K]}}}if(a===16){const p=new Uint16Array(h.buffer);if(iB)for(let w=0;w<p.length;w++)p[w]=aB(p[w]);return p}else return h}function aB(n){return(n&255)<<8|n>>8&255}const oB=new Uint16Array([255]),lB=new Uint8Array(oB.buffer),uB=lB[0]===255,cB=new Uint8Array(0);function hA(n){const{data:t,width:e,height:r,channels:i,depth:a}=n,l=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*e),h=new Uint8Array(r*c);let f=cB,p=0,w,_;for(let v=0;v<r;v++){switch(w=t.subarray(p+1,p+1+c),_=h.subarray(v*c,(v+1)*c),t[p]){case 0:YN(w,_,c);break;case 1:QN(w,_,c,l);break;case 2:XN(w,_,f,c);break;case 3:ZN(w,_,f,c,l);break;case 4:JN(w,_,f,c,l);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}f=_,p+=c+1}if(a===16){const v=new Uint16Array(h.buffer);if(uB)for(let N=0;N<v.length;N++)v[N]=hB(v[N]);return v}else return h}function hB(n){return(n&255)<<8|n>>8&255}const A1=Uint8Array.of(137,80,78,71,13,10,26,10);function fA(n){if(!fB(n.readBytes(A1.length)))throw new Error("wrong PNG signature")}function fB(n){if(n.length<A1.length)return!1;for(let t=0;t<A1.length;t++)if(n[t]!==A1[t])return!1;return!0}const dB="tEXt",pB=0,tC=new TextDecoder("latin1");function mB(n){if(yB(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const gB=/^[\u0000-\u00FF]*$/;function yB(n){if(!gB.test(n))throw new Error("invalid latin1 text")}function vB(n,t,e){const r=eC(t);n[r]=bB(t,e-r.length-1)}function eC(n){for(n.mark();n.readByte()!==pB;);const t=n.offset;n.reset();const e=tC.decode(n.readBytes(t-n.offset-1));return n.skip(1),mB(e),e}function bB(n,t){return tC.decode(n.readBytes(t))}const to={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ev={UNKNOWN:-1,DEFLATE:0},dA={UNKNOWN:-1,ADAPTIVE:0},nv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qg={NONE:0,BACKGROUND:1,PREVIOUS:2},rv={SOURCE:0,OVER:1};class _B extends Qb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new lA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ev.UNKNOWN,this._filterMethod=dA.UNKNOWN,this._interlaceMethod=nv.UNKNOWN,this._colorType=to.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fA(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(fA(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case dB:vB(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?cA(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?cA(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=wB(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case to.GREYSCALE:r=1;break;case to.TRUECOLOUR:r=3;break;case to.INDEXED_COLOUR:r=1;break;case to.GREYSCALE_ALPHA:r=2;break;case to.TRUECOLOUR_ALPHA:r=4;break;case to.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ev.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<e;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case to.GREYSCALE:case to.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case to.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case to.UNKNOWN:case to.GREYSCALE_ALPHA:case to.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=eC(this),r=this.readUint8();if(r!==ev.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:XU(i)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=hA({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case Qg.NONE:break;case Qg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case Qg.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,i=(a,l)=>{const c=((a+e.yOffset)*this._png.width+e.xOffset+l)*this._png.channels,h=(a*e.width+l)*this._png.channels;return{index:c,frameIndex:h}};switch(e.blendOp){case rv.SOURCE:for(let a=0;a<e.height;a++)for(let l=0;l<e.width;l++){const{index:c,frameIndex:h}=i(a,l);for(let f=0;f<this._png.channels;f++)t.data[c+f]=e.data[h+f]}break;case rv.OVER:for(let a=0;a<e.height;a++)for(let l=0;l<e.width;l++){const{index:c,frameIndex:h}=i(a,l);for(let f=0;f<this._png.channels;f++){const p=e.data[h+this._png.channels-1]/r,w=f%(this._png.channels-1)===0?1:e.data[h+f],_=Math.floor(p*w+(1-p)*t.data[c+f]);t.data[c+f]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==dA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nv.NO_INTERLACE)this._png.data=hA({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nv.ADAM7)this._png.data=sB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qg.NONE,blendOp:rv.SOURCE,data:t}),this._inflator=new lA,this._writingDataChunks=!1}}function wB(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var pA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(pA||(pA={}));function EB(n,t){return new _B(n,t).decode()}var hn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function iv(){hn.console&&typeof hn.console.log=="function"&&hn.console.log.apply(hn.console,arguments)}var Br={log:iv,warn:function(n){hn.console&&(typeof hn.console.warn=="function"?hn.console.warn.apply(hn.console,arguments):iv.call(null,arguments))},error:function(n){hn.console&&(typeof hn.console.error=="function"?hn.console.error.apply(hn.console,arguments):iv(n))}};function sv(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){vh(r.response,t,e)},r.onerror=function(){Br.error("could not download file")},r.send()}function mA(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Xg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var vh=hn.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==hn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=hn.URL||hn.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?mA(i.href)?sv(n,t,e):Xg(i,i.target="_blank"):Xg(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(mA(n))sv(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Xg(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Nr(a)!=="object"&&(Br.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return sv(n,t,e);var i=n.type==="application/octet-stream",a=/constructor/i.test(hn.HTMLElement)||hn.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(n)}else{var h=hn.URL||hn.webkitURL,f=h.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nC(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,a=e[r].process,l=i.exec(n);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+c+h+f}}var x1=hn.atob.bind(hn),gA=hn.btoa.bind(hn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function av(n,t){var e=n[0],r=n[1],i=n[2],a=n[3];e=ia(e,r,i,a,t[0],7,-680876936),a=ia(a,e,r,i,t[1],12,-389564586),i=ia(i,a,e,r,t[2],17,606105819),r=ia(r,i,a,e,t[3],22,-1044525330),e=ia(e,r,i,a,t[4],7,-176418897),a=ia(a,e,r,i,t[5],12,1200080426),i=ia(i,a,e,r,t[6],17,-1473231341),r=ia(r,i,a,e,t[7],22,-45705983),e=ia(e,r,i,a,t[8],7,1770035416),a=ia(a,e,r,i,t[9],12,-1958414417),i=ia(i,a,e,r,t[10],17,-42063),r=ia(r,i,a,e,t[11],22,-1990404162),e=ia(e,r,i,a,t[12],7,1804603682),a=ia(a,e,r,i,t[13],12,-40341101),i=ia(i,a,e,r,t[14],17,-1502002290),e=sa(e,r=ia(r,i,a,e,t[15],22,1236535329),i,a,t[1],5,-165796510),a=sa(a,e,r,i,t[6],9,-1069501632),i=sa(i,a,e,r,t[11],14,643717713),r=sa(r,i,a,e,t[0],20,-373897302),e=sa(e,r,i,a,t[5],5,-701558691),a=sa(a,e,r,i,t[10],9,38016083),i=sa(i,a,e,r,t[15],14,-660478335),r=sa(r,i,a,e,t[4],20,-405537848),e=sa(e,r,i,a,t[9],5,568446438),a=sa(a,e,r,i,t[14],9,-1019803690),i=sa(i,a,e,r,t[3],14,-187363961),r=sa(r,i,a,e,t[8],20,1163531501),e=sa(e,r,i,a,t[13],5,-1444681467),a=sa(a,e,r,i,t[2],9,-51403784),i=sa(i,a,e,r,t[7],14,1735328473),e=aa(e,r=sa(r,i,a,e,t[12],20,-1926607734),i,a,t[5],4,-378558),a=aa(a,e,r,i,t[8],11,-2022574463),i=aa(i,a,e,r,t[11],16,1839030562),r=aa(r,i,a,e,t[14],23,-35309556),e=aa(e,r,i,a,t[1],4,-1530992060),a=aa(a,e,r,i,t[4],11,1272893353),i=aa(i,a,e,r,t[7],16,-155497632),r=aa(r,i,a,e,t[10],23,-1094730640),e=aa(e,r,i,a,t[13],4,681279174),a=aa(a,e,r,i,t[0],11,-358537222),i=aa(i,a,e,r,t[3],16,-722521979),r=aa(r,i,a,e,t[6],23,76029189),e=aa(e,r,i,a,t[9],4,-640364487),a=aa(a,e,r,i,t[12],11,-421815835),i=aa(i,a,e,r,t[15],16,530742520),e=oa(e,r=aa(r,i,a,e,t[2],23,-995338651),i,a,t[0],6,-198630844),a=oa(a,e,r,i,t[7],10,1126891415),i=oa(i,a,e,r,t[14],15,-1416354905),r=oa(r,i,a,e,t[5],21,-57434055),e=oa(e,r,i,a,t[12],6,1700485571),a=oa(a,e,r,i,t[3],10,-1894986606),i=oa(i,a,e,r,t[10],15,-1051523),r=oa(r,i,a,e,t[1],21,-2054922799),e=oa(e,r,i,a,t[8],6,1873313359),a=oa(a,e,r,i,t[15],10,-30611744),i=oa(i,a,e,r,t[6],15,-1560198380),r=oa(r,i,a,e,t[13],21,1309151649),e=oa(e,r,i,a,t[4],6,-145523070),a=oa(a,e,r,i,t[11],10,-1120210379),i=oa(i,a,e,r,t[2],15,718787259),r=oa(r,i,a,e,t[9],21,-343485551),n[0]=Nc(e,n[0]),n[1]=Nc(r,n[1]),n[2]=Nc(i,n[2]),n[3]=Nc(a,n[3])}function Z0(n,t,e,r,i,a){return t=Nc(Nc(t,n),Nc(r,a)),Nc(t<<i|t>>>32-i,e)}function ia(n,t,e,r,i,a,l){return Z0(t&e|~t&r,n,t,i,a,l)}function sa(n,t,e,r,i,a,l){return Z0(t&r|e&~r,n,t,i,a,l)}function aa(n,t,e,r,i,a,l){return Z0(t^e^r,n,t,i,a,l)}function oa(n,t,e,r,i,a,l){return Z0(e^(t|~r),n,t,i,a,l)}function rC(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)av(r,AB(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(av(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,av(r,i),r}function AB(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var yA="0123456789abcdef".split("");function xB(n){for(var t="",e=0;e<4;e++)t+=yA[n>>8*e+4&15]+yA[n>>8*e&15];return t}function SB(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function f5(n){return rC(n).map(SB).join("")}var TB=(function(n){for(var t=0;t<n.length;t++)n[t]=xB(n[t]);return n.join("")})(rC("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(n,t){if(TB){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d5(n,t){var e,r,i,a;if(n!==e){for(var l=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),c=[],h=0;h<256;h++)c[h]=h;var f=0;for(h=0;h<256;h++){var p=c[h];f=(f+p+l.charCodeAt(h))%256,c[h]=c[f],c[f]=p}e=n,r=c}else c=r;var w=t.length,_=0,v=0,N="";for(h=0;h<w;h++)v=(v+(p=c[_=(_+1)%256]))%256,c[_]=c[v],c[v]=p,l=c[(c[_]+c[v])%256],N+=String.fromCharCode(t.charCodeAt(h)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vA={print:4,modify:8,copy:16,"annot-forms":32};function Pf(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(vA.perm!==void 0)throw new Error("Invalid permission: "+c);i+=vA[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=f5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=d5(this.encryptionKey,this.padding)}function Mf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return t}function bA(n){if(Nr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[r,!!i],a},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[e]){var l=t[e][a];try{l[0].apply(n,r)}catch(c){hn.console&&Br.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function o0(n){if(!(this instanceof o0))return new o0(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function iC(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function bh(n,t,e,r,i){if(!(this instanceof bh))return new bh(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,iC.call(this,r,i)}function Hf(n,t,e,r,i){if(!(this instanceof Hf))return new Hf(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,iC.call(this,r,i)}function ze(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],l=[],c=1,h=16,f="S",p=null;Nr(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",e=(""+(e||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=bA;var N="1.3",I=v.__private__.getPdfVersion=function(){return N};v.__private__.setPdfVersion=function(x){N=x};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return k};var P=v.__private__.getPageFormat=function(x){return k[x]};i=i||"a4";var H="compat",X="advanced",Z=H;function pt(){this.saveGraphicsState(),st(new Be(ve,0,0,-ve,0,Fn()*ve).toString()+" cm"),this.setFontSize(this.getFontSize()/ve),f="n",Z=X}function wt(){this.restoreGraphicsState(),f="S",Z=H}var K=v.__private__.combineFontStyleAndFontWeight=function(x,F){if(x=="bold"&&F=="normal"||x=="bold"&&F==400||x=="normal"&&F=="italic"||x=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(x=F==400||F==="normal"?x==="italic"?"italic":"normal":F!=700&&F!=="bold"||x!=="normal"?(F==700?"bold":F)+""+x:"bold"),x};v.advancedAPI=function(x){var F=Z===H;return F&&pt.call(this),typeof x!="function"||(x(this),F&&wt.call(this)),this},v.compatAPI=function(x){var F=Z===X;return F&&wt.call(this),typeof x!="function"||(x(this),F&&pt.call(this)),this},v.isAdvancedAPI=function(){return Z===X};var U,M=function(x){if(Z!==X)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=v.roundToPrecision=v.__private__.roundToPrecision=function(x,F){var ht=t||F;if(isNaN(x)||isNaN(ht))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ht).replace(/0+$/,"")};U=v.hpf=v.__private__.hpf=typeof h=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,h)}:h==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return G(x,16)};var S=v.f2=v.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return G(x,2)},O=v.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return G(x,3)},R=v.scale=v.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return Z===H?x*ve:Z===X?x:void 0},at=function(x){return R((function(F){return Z===H?Fn()-F:Z===X?F:void 0})(x))};v.__private__.setPrecision=v.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var vt,Q="00000000000000000000000000000000",ut=v.__private__.getFileId=function(){return Q},ct=v.__private__.setFileId=function(x){return Q=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(fn=new Pf(p.userPermissions,p.userPassword,p.ownerPassword,Q)),Q};v.setFileId=function(x){return ct(x),this},v.getFileId=function(){return ut()};var Et=v.__private__.convertDateToPDFDate=function(x){var F=x.getTimezoneOffset(),ht=F<0?"+":"-",_t=Math.floor(Math.abs(F/60)),Lt=Math.abs(F%60),Gt=[ht,nt(_t),"'",nt(Lt),"'"].join("");return["D:",x.getFullYear(),nt(x.getMonth()+1),nt(x.getDate()),nt(x.getHours()),nt(x.getMinutes()),nt(x.getSeconds()),Gt].join("")},W=v.__private__.convertPDFDateToDate=function(x){var F=parseInt(x.substr(2,4),10),ht=parseInt(x.substr(6,2),10)-1,_t=parseInt(x.substr(8,2),10),Lt=parseInt(x.substr(10,2),10),Gt=parseInt(x.substr(12,2),10),te=parseInt(x.substr(14,2),10);return new Date(F,ht,_t,Lt,Gt,te,0)},gt=v.__private__.setCreationDate=function(x){var F;if(x===void 0&&(x=new Date),x instanceof Date)F=Et(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=x}return vt=F},q=v.__private__.getCreationDate=function(x){var F=vt;return x==="jsDate"&&(F=W(vt)),F};v.setCreationDate=function(x){return gt(x),this},v.getCreationDate=function(x){return q(x)};var z,nt=v.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},lt=v.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},mt=0,At=[],St=[],Rt=0,Mt=[],zt=[],Qt=!1,Bt=St;v.__private__.setCustomOutputDestination=function(x){Qt=!0,Bt=x};var Nt=function(x){Qt||(Bt=x)};v.__private__.resetCustomOutputDestination=function(){Qt=!1,Bt=St};var st=v.__private__.out=function(x){return x=x.toString(),Rt+=x.length+1,Bt.push(x),Bt},we=v.__private__.write=function(x){return st(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},he=v.__private__.getArrayBuffer=function(x){for(var F=x.length,ht=new ArrayBuffer(F),_t=new Uint8Array(ht);F--;)_t[F]=x.charCodeAt(F);return ht},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return xe};var ee=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(x){return ee=Z===X?x/ve:x,this};var de,ue=v.__private__.getFontSize=v.getFontSize=function(){return Z===H?ee:ee*ve},Ge=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(x){return Ge=x,this},v.__private__.getR2L=v.getR2L=function(){return Ge};var ge,Ye=v.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))de=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');de=x}else de=parseInt(x,10)};v.__private__.getZoomMode=function(){return de};var Pe,oe=v.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');ge=x};v.__private__.getPageMode=function(){return ge};var pe=v.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Pe=x};v.__private__.getLayoutMode=function(){return Pe},v.__private__.setDisplayMode=v.setDisplayMode=function(x,F,ht){return Ye(x),pe(F),oe(ht),this};var se={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(x){if(Object.keys(se).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return se[x]},v.__private__.getDocumentProperties=function(){return se},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(x){for(var F in se)se.hasOwnProperty(F)&&x[F]&&(se[F]=x[F]);return this},v.__private__.setDocumentProperty=function(x,F){if(Object.keys(se).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return se[x]=F};var ce,ve,Ne,Rn,xn,ye={},Me={},Ln=[],Re={},tn={},qe={},Jn={},Qn=null,gn=0,He=[],en=new bA(v),us=n.hotfixes||[],pr={},Si={},Cr=[],Be=function x(F,ht,_t,Lt,Gt,te){if(!(this instanceof x))return new x(F,ht,_t,Lt,Gt,te);isNaN(F)&&(F=1),isNaN(ht)&&(ht=0),isNaN(_t)&&(_t=0),isNaN(Lt)&&(Lt=1),isNaN(Gt)&&(Gt=0),isNaN(te)&&(te=0),this._matrix=[F,ht,_t,Lt,Gt,te]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(x)},Be.prototype.multiply=function(x){var F=x.sx*this.sx+x.shy*this.shx,ht=x.sx*this.shy+x.shy*this.sy,_t=x.shx*this.sx+x.sy*this.shx,Lt=x.shx*this.shy+x.sy*this.sy,Gt=x.tx*this.sx+x.ty*this.shx+this.tx,te=x.tx*this.shy+x.ty*this.sy+this.ty;return new Be(F,ht,_t,Lt,Gt,te)},Be.prototype.decompose=function(){var x=this.sx,F=this.shy,ht=this.shx,_t=this.sy,Lt=this.tx,Gt=this.ty,te=Math.sqrt(x*x+F*F),be=(x/=te)*ht+(F/=te)*_t;ht-=x*be,_t-=F*be;var Ie=Math.sqrt(ht*ht+_t*_t);return be/=Ie,x*(_t/=Ie)<F*(ht/=Ie)&&(x=-x,F=-F,be=-be,te=-te),{scale:new Be(te,0,0,Ie,0,0),translate:new Be(1,0,0,1,Lt,Gt),rotate:new Be(x,F,-F,x,0,0),skew:new Be(1,0,be,1,0,0)}},Be.prototype.toString=function(x){return this.join(" ")},Be.prototype.inversed=function(){var x=this.sx,F=this.shy,ht=this.shx,_t=this.sy,Lt=this.tx,Gt=this.ty,te=1/(x*_t-F*ht),be=_t*te,Ie=-F*te,Qe=-ht*te,sn=x*te;return new Be(be,Ie,Qe,sn,-be*Lt-Qe*Gt,-Ie*Lt-sn*Gt)},Be.prototype.applyToPoint=function(x){var F=x.x*this.sx+x.y*this.shx+this.tx,ht=x.x*this.shy+x.y*this.sy+this.ty;return new Ee(F,ht)},Be.prototype.applyToRectangle=function(x){var F=this.applyToPoint(x),ht=this.applyToPoint(new Ee(x.x+x.w,x.y+x.h));return new yn(F.x,F.y,ht.x-F.x,ht.y-F.y)},Be.prototype.clone=function(){var x=this.sx,F=this.shy,ht=this.shx,_t=this.sy,Lt=this.tx,Gt=this.ty;return new Be(x,F,ht,_t,Lt,Gt)},v.Matrix=Be;var _n=v.matrixMult=function(x,F){return F.multiply(x)},ir=new Be(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=ir;var Un=function(x,F){if(!tn[x]){var ht=(F instanceof bh?"Sh":"P")+(Object.keys(Re).length+1).toString(10);F.id=ht,tn[x]=ht,Re[ht]=F,en.publish("addPattern",F)}};v.ShadingPattern=bh,v.TilingPattern=Hf,v.addShadingPattern=function(x,F){return M("addShadingPattern()"),Un(x,F),this},v.beginTilingPattern=function(x){M("beginTilingPattern()"),Bn(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},v.endTilingPattern=function(x,F){M("endTilingPattern()"),F.stream=zt[z].join(`
`),Un(x,F),en.publish("endTilingPattern",F),Cr.pop().restore()};var wr,sr=v.__private__.newObject=function(){var x=Rr();return wn(x,!0),x},Rr=v.__private__.newObjectDeferred=function(){return mt++,At[mt]=function(){return Rt},mt},wn=function(x,F){return F=typeof F=="boolean"&&F,At[x]=Rt,F&&st(x+" 0 obj"),x},Js=v.__private__.newAdditionalObject=function(){var x={objId:Rr(),content:""};return Mt.push(x),x},Qi=Rr(),ri=Rr(),ii=v.__private__.decodeColorString=function(x){var F=x.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ht=parseFloat(F[0]);F=[ht,ht,ht,"r"]}for(var _t="#",Lt=0;Lt<3;Lt++)_t+=("0"+Math.floor(255*parseFloat(F[Lt])).toString(16)).slice(-2);return _t},Fr=v.__private__.encodeColorString=function(x){var F;typeof x=="string"&&(x={ch1:x});var ht=x.ch1,_t=x.ch2,Lt=x.ch3,Gt=x.ch4,te=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ht=="string"&&ht.charAt(0)!=="#"){var be=new nC(ht);if(be.ok)ht=be.toHex();else if(!/^\d*\.?\d*$/.test(ht))throw new Error('Invalid color "'+ht+'" passed to jsPDF.encodeColorString.')}if(typeof ht=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ht)&&(ht="#"+ht[1]+ht[1]+ht[2]+ht[2]+ht[3]+ht[3]),typeof ht=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ht)){var Ie=parseInt(ht.substr(1),16);ht=Ie>>16&255,_t=Ie>>8&255,Lt=255&Ie}if(_t===void 0||Gt===void 0&&ht===_t&&_t===Lt)F=typeof ht=="string"?ht+" "+te[0]:x.precision===2?S(ht/255)+" "+te[0]:O(ht/255)+" "+te[0];else if(Gt===void 0||Nr(Gt)==="object"){if(Gt&&!isNaN(Gt.a)&&Gt.a===0)return["1.","1.","1.",te[1]].join(" ");F=typeof ht=="string"?[ht,_t,Lt,te[1]].join(" "):x.precision===2?[S(ht/255),S(_t/255),S(Lt/255),te[1]].join(" "):[O(ht/255),O(_t/255),O(Lt/255),te[1]].join(" ")}else F=typeof ht=="string"?[ht,_t,Lt,Gt,te[2]].join(" "):x.precision===2?[S(ht),S(_t),S(Lt),S(Gt),te[2]].join(" "):[O(ht),O(_t),O(Lt),O(Gt),te[2]].join(" ");return F},In=v.__private__.getFilters=function(){return l},hr=v.__private__.putStream=function(x){var F=(x=x||{}).data||"",ht=x.filters||In(),_t=x.alreadyAppliedFilters||[],Lt=x.addLength1||!1,Gt=F.length,te=x.objectId,be=function(Qr){return Qr};if(p!==null&&te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(be=fn.encryptor(te,0));var Ie={};ht===!0&&(ht=["FlateEncode"]);var Qe=x.additionalKeyValues||[],sn=(Ie=ze.API.processDataByFilters!==void 0?ze.API.processDataByFilters(F,ht):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(_t)?_t.join(" "):_t.toString());if(Ie.data.length!==0&&(Qe.push({key:"Length",value:Ie.data.length}),Lt===!0&&Qe.push({key:"Length1",value:Gt})),sn.length!=0)if(sn.split("/").length-1==1)Qe.push({key:"Filter",value:sn});else{Qe.push({key:"Filter",value:"["+sn+"]"});for(var On=0;On<Qe.length;On+=1)if(Qe[On].key==="DecodeParms"){for(var Ir=[],Mr=0;Mr<Ie.reverseChain.split("/").length-1;Mr+=1)Ir.push("null");Ir.push(Qe[On].value),Qe[On].value="["+Ir.join(" ")+"]"}}st("<<");for(var lr=0;lr<Qe.length;lr++)st("/"+Qe[lr].key+" "+Qe[lr].value);st(">>"),Ie.data.length!==0&&(st("stream"),st(be(Ie.data)),st("endstream"))},ar=v.__private__.putPage=function(x){var F=x.number,ht=x.data,_t=x.objId,Lt=x.contentsObjId;wn(_t,!0),st("<</Type /Page"),st("/Parent "+x.rootDictionaryObjId+" 0 R"),st("/Resources "+x.resourceDictionaryObjId+" 0 R"),st("/MediaBox ["+parseFloat(U(x.mediaBox.bottomLeftX))+" "+parseFloat(U(x.mediaBox.bottomLeftY))+" "+U(x.mediaBox.topRightX)+" "+U(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&st("/CropBox ["+U(x.cropBox.bottomLeftX)+" "+U(x.cropBox.bottomLeftY)+" "+U(x.cropBox.topRightX)+" "+U(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&st("/BleedBox ["+U(x.bleedBox.bottomLeftX)+" "+U(x.bleedBox.bottomLeftY)+" "+U(x.bleedBox.topRightX)+" "+U(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&st("/TrimBox ["+U(x.trimBox.bottomLeftX)+" "+U(x.trimBox.bottomLeftY)+" "+U(x.trimBox.topRightX)+" "+U(x.trimBox.topRightY)+"]"),x.artBox!==null&&st("/ArtBox ["+U(x.artBox.bottomLeftX)+" "+U(x.artBox.bottomLeftY)+" "+U(x.artBox.topRightX)+" "+U(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&st("/UserUnit "+x.userUnit),en.publish("putPage",{objId:_t,pageContext:He[F],pageNumber:F,page:ht}),st("/Contents "+Lt+" 0 R"),st(">>"),st("endobj");var Gt=ht.join(`
`);return Z===X&&(Gt+=`
Q`),wn(Lt,!0),hr({data:Gt,filters:In(),objectId:Lt}),st("endobj"),_t},Xi=v.__private__.putPages=function(){var x,F,ht=[];for(x=1;x<=gn;x++)He[x].objId=Rr(),He[x].contentsObjId=Rr();for(x=1;x<=gn;x++)ht.push(ar({number:x,data:zt[x],objId:He[x].objId,contentsObjId:He[x].contentsObjId,mediaBox:He[x].mediaBox,cropBox:He[x].cropBox,bleedBox:He[x].bleedBox,trimBox:He[x].trimBox,artBox:He[x].artBox,userUnit:He[x].userUnit,rootDictionaryObjId:Qi,resourceDictionaryObjId:ri}));wn(Qi,!0),st("<</Type /Pages");var _t="/Kids [";for(F=0;F<gn;F++)_t+=ht[F]+" 0 R ";st(_t+"]"),st("/Count "+gn),st(">>"),st("endobj"),en.publish("postPutPages")},bs=function(x){en.publish("putFont",{font:x,out:st,newObject:sr,putStream:hr}),x.isAlreadyPutted!==!0&&(x.objectNumber=sr(),st("<<"),st("/Type /Font"),st("/BaseFont /"+Mf(x.postScriptName)),st("/Subtype /Type1"),typeof x.encoding=="string"&&st("/Encoding /"+x.encoding),st("/FirstChar 32"),st("/LastChar 255"),st(">>"),st("endobj"))},Ti=function(x){x.objectNumber=sr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[U(x.x),U(x.y),U(x.x+x.width),U(x.y+x.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ht=x.pages[1].join(`
`);hr({data:ht,additionalKeyValues:F,objectId:x.objectNumber}),st("endobj")},mr=function(x,F){F||(F=21);var ht=sr(),_t=(function(te,be){var Ie,Qe=[],sn=1/(be-1);for(Ie=0;Ie<1;Ie+=sn)Qe.push(Ie);if(Qe.push(1),te[0].offset!=0){var On={offset:0,color:te[0].color};te.unshift(On)}if(te[te.length-1].offset!=1){var Ir={offset:1,color:te[te.length-1].color};te.push(Ir)}for(var Mr="",lr=0,Qr=0;Qr<Qe.length;Qr++){for(Ie=Qe[Qr];Ie>te[lr+1].offset;)lr++;var vr=te[lr].offset,Ri=(Ie-vr)/(te[lr+1].offset-vr),La=te[lr].color,Ga=te[lr+1].color;Mr+=lt(Math.round((1-Ri)*La[0]+Ri*Ga[0]).toString(16))+lt(Math.round((1-Ri)*La[1]+Ri*Ga[1]).toString(16))+lt(Math.round((1-Ri)*La[2]+Ri*Ga[2]).toString(16))}return Mr.trim()})(x.colors,F),Lt=[];Lt.push({key:"FunctionType",value:"0"}),Lt.push({key:"Domain",value:"[0.0 1.0]"}),Lt.push({key:"Size",value:"["+F+"]"}),Lt.push({key:"BitsPerSample",value:"8"}),Lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hr({data:_t,additionalKeyValues:Lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ht}),st("endobj"),x.objectNumber=sr(),st("<< /ShadingType "+x.type),st("/ColorSpace /DeviceRGB");var Gt="/Coords ["+U(parseFloat(x.coords[0]))+" "+U(parseFloat(x.coords[1]))+" ";x.type===2?Gt+=U(parseFloat(x.coords[2]))+" "+U(parseFloat(x.coords[3])):Gt+=U(parseFloat(x.coords[2]))+" "+U(parseFloat(x.coords[3]))+" "+U(parseFloat(x.coords[4]))+" "+U(parseFloat(x.coords[5])),st(Gt+="]"),x.matrix&&st("/Matrix ["+x.matrix.toString()+"]"),st("/Function "+ht+" 0 R"),st("/Extend [true true]"),st(">>"),st("endobj")},fa=function(x,F){var ht=Rr(),_t=sr();F.push({resourcesOid:ht,objectOid:_t}),x.objectNumber=_t;var Lt=[];Lt.push({key:"Type",value:"/Pattern"}),Lt.push({key:"PatternType",value:"1"}),Lt.push({key:"PaintType",value:"1"}),Lt.push({key:"TilingType",value:"1"}),Lt.push({key:"BBox",value:"["+x.boundingBox.map(U).join(" ")+"]"}),Lt.push({key:"XStep",value:U(x.xStep)}),Lt.push({key:"YStep",value:U(x.yStep)}),Lt.push({key:"Resources",value:ht+" 0 R"}),x.matrix&&Lt.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),hr({data:x.stream,additionalKeyValues:Lt,objectId:x.objectNumber}),st("endobj")},ao=function(x){for(var F in x.objectNumber=sr(),st("<<"),x)switch(F){case"opacity":st("/ca "+S(x[F]));break;case"stroke-opacity":st("/CA "+S(x[F]))}st(">>"),st("endobj")},Os=function(x){wn(x.resourcesOid,!0),st("<<"),st("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in st("/Font <<"),ye)ye.hasOwnProperty(F)&&(w===!1||w===!0&&_.hasOwnProperty(F))&&st("/"+F+" "+ye[F].objectNumber+" 0 R");st(">>")})(),(function(){if(Object.keys(Re).length>0){for(var F in st("/Shading <<"),Re)Re.hasOwnProperty(F)&&Re[F]instanceof bh&&Re[F].objectNumber>=0&&st("/"+F+" "+Re[F].objectNumber+" 0 R");en.publish("putShadingPatternDict"),st(">>")}})(),(function(F){if(Object.keys(Re).length>0){for(var ht in st("/Pattern <<"),Re)Re.hasOwnProperty(ht)&&Re[ht]instanceof v.TilingPattern&&Re[ht].objectNumber>=0&&Re[ht].objectNumber<F&&st("/"+ht+" "+Re[ht].objectNumber+" 0 R");en.publish("putTilingPatternDict"),st(">>")}})(x.objectOid),(function(){if(Object.keys(qe).length>0){var F;for(F in st("/ExtGState <<"),qe)qe.hasOwnProperty(F)&&qe[F].objectNumber>=0&&st("/"+F+" "+qe[F].objectNumber+" 0 R");en.publish("putGStateDict"),st(">>")}})(),(function(){for(var F in st("/XObject <<"),pr)pr.hasOwnProperty(F)&&pr[F].objectNumber>=0&&st("/"+F+" "+pr[F].objectNumber+" 0 R");en.publish("putXobjectDict"),st(">>")})(),st(">>"),st("endobj")},za=function(x){Me[x.fontName]=Me[x.fontName]||{},Me[x.fontName][x.fontStyle]=x.id},ks=function(x,F,ht,_t,Lt){var Gt={id:"F"+(Object.keys(ye).length+1).toString(10),postScriptName:x,fontName:F,fontStyle:ht,encoding:_t,isStandardFont:Lt||!1,metadata:{}};return en.publish("addFont",{font:Gt,instance:this}),ye[Gt.id]=Gt,za(Gt),Gt.id},yr=v.__private__.pdfEscape=v.pdfEscape=function(x,F){return(function(ht,_t){var Lt,Gt,te,be,Ie,Qe,sn,On,Ir;if(te=(_t=_t||{}).sourceEncoding||"Unicode",Ie=_t.outputEncoding,(_t.autoencode||Ie)&&ye[ce].metadata&&ye[ce].metadata[te]&&ye[ce].metadata[te].encoding&&(be=ye[ce].metadata[te].encoding,!Ie&&ye[ce].encoding&&(Ie=ye[ce].encoding),!Ie&&be.codePages&&(Ie=be.codePages[0]),typeof Ie=="string"&&(Ie=be[Ie]),Ie)){for(sn=!1,Qe=[],Lt=0,Gt=ht.length;Lt<Gt;Lt++)(On=Ie[ht.charCodeAt(Lt)])?Qe.push(String.fromCharCode(On)):Qe.push(ht[Lt]),Qe[Lt].charCodeAt(0)>>8&&(sn=!0);ht=Qe.join("")}for(Lt=ht.length;sn===void 0&&Lt!==0;)ht.charCodeAt(Lt-1)>>8&&(sn=!0),Lt--;if(!sn)return ht;for(Qe=_t.noBOM?[]:[254,255],Lt=0,Gt=ht.length;Lt<Gt;Lt++){if((Ir=(On=ht.charCodeAt(Lt))>>8)>>8)throw new Error("Character at position "+Lt+" of string '"+ht+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(Ir),Qe.push(On-(Ir<<8))}return String.fromCharCode.apply(void 0,Qe)})(x,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lr=v.__private__.beginPage=function(x){zt[++gn]=[],He[gn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Zi(gn),Nt(zt[z])},cs=function(x,F){var ht,_t,Lt;switch(e=F||e,typeof x=="string"&&(ht=P(x.toLowerCase()),Array.isArray(ht)&&(_t=ht[0],Lt=ht[1])),Array.isArray(x)&&(_t=x[0]*ve,Lt=x[1]*ve),isNaN(_t)&&(_t=i[0],Lt=i[1]),(_t>14400||Lt>14400)&&(Br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_t=Math.min(14400,_t),Lt=Math.min(14400,Lt)),i=[_t,Lt],e.substr(0,1)){case"l":Lt>_t&&(i=[Lt,_t]);break;case"p":_t>Lt&&(i=[Lt,_t])}Lr(i),Mi(ns),st(ji),yt!==0&&st(yt+" J"),Ht!==0&&st(Ht+" j"),en.publish("addPage",{pageNumber:gn})},Di=function(x){x>0&&x<=gn&&(zt.splice(x,1),He.splice(x,1),gn--,z>gn&&(z=gn),this.setPage(z))},Zi=function(x){x>0&&x<=gn&&(z=x)},da=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return zt.length-1},pa=function(x,F,ht){var _t,Lt=void 0;return ht=ht||{},x=x!==void 0?x:ye[ce].fontName,F=F!==void 0?F:ye[ce].fontStyle,_t=x.toLowerCase(),Me[_t]!==void 0&&Me[_t][F]!==void 0?Lt=Me[_t][F]:Me[x]!==void 0&&Me[x][F]!==void 0?Lt=Me[x][F]:ht.disableWarning===!1&&Br.warn("Unable to look up font label for font '"+x+"', '"+F+"'. Refer to getFontList() for available fonts."),Lt||ht.noFallback||(Lt=Me.times[F])==null&&(Lt=Me.times.normal),Lt},ta=v.__private__.putInfo=function(){var x=sr(),F=function(_t){return _t};for(var ht in p!==null&&(F=fn.encryptor(x,0)),st("<<"),st("/Producer ("+yr(F("jsPDF "+ze.version))+")"),se)se.hasOwnProperty(ht)&&se[ht]&&st("/"+ht.substr(0,1).toUpperCase()+ht.substr(1)+" ("+yr(F(se[ht]))+")");st("/CreationDate ("+yr(F(vt))+")"),st(">>"),st("endobj")},Na=v.__private__.putCatalog=function(x){var F=(x=x||{}).rootDictionaryObjId||Qi;switch(sr(),st("<<"),st("/Type /Catalog"),st("/Pages "+F+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":st("/OpenAction [3 0 R /FitH null]");break;case"fullheight":st("/OpenAction [3 0 R /FitV null]");break;case"fullpage":st("/OpenAction [3 0 R /Fit]");break;case"original":st("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ht=""+de;ht.substr(ht.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&st("/OpenAction [3 0 R /XYZ null null "+S(de)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":st("/PageLayout /OneColumn");break;case"single":st("/PageLayout /SinglePage");break;case"two":case"twoleft":st("/PageLayout /TwoColumnLeft");break;case"tworight":st("/PageLayout /TwoColumnRight")}ge&&st("/PageMode /"+ge),en.publish("putCatalog"),st(">>"),st("endobj")},Cn=v.__private__.putTrailer=function(){st("trailer"),st("<<"),st("/Size "+(mt+1)),st("/Root "+mt+" 0 R"),st("/Info "+(mt-1)+" 0 R"),p!==null&&st("/Encrypt "+fn.oid+" 0 R"),st("/ID [ <"+Q+"> <"+Q+"> ]"),st(">>")},Ds=v.__private__.putHeader=function(){st("%PDF-"+N),st("%")},Ca=v.__private__.putXRef=function(){var x="0000000000";st("xref"),st("0 "+(mt+1)),st("0000000000 65535 f ");for(var F=1;F<=mt;F++)typeof At[F]=="function"?st((x+At[F]()).slice(-10)+" 00000 n "):At[F]!==void 0?st((x+At[F]).slice(-10)+" 00000 n "):st("0000000000 00000 n ")},si=v.__private__.buildDocument=function(){var x;mt=0,Rt=0,St=[],At=[],Mt=[],Qi=Rr(),ri=Rr(),Nt(St),en.publish("buildDocument"),Ds(),Xi(),(function(){en.publish("putAdditionalObjects");for(var ht=0;ht<Mt.length;ht++){var _t=Mt[ht];wn(_t.objId,!0),st(_t.content),st("endobj")}en.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var ht in ye)ye.hasOwnProperty(ht)&&(w===!1||w===!0&&_.hasOwnProperty(ht))&&bs(ye[ht])})(),(function(){var ht;for(ht in qe)qe.hasOwnProperty(ht)&&ao(qe[ht])})(),(function(){for(var ht in pr)pr.hasOwnProperty(ht)&&Ti(pr[ht])})(),(function(ht){var _t;for(_t in Re)Re.hasOwnProperty(_t)&&(Re[_t]instanceof bh?mr(Re[_t]):Re[_t]instanceof Hf&&fa(Re[_t],ht))})(x),en.publish("putResources"),x.forEach(Os),Os({resourcesOid:ri,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources"),p!==null&&(fn.oid=sr(),st("<<"),st("/Filter /Standard"),st("/V "+fn.v),st("/R "+fn.r),st("/U <"+fn.toHexString(fn.U)+">"),st("/O <"+fn.toHexString(fn.O)+">"),st("/P "+fn.P),st(">>"),st("endobj")),ta(),Na();var F=Rt;return Ca(),Cn(),st("startxref"),st(""+F),st("%%EOF"),Nt(zt[z]),St.join(`
`)},_s=v.__private__.getBlob=function(x){return new Blob([he(x)],{type:"application/pdf"})},ai=v.output=v.__private__.output=(wr=function(x,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",x){case void 0:return si();case"save":v.save(F.filename);break;case"arraybuffer":return he(si());case"blob":return _s(si());case"bloburi":case"bloburl":if(hn.URL!==void 0&&typeof hn.URL.createObjectURL=="function")return hn.URL&&hn.URL.createObjectURL(_s(si()))||void 0;Br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ht="",_t=si();try{ht=gA(_t)}catch{ht=gA(unescape(encodeURIComponent(_t)))}return"data:application/pdf;filename="+F.filename+";base64,"+ht;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var Lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Lt=F.pdfObjectUrl,Gt="");var te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Lt+'"'+Gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",be=hn.open();return be!==null&&be.document.write(te),be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Qe=hn.open();if(Qe!==null){Qe.document.write(Ie);var sn=this;Qe.document.documentElement.querySelector("#pdfViewer").onload=function(){Qe.document.title=F.filename,Qe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sn.output("bloburl"))}}return Qe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Ir=hn.open();if(Ir!==null&&(Ir.document.write(On),Ir.document.title=F.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return hn.document.location.href=this.output("datauristring",F);default:return null}},wr.foo=function(){try{return wr.apply(this,arguments)}catch(ht){var x=ht.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var F="Error in function "+x.split(`
`)[0].split("<")[0]+": "+ht.message;if(!hn.console)throw new Error(F);hn.console.error(F,ht),hn.alert&&alert(F)}},wr.foo.bar=wr,wr.foo),ma=function(x){return Array.isArray(us)===!0&&us.indexOf(x)>-1};switch(r){case"pt":ve=1;break;case"mm":ve=72/25.4;break;case"cm":ve=72/2.54;break;case"in":ve=72;break;case"px":ve=ma("px_scaling")==1?.75:96/72;break;case"pc":case"em":ve=12;break;case"ex":ve=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ve=r}var fn=null;gt(),ct();var mi=v.__private__.getPageInfo=v.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:He[x].objId,pageNumber:x,pageContext:He[x]}},ga=v.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in He)if(He[F].objId===x)break;return mi(F)},ws=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:He[z].objId,pageNumber:z,pageContext:He[z]}};v.addPage=function(){return cs.apply(this,arguments),this},v.setPage=function(){return Zi.apply(this,arguments),Nt.call(this,zt[z]),this},v.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},v.movePage=function(x,F){var ht,_t;if(x>F){ht=zt[x],_t=He[x];for(var Lt=x;Lt>F;Lt--)zt[Lt]=zt[Lt-1],He[Lt]=He[Lt-1];zt[F]=ht,He[F]=_t,this.setPage(F)}else if(x<F){ht=zt[x],_t=He[x];for(var Gt=x;Gt<F;Gt++)zt[Gt]=zt[Gt+1],He[Gt]=He[Gt+1];zt[F]=ht,He[F]=_t,this.setPage(F)}return this},v.deletePage=function(){return Di.apply(this,arguments),this},v.__private__.text=v.text=function(x,F,ht,_t,Lt){var Gt,te,be,Ie,Qe,sn,On,Ir,Mr,lr=(_t=_t||{}).scope||this;if(typeof x=="number"&&typeof F=="number"&&(typeof ht=="string"||Array.isArray(ht))){var Qr=ht;ht=F,F=x,x=Qr}if(arguments[3]instanceof Be==0?(be=arguments[4],Ie=arguments[5],Nr(On=arguments[3])==="object"&&On!==null||(typeof be=="string"&&(Ie=be,be=null),typeof On=="string"&&(Ie=On,On=null),typeof On=="number"&&(be=On,On=null),_t={flags:On,angle:be,align:Ie})):(M("The transform parameter of text() with a Matrix value"),Mr=Lt),isNaN(F)||isNaN(ht)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return lr;var vr,Ri="",La=typeof _t.lineHeightFactor=="number"?_t.lineHeightFactor:or,Ga=lr.internal.scaleFactor;function qu(ur){return ur=ur.split("	").join(Array(_t.TabLen||9).join(" ")),yr(ur,On)}function Po(ur){for(var br,jr=ur.concat(),Xr=[],mo=jr.length;mo--;)typeof(br=jr.shift())=="string"?Xr.push(br):Array.isArray(ur)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?Xr.push(br[0]):Xr.push([br[0],br[1],br[2]]);return Xr}function vi(ur,br){var jr;if(typeof ur=="string")jr=br(ur)[0];else if(Array.isArray(ur)){for(var Xr,mo,Oa=ur.concat(),Bs=[],Gl=Oa.length;Gl--;)typeof(Xr=Oa.shift())=="string"?Bs.push(br(Xr)[0]):Array.isArray(Xr)&&typeof Xr[0]=="string"&&(mo=br(Xr[0],Xr[1],Xr[2]),Bs.push([mo[0],mo[1],mo[2]]));jr=Bs}return jr}var ea=!1,ml=!0;if(typeof x=="string")ea=!0;else if(Array.isArray(x)){var js=x.concat();te=[];for(var g,C=js.length;C--;)(typeof(g=js.shift())!="string"||Array.isArray(g)&&typeof g[0]!="string")&&(ml=!1);ea=ml}if(ea===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var j=ee/lr.internal.scaleFactor,it=j*(La-1);switch(_t.baseline){case"bottom":ht-=it;break;case"top":ht+=j-it;break;case"hanging":ht+=j-2*it;break;case"middle":ht+=j/2-it}if((sn=_t.maxWidth||0)>0&&(typeof x=="string"?x=lr.splitTextToSize(x,sn):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(ur,br){return ur.concat(lr.splitTextToSize(br,sn))},[]))),Gt={text:x,x:F,y:ht,options:_t,mutex:{pdfEscape:yr,activeFontKey:ce,fonts:ye,activeFontSize:ee}},en.publish("preProcessText",Gt),x=Gt.text,be=(_t=Gt.options).angle,Mr instanceof Be==0&&be&&typeof be=="number"){be*=Math.PI/180,_t.rotationDirection===0&&(be=-be),Z===X&&(be=-be);var Ot=Math.cos(be),Vt=Math.sin(be);Mr=new Be(Ot,Vt,-Vt,Ot,0,0)}else be&&be instanceof Be&&(Mr=be);Z!==X||Mr||(Mr=ir),(Qe=_t.charSpace||L)!==void 0&&(Ri+=U(R(Qe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=_t.horizontalScale)!==void 0&&(Ri+=U(100*Ir)+` Tz
`),_t.lang;var le=-1,kn=_t.renderingMode!==void 0?_t.renderingMode:_t.stroke,zr=lr.internal.getCurrentPageInfo().pageContext;switch(kn){case 0:case!1:case"fill":le=0;break;case 1:case!0:case"stroke":le=1;break;case 2:case"fillThenStroke":le=2;break;case 3:case"invisible":le=3;break;case 4:case"fillAndAddForClipping":le=4;break;case 5:case"strokeAndAddPathForClipping":le=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":le=6;break;case 7:case"addToPathForClipping":le=7}var Dn=zr.usedRenderingMode!==void 0?zr.usedRenderingMode:-1;le!==-1?Ri+=le+` Tr
`:Dn!==-1&&(Ri+=`0 Tr
`),le!==-1&&(zr.usedRenderingMode=le),Ie=_t.align||"left";var Mn,fr=ee*La,ya=lr.internal.pageSize.getWidth(),bi=ye[ce];Qe=_t.charSpace||L,sn=_t.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},_t.flags);var ds=[],oo=function(ur){return lr.getStringUnitWidth(ur,{font:bi,charSpace:Qe,fontSize:ee,doKerning:!1})*ee/Ga};if(Object.prototype.toString.call(x)==="[object Array]"){var ps;te=Po(x),Ie!=="left"&&(Mn=te.map(oo));var qs,gl=0;if(Ie==="right"){F-=Mn[0],x=[],C=te.length;for(var Ia=0;Ia<C;Ia++)Ia===0?(qs=Pr(F),ps=gi(ht)):(qs=R(gl-Mn[Ia]),ps=-fr),x.push([te[Ia],qs,ps]),gl=Mn[Ia]}else if(Ie==="center"){F-=Mn[0]/2,x=[],C=te.length;for(var lo=0;lo<C;lo++)lo===0?(qs=Pr(F),ps=gi(ht)):(qs=R((gl-Mn[lo])/2),ps=-fr),x.push([te[lo],qs,ps]),gl=Mn[lo]}else if(Ie==="left"){x=[],C=te.length;for(var Uu=0;Uu<C;Uu++)x.push(te[Uu])}else if(Ie==="justify"&&bi.encoding==="Identity-H"){x=[],C=te.length,sn=sn!==0?sn:ya;for(var Mo=0,oi=0;oi<C;oi++)if(ps=oi===0?gi(ht):-fr,qs=oi===0?Pr(F):Mo,oi<C-1){var Nd=R((sn-Mn[oi])/(te[oi].split(" ").length-1)),uo=te[oi].split(" ");x.push([uo[0]+" ",qs,ps]),Mo=0;for(var co=1;co<uo.length;co++){var Bu=(oo(uo[co-1]+" "+uo[co])-oo(uo[co]))*Ga+Nd;co==uo.length-1?x.push([uo[co],Bu,0]):x.push([uo[co]+" ",Bu,0]),Mo-=Bu}}else x.push([te[oi],qs,ps]);x.push(["",Mo,0])}else{if(Ie!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],C=te.length,sn=sn!==0?sn:ya,oi=0;oi<C;oi++)ps=oi===0?gi(ht):-fr,qs=oi===0?Pr(F):0,oi<C-1?ds.push(U(R((sn-Mn[oi])/(te[oi].split(" ").length-1)))):ds.push(0),x.push([te[oi],qs,ps])}}(typeof _t.R2L=="boolean"?_t.R2L:Ge)===!0&&(x=vi(x,function(ur,br,jr){return[ur.split("").reverse().join(""),br,jr]})),Gt={text:x,x:F,y:ht,options:_t,mutex:{pdfEscape:yr,activeFontKey:ce,fonts:ye,activeFontSize:ee}},en.publish("postProcessText",Gt),x=Gt.text,vr=Gt.mutex.isHex||!1;var Qc=ye[ce].encoding;Qc!=="WinAnsiEncoding"&&Qc!=="StandardEncoding"||(x=vi(x,function(ur,br,jr){return[qu(ur),br,jr]})),te=Po(x),x=[];for(var rs,ho,yl,vl=Array.isArray(te[0])?1:0,fo="",Fu=function(ur,br,jr){var Xr="";return jr instanceof Be?(jr=typeof _t.angle=="number"?_n(jr,new Be(1,0,0,1,ur,br)):_n(new Be(1,0,0,1,ur,br),jr),Z===X&&(jr=_n(new Be(1,0,0,-1,0,0),jr)),Xr=jr.join(" ")+` Tm
`):Xr=U(ur)+" "+U(br)+` Td
`,Xr},Us=0;Us<te.length;Us++){switch(fo="",vl){case 1:yl=(vr?"<":"(")+te[Us][0]+(vr?">":")"),rs=parseFloat(te[Us][1]),ho=parseFloat(te[Us][2]);break;case 0:yl=(vr?"<":"(")+te[Us]+(vr?">":")"),rs=Pr(F),ho=gi(ht)}ds!==void 0&&ds[Us]!==void 0&&(fo=ds[Us]+` Tw
`),Us===0?x.push(fo+Fu(rs,ho,Mr)+yl):vl===0?x.push(fo+yl):vl===1&&x.push(fo+Fu(rs,ho,Mr)+yl)}x=vl===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var po=`BT
/`;return po+=ce+" "+ee+` Tf
`,po+=U(ee*La)+` TL
`,po+=Ci+`
`,po+=Ri,po+=x,st(po+="ET"),_[ce]=!0,lr};var Ps=v.__private__.clip=v.clip=function(x){return st(x==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Ps("evenodd")},v.__private__.discardPath=v.discardPath=function(){return st("n"),this};var Sn=v.__private__.isValidStyle=function(x){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(F=!0),F};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(x){return Sn(x)&&(f=x),this};var Ji=v.__private__.getStyle=v.getStyle=function(x){var F=f;switch(x){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=x}return F},Er=v.close=function(){return st("h"),this};v.stroke=function(){return st("S"),this},v.fill=function(x){return Vr("f",x),this},v.fillEvenOdd=function(x){return Vr("f*",x),this},v.fillStroke=function(x){return Vr("B",x),this},v.fillStrokeEvenOdd=function(x){return Vr("B*",x),this};var Vr=function(x,F){Nr(F)==="object"?es(F,x):st(x)},ts=function(x){x===null||Z===X&&x===void 0||(x=Ji(x),st(x))};function Ha(x,F,ht,_t,Lt){var Gt=new Hf(F||this.boundingBox,ht||this.xStep,_t||this.yStep,this.gState,Lt||this.matrix);Gt.stream=this.stream;var te=x+"$$"+this.cloneIndex+++"$$";return Un(te,Gt),Gt}var es=function(x,F){var ht=tn[x.key],_t=Re[ht];if(_t instanceof bh)st("q"),st(Do(F)),_t.gState&&v.setGState(_t.gState),st(x.matrix.toString()+" cm"),st("/"+ht+" sh"),st("Q");else if(_t instanceof Hf){var Lt=new Be(1,0,0,-1,0,Fn());x.matrix&&(Lt=Lt.multiply(x.matrix||ir),ht=Ha.call(_t,x.key,x.boundingBox,x.xStep,x.yStep,Lt).id),st("q"),st("/Pattern cs"),st("/"+ht+" scn"),_t.gState&&v.setGState(_t.gState),st(F),st("Q")}},Do=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},$a=v.moveTo=function(x,F){return st(U(R(x))+" "+U(at(F))+" m"),this},Es=v.lineTo=function(x,F){return st(U(R(x))+" "+U(at(F))+" l"),this},Ni=v.curveTo=function(x,F,ht,_t,Lt,Gt){return st([U(R(x)),U(at(F)),U(R(ht)),U(at(_t)),U(R(Lt)),U(at(Gt)),"c"].join(" ")),this};v.__private__.line=v.line=function(x,F,ht,_t,Lt){if(isNaN(x)||isNaN(F)||isNaN(ht)||isNaN(_t)||!Sn(Lt))throw new Error("Invalid arguments passed to jsPDF.line");return Z===H?this.lines([[ht-x,_t-F]],x,F,[1,1],Lt||"S"):this.lines([[ht-x,_t-F]],x,F,[1,1]).stroke()},v.__private__.lines=v.lines=function(x,F,ht,_t,Lt,Gt){var te,be,Ie,Qe,sn,On,Ir,Mr,lr,Qr,vr,Ri;if(typeof x=="number"&&(Ri=ht,ht=F,F=x,x=Ri),_t=_t||[1,1],Gt=Gt||!1,isNaN(F)||isNaN(ht)||!Array.isArray(x)||!Array.isArray(_t)||!Sn(Lt)||typeof Gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($a(F,ht),te=_t[0],be=_t[1],Qe=x.length,Qr=F,vr=ht,Ie=0;Ie<Qe;Ie++)(sn=x[Ie]).length===2?(Qr=sn[0]*te+Qr,vr=sn[1]*be+vr,Es(Qr,vr)):(On=sn[0]*te+Qr,Ir=sn[1]*be+vr,Mr=sn[2]*te+Qr,lr=sn[3]*be+vr,Qr=sn[4]*te+Qr,vr=sn[5]*be+vr,Ni(On,Ir,Mr,lr,Qr,vr));return Gt&&Er(),ts(Lt),this},v.path=function(x){for(var F=0;F<x.length;F++){var ht=x[F],_t=ht.c;switch(ht.op){case"m":$a(_t[0],_t[1]);break;case"l":Es(_t[0],_t[1]);break;case"c":Ni.apply(this,_t);break;case"h":Er()}}return this},v.__private__.rect=v.rect=function(x,F,ht,_t,Lt){if(isNaN(x)||isNaN(F)||isNaN(ht)||isNaN(_t)||!Sn(Lt))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===H&&(_t=-_t),st([U(R(x)),U(at(F)),U(R(ht)),U(R(_t)),"re"].join(" ")),ts(Lt),this},v.__private__.triangle=v.triangle=function(x,F,ht,_t,Lt,Gt,te){if(isNaN(x)||isNaN(F)||isNaN(ht)||isNaN(_t)||isNaN(Lt)||isNaN(Gt)||!Sn(te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ht-x,_t-F],[Lt-ht,Gt-_t],[x-Lt,F-Gt]],x,F,[1,1],te,!0),this},v.__private__.roundedRect=v.roundedRect=function(x,F,ht,_t,Lt,Gt,te){if(isNaN(x)||isNaN(F)||isNaN(ht)||isNaN(_t)||isNaN(Lt)||isNaN(Gt)||!Sn(te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var be=4/3*(Math.SQRT2-1);return Lt=Math.min(Lt,.5*ht),Gt=Math.min(Gt,.5*_t),this.lines([[ht-2*Lt,0],[Lt*be,0,Lt,Gt-Gt*be,Lt,Gt],[0,_t-2*Gt],[0,Gt*be,-Lt*be,Gt,-Lt,Gt],[2*Lt-ht,0],[-Lt*be,0,-Lt,-Gt*be,-Lt,-Gt],[0,2*Gt-_t],[0,-Gt*be,Lt*be,-Gt,Lt,-Gt]],x+Lt,F,[1,1],te,!0),this},v.__private__.ellipse=v.ellipse=function(x,F,ht,_t,Lt){if(isNaN(x)||isNaN(F)||isNaN(ht)||isNaN(_t)||!Sn(Lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gt=4/3*(Math.SQRT2-1)*ht,te=4/3*(Math.SQRT2-1)*_t;return $a(x+ht,F),Ni(x+ht,F-te,x+Gt,F-_t,x,F-_t),Ni(x-Gt,F-_t,x-ht,F-te,x-ht,F),Ni(x-ht,F+te,x-Gt,F+_t,x,F+_t),Ni(x+Gt,F+_t,x+ht,F+te,x+ht,F),ts(Lt),this},v.__private__.circle=v.circle=function(x,F,ht,_t){if(isNaN(x)||isNaN(F)||isNaN(ht)||!Sn(_t))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,F,ht,ht,_t)},v.setFont=function(x,F,ht){return ht&&(F=K(F,ht)),ce=pa(x,F,{disableWarning:!1}),this};var Pi=v.__private__.getFont=v.getFont=function(){return ye[pa.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var x,F,ht={};for(x in Me)if(Me.hasOwnProperty(x))for(F in ht[x]=[],Me[x])Me[x].hasOwnProperty(F)&&ht[x].push(F);return ht},v.addFont=function(x,F,ht,_t,Lt){var Gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Gt.indexOf(arguments[3])!==-1?Lt=arguments[3]:arguments[3]&&Gt.indexOf(arguments[3])==-1&&(ht=K(ht,_t)),ks.call(this,x,F,ht,Lt=Lt||"Identity-H")};var or,ns=n.lineWidth||.200025,Ke=v.__private__.getLineWidth=v.getLineWidth=function(){return ns},Mi=v.__private__.setLineWidth=v.setLineWidth=function(x){return ns=x,st(U(R(x))+" w"),this};v.__private__.setLineDash=ze.API.setLineDash=ze.API.setLineDashPattern=function(x,F){if(x=x||[],F=F||0,isNaN(F)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ht){return U(R(ht))}).join(" "),F=U(R(F)),st("["+x+"] "+F+" d"),this};var Ra=v.__private__.getLineHeight=v.getLineHeight=function(){return ee*or};v.__private__.getLineHeight=v.getLineHeight=function(){return ee*or};var As=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(or=x),this},hs=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return or};As(n.lineHeight);var Pr=v.__private__.getHorizontalCoordinate=function(x){return R(x)},gi=v.__private__.getVerticalCoordinate=function(x){return Z===X?x:He[z].mediaBox.topRightY-He[z].mediaBox.bottomLeftY-R(x)},fs=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(x){return U(Pr(x))},yi=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(x){return U(gi(x))},ji=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ii(ji)},v.__private__.setStrokeColor=v.setDrawColor=function(x,F,ht,_t){return ji=Fr({ch1:x,ch2:F,ch3:ht,ch4:_t,pdfColorType:"draw",precision:2}),st(ji),this};var Ms=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ii(Ms)},v.__private__.setFillColor=v.setFillColor=function(x,F,ht,_t){return Ms=Fr({ch1:x,ch2:F,ch3:ht,ch4:_t,pdfColorType:"fill",precision:2}),st(Ms),this};var Ci=n.textColor||"0 g",qi=v.__private__.getTextColor=v.getTextColor=function(){return ii(Ci)};v.__private__.setTextColor=v.setTextColor=function(x,F,ht,_t){return Ci=Fr({ch1:x,ch2:F,ch3:ht,ch4:_t,pdfColorType:"text",precision:3}),this};var L=n.charSpace,tt=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(L||0)};v.__private__.setCharSpace=v.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return L=x,this};var yt=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(x){var F=v.CapJoinStyles[x];if(F===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yt=F,st(F+" J"),this};var Ht=0;v.__private__.setLineJoin=v.setLineJoin=function(x){var F=v.CapJoinStyles[x];if(F===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ht=F,st(F+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return st(U(R(x))+" M"),this},v.GState=o0,v.setGState=function(x){(x=typeof x=="string"?qe[Jn[x]]:Ve(null,x)).equals(Qn)||(st("/"+x.id+" gs"),Qn=x)};var Ve=function(x,F){if(!x||!Jn[x]){var ht=!1;for(var _t in qe)if(qe.hasOwnProperty(_t)&&qe[_t].equals(F)){ht=!0;break}if(ht)F=qe[_t];else{var Lt="GS"+(Object.keys(qe).length+1).toString(10);qe[Lt]=F,F.id=Lt}return x&&(Jn[x]=F.id),en.publish("addGState",F),F}};v.addGState=function(x,F){return Ve(x,F),this},v.saveGraphicsState=function(){return st("q"),Ln.push({key:ce,size:ee,color:Ci}),this},v.restoreGraphicsState=function(){st("Q");var x=Ln.pop();return ce=x.key,ee=x.size,Ci=x.color,Qn=null,this},v.setCurrentTransformationMatrix=function(x){return st(x.toString()+" cm"),this},v.comment=function(x){return st("#"+x),this};var Ee=function(x,F){var ht=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ht},set:function(Gt){isNaN(Gt)||(ht=parseFloat(Gt))}});var _t=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _t},set:function(Gt){isNaN(Gt)||(_t=parseFloat(Gt))}});var Lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Lt},set:function(Gt){Lt=Gt.toString()}}),this},yn=function(x,F,ht,_t){Ee.call(this,x,F),this.type="rect";var Lt=ht||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Lt},set:function(te){isNaN(te)||(Lt=parseFloat(te))}});var Gt=_t||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gt},set:function(te){isNaN(te)||(Gt=parseFloat(te))}}),this},ln=function(){this.page=gn,this.currentPage=z,this.pages=zt.slice(0),this.pagesContext=He.slice(0),this.x=Ne,this.y=Rn,this.matrix=xn,this.width=Xn(z),this.height=Fn(z),this.outputDestination=Bt,this.id="",this.objectNumber=-1};ln.prototype.restore=function(){gn=this.page,z=this.currentPage,He=this.pagesContext,zt=this.pages,Ne=this.x,Rn=this.y,xn=this.matrix,Yr(z,this.width),Zn(z,this.height),Bt=this.outputDestination};var Bn=function(x,F,ht,_t,Lt){Cr.push(new ln),gn=z=0,zt=[],Ne=x,Rn=F,xn=Lt,Lr([ht,_t])};for(var dn in v.beginFormObject=function(x,F,ht,_t,Lt){return Bn(x,F,ht,_t,Lt),this},v.endFormObject=function(x){return(function(F){if(Si[F])Cr.pop().restore();else{var ht=new ln,_t="Xo"+(Object.keys(pr).length+1).toString(10);ht.id=_t,Si[F]=_t,pr[_t]=ht,en.publish("addFormObject",ht),Cr.pop().restore()}})(x),this},v.doFormObject=function(x,F){var ht=pr[Si[x]];return st("q"),st(F.toString()+" cm"),st("/"+ht.id+" Do"),st("Q"),this},v.getFormObject=function(x){var F=pr[Si[x]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},v.save=function(x,F){return x=x||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(vh(_s(si()),x),typeof vh.unload=="function"&&hn.setTimeout&&setTimeout(vh.unload,911),this):new Promise(function(ht,_t){try{var Lt=vh(_s(si()),x);typeof vh.unload=="function"&&hn.setTimeout&&setTimeout(vh.unload,911),ht(Lt)}catch(Gt){_t(Gt.message)}})},ze.API)ze.API.hasOwnProperty(dn)&&(dn==="events"&&ze.API.events.length?(function(x,F){var ht,_t,Lt;for(Lt=F.length-1;Lt!==-1;Lt--)ht=F[Lt][0],_t=F[Lt][1],x.subscribe.apply(x,[ht].concat(typeof _t=="function"?[_t]:_t))})(en,ze.API.events):v[dn]=ze.API[dn]);var Xn=v.getPageWidth=function(x){return(He[x=x||z].mediaBox.topRightX-He[x].mediaBox.bottomLeftX)/ve},Yr=v.setPageWidth=function(x,F){He[x].mediaBox.topRightX=F*ve+He[x].mediaBox.bottomLeftX},Fn=v.getPageHeight=function(x){return(He[x=x||z].mediaBox.topRightY-He[x].mediaBox.bottomLeftY)/ve},Zn=v.setPageHeight=function(x,F){He[x].mediaBox.topRightY=F*ve+He[x].mediaBox.bottomLeftY};return v.internal={pdfEscape:yr,getStyle:Ji,getFont:Pi,getFontSize:ue,getCharSpace:tt,getTextColor:qi,getLineHeight:Ra,getLineHeightFactor:hs,getLineWidth:Ke,write:we,getHorizontalCoordinate:Pr,getVerticalCoordinate:gi,getCoordinateString:fs,getVerticalCoordinateString:yi,collections:{},newObject:sr,newAdditionalObject:Js,newObjectDeferred:Rr,newObjectDeferredBegin:wn,getFilters:In,putStream:hr,events:en,scaleFactor:ve,pageSize:{getWidth:function(){return Xn(z)},setWidth:function(x){Yr(z,x)},getHeight:function(){return Fn(z)},setHeight:function(x){Zn(z,x)}},encryptionOptions:p,encryption:fn,getEncryptor:function(x){return p!==null?fn.encryptor(x,0):function(F){return F}},output:ai,getNumberOfPages:da,pages:zt,out:st,f2:S,f3:O,getPageInfo:mi,getPageInfoByObjId:ga,getCurrentPageInfo:ws,getPDFVersion:I,Point:Ee,Rectangle:yn,Matrix:Be,hasHotfix:ma},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Xn(z)},set:function(x){Yr(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Fn(z)},set:function(x){Zn(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var F=0,ht=xe.length;F<ht;F++){var _t=ks.call(this,x[F][0],x[F][1],x[F][2],xe[F][3],!0);w===!1&&(_[_t]=!0);var Lt=x[F][0].split("-");za({id:_t,fontName:Lt[0],fontStyle:Lt[1]||""})}en.publish("addFonts",{fonts:ye,dictionary:Me})}).call(v,xe),ce="F1",cs(i,e),en.publish("initialized"),v}Pf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Pf.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pf.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Pf.prototype.processOwnerPassword=function(n,t){return d5(f5(t).substr(0,5),n)},Pf.prototype.encryptor=function(n,t){var e=f5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return d5(e,r)}},o0.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Nr(n)!==Nr(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},ze.API={events:[]},ze.version="3.0.2";var Oi=ze.API,Xb=1,Vh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(n){return n.toFixed(2)},mc=function(n){return n.toFixed(5)};Oi.__acroform__={};var Va=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},_A=function(n){return n*Xb},Rl=function(n){var t=new aC,e=ke.internal.getHeight(n)||0,r=ke.internal.getWidth(n)||0;return t.BBox=[0,0,Number(En(r)),Number(En(e))],t},NB=Oi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},CB=Oi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},RB=Oi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Ki=Oi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RB(n,t-1)},Wi=Oi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NB(n,t-1)},Yi=Oi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CB(n,t-1)},LB=Oi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],a=n[1],l=n[2],c=n[3],h={};return h.lowerLeft_X=e(i)||0,h.lowerLeft_Y=r(a+c)||0,h.upperRight_X=e(i+l)||0,h.upperRight_Y=r(a)||0,[Number(En(h.lowerLeft_X)),Number(En(h.lowerLeft_Y)),Number(En(h.upperRight_X)),Number(En(h.upperRight_Y))]},IB=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=p5(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+En(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Rl(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},p5=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var a=e,l=ke.internal.getHeight(n)||0;l=l<0?-l:l;var c=ke.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(S,O,R){if(S+1<i.length){var at=O+" "+i[S+1][0];return Zg(at,n,R).width<=c-4}return!1};a++;t:for(;a>0;){t="",a--;var f,p,w=Zg("3",n,a).height,_=n.multiline?l-a:(l-w)/2,v=_+=2,N=0,I=0,k=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Zg(t,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var P="",H=0,X=0;X<i.length;X++)if(i.hasOwnProperty(X)){var Z=!1;if(i[X].length!==1&&k!==i[X].length-1){if((w+2)*(H+2)+2>l)continue t;P+=i[X][k],Z=!0,I=X,X--}else{P=(P+=i[X][k]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var pt=parseInt(X),wt=h(pt,P,a),K=X>=i.length-1;if(wt&&!K){P+=" ",k=0;continue}if(wt||K){if(K)I=pt;else if(n.multiline&&(w+2)*(H+2)+2>l)continue t}else{if(!n.multiline||(w+2)*(H+2)+2>l)continue t;I=pt}}for(var U="",M=N;M<=I;M++){var G=i[M];if(n.multiline){if(M===I){U+=G[k]+" ",k=(k+1)%G.length;continue}if(M===N){U+=G[G.length-1]+" ";continue}}U+=G[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,p=Zg(U,n,a).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}t+=En(f)+" "+En(v)+` Td
`,t+="("+Vh(U)+`) Tj
`,t+=-En(f)+` 0 Td
`,v=-(a+2),p=0,N=Z?I:I+1,H++,P=""}break}return r.text=t,r.fontSize=a,r},Zg=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},OB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kB=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},DB=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(hl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(OB)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new oC,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&kB(a,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var a=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],f=c.Rect;if(c.Rect&&(c.Rect=LB(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ke.createDefaultAppearanceStream(c),Nr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=IB(c);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var w="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var v=c.appearanceStreamContent[_];if(w+="/"+_+" ",w+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var l in v)if(v.hasOwnProperty(l)){var N=v[l];typeof N=="function"&&(N=N.call(i,c)),w+="/"+l+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=v)=="function"&&(N=N.call(i,c)),w+="/"+l+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);w+=">>"}h.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:c.objId}),i.internal.out("endobj")}a&&(function(I,k){for(var P in I)if(I.hasOwnProperty(P)){var H=P,X=I[P];k.internal.newObjectDeferredBegin(X.objId,!0),Nr(X)==="object"&&typeof X.putStream=="function"&&X.putStream(),delete I[H]}})(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},sC=Oi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),Nr(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+Vh(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ov=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Vh(r(n))+")"},kl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};kl.prototype.toString=function(){return this.objId+" 0 R"},kl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},kl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:sC(i,this.objId,this.scope)}):i instanceof kl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var aC=function(){kl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Va(aC,kl);var oC=function(){kl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Vh(e(n))+")"}},set:function(e){n=e}})};Va(oC,kl);var hl=function n(){kl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');t=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ki(t,3)},set:function(P){P?this.F=Wi(t,3):this.F=Yi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');e=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof l0)return;a="FieldObject"+n.FieldNum++}var P=function(H){return H};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Vh(P(a))+")"},set:function(P){a=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(P){a=P}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(P){l=P}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(P){h=P}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Xb:f},set:function(P){f=P}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(P){p=P}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof l0||this instanceof xh))return ov(w,this.objId,this.scope)},set:function(P){P=P.toString(),w=P}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ls==0?ov(_,this.objId,this.scope):_},set:function(P){P=P.toString(),_=this instanceof Ls==0?P.substr(0,1)==="("?Rf(P.substr(1,P.length-2)):Rf(P):P}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Rf(_.substr(1,_.length-1)):_},set:function(P){P=P.toString(),_=this instanceof Ls==1?"/"+P:P}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ls==0?ov(v,this.objId,this.scope):v},set:function(P){P=P.toString(),v=this instanceof Ls==0?P.substr(0,1)==="("?Rf(P.substr(1,P.length-2)):Rf(P):P}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Rf(v.substr(1,v.length-1)):v},set:function(P){P=P.toString(),v=this instanceof Ls==1?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(P){P=!!P,I=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(P){N=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,1)},set:function(P){P?this.Ff=Wi(this.Ff,1):this.Ff=Yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,2)},set:function(P){P?this.Ff=Wi(this.Ff,2):this.Ff=Yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,3)},set:function(P){P?this.Ff=Wi(this.Ff,3):this.Ff=Yi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');k=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(k){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Va(hl,kl);var Yf=function(){hl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sC(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=(function(a,l,c){c||(c=1);for(var h,f=[];h=l.exec(a);)f.push(h[c]);return f})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,18)},set:function(e){e?this.Ff=Wi(this.Ff,18):this.Ff=Yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Wi(this.Ff,19):this.Ff=Yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,20)},set:function(e){e?(this.Ff=Wi(this.Ff,20),t.sort()):this.Ff=Yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,22)},set:function(e){e?this.Ff=Wi(this.Ff,22):this.Ff=Yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,23)},set:function(e){e?this.Ff=Wi(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,27)},set:function(e){e?this.Ff=Wi(this.Ff,27):this.Ff=Yi(this.Ff,27)}}),this.hasAppearanceStream=!1};Va(Yf,hl);var Qf=function(){Yf.call(this),this.fontName="helvetica",this.combo=!1};Va(Qf,Yf);var Xf=function(){Qf.call(this),this.combo=!0};Va(Xf,Qf);var S1=function(){Xf.call(this),this.edit=!0};Va(S1,Xf);var Ls=function(){hl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,15)},set:function(e){e?this.Ff=Wi(this.Ff,15):this.Ff=Yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,16)},set:function(e){e?this.Ff=Wi(this.Ff,16):this.Ff=Yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,17)},set:function(e){e?this.Ff=Wi(this.Ff,17):this.Ff=Yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,26)},set:function(e){e?this.Ff=Wi(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Vh(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Nr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Va(Ls,hl);var T1=function(){Ls.call(this),this.pushButton=!0};Va(T1,Ls);var Zf=function(){Ls.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Va(Zf,Ls);var l0=function(){var n,t;hl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+Vh(i(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Nr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Va(l0,hl),Zf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Zf.prototype.createOption=function(n){var t=new l0;return t.Parent=this,t.optionName=n,this.Kids.push(t),PB.call(this.scope,t),t};var N1=function(){Ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ke.CheckBox.createAppearanceStream()};Va(N1,Ls);var xh=function(){hl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,13)},set:function(t){t?this.Ff=Wi(this.Ff,13):this.Ff=Yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,21)},set:function(t){t?this.Ff=Wi(this.Ff,21):this.Ff=Yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,23)},set:function(t){t?this.Ff=Wi(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,24)},set:function(t){t?this.Ff=Wi(this.Ff,24):this.Ff=Yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,25)},set:function(t){t?this.Ff=Wi(this.Ff,25):this.Ff=Yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,26)},set:function(t){t?this.Ff=Wi(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Va(xh,hl);var C1=function(){xh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ki(this.Ff,14)},set:function(n){n?this.Ff=Wi(this.Ff,14):this.Ff=Yi(this.Ff,14)}}),this.password=!0};Va(C1,xh);var ke={CheckBox:{createAppearanceStream:function(){return{N:{On:ke.CheckBox.YesNormal},D:{On:ke.CheckBox.YesPushDown,Off:ke.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=p5(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+En(ke.internal.getWidth(n))+" "+En(ke.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+En(a.fontSize)+" Tf "+i),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Rl(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=ke.internal.getHeight(n),l=ke.internal.getWidth(n),c=p5(n,n.caption);return i.push("1 g"),i.push("0 0 "+En(l)+" "+En(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+En(l-1)+" "+En(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+En(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+En(ke.internal.getWidth(n))+" "+En(ke.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ke.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ke.RadioButton.Circle.YesNormal,t.D[n]=ke.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Rl(n);t.scope=n.scope;var e=[],r=ke.internal.getWidth(n)<=ke.internal.getHeight(n)?ke.internal.getWidth(n)/4:ke.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ke.internal.Bezier_C,a=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+mc(ke.internal.getWidth(n)/2)+" "+mc(ke.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=[],r=ke.internal.getWidth(n)<=ke.internal.getHeight(n)?ke.internal.getWidth(n)/4:ke.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ke.internal.Bezier_C).toFixed(5)),l=Number((r*ke.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mc(ke.internal.getWidth(n)/2)+" "+mc(ke.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+mc(ke.internal.getWidth(n)/2)+" "+mc(ke.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),e.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),e.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),e.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=[],r=ke.internal.getWidth(n)<=ke.internal.getHeight(n)?ke.internal.getWidth(n)/4:ke.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ke.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mc(ke.internal.getWidth(n)/2)+" "+mc(ke.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ke.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ke.RadioButton.Cross.YesNormal,t.D[n]=ke.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Rl(n);t.scope=n.scope;var e=[],r=ke.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+En(ke.internal.getWidth(n)-2)+" "+En(ke.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),e.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),e.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),e.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=ke.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+En(ke.internal.getWidth(n))+" "+En(ke.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+En(ke.internal.getWidth(n)-2)+" "+En(ke.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(En(e.x1.x)+" "+En(e.x1.y)+" m"),r.push(En(e.x2.x)+" "+En(e.x2.y)+" l"),r.push(En(e.x4.x)+" "+En(e.x4.y)+" m"),r.push(En(e.x3.x)+" "+En(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Rl(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+En(ke.internal.getWidth(n))+" "+En(ke.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ke.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ke.internal.getWidth(n),e=ke.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ke.internal.getWidth=function(n){var t=0;return Nr(n)==="object"&&(t=_A(n.Rect[2])),t},ke.internal.getHeight=function(n){var t=0;return Nr(n)==="object"&&(t=_A(n.Rect[3])),t};var PB=Oi.addField=function(n){if(DB(this,n),!(n instanceof hl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=Yf,Oi.AcroFormListBox=Qf,Oi.AcroFormComboBox=Xf,Oi.AcroFormEditBox=S1,Oi.AcroFormButton=Ls,Oi.AcroFormPushButton=T1,Oi.AcroFormRadioButton=Zf,Oi.AcroFormCheckBox=N1,Oi.AcroFormTextField=xh,Oi.AcroFormPasswordField=C1,Oi.AcroFormAppearance=ke,Oi.AcroForm={ChoiceField:Yf,ListBox:Qf,ComboBox:Xf,EditBox:S1,Button:Ls,PushButton:T1,RadioButton:Zf,CheckBox:N1,TextField:xh,PasswordField:C1,Appearance:ke},ze.AcroForm={ChoiceField:Yf,ListBox:Qf,ComboBox:Xf,EditBox:S1,Button:Ls,PushButton:T1,RadioButton:Zf,CheckBox:N1,TextField:xh,PasswordField:C1,Appearance:ke};ze.AcroForm;function lC(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(S,O){var R,at,vt,Q,ut,ct=e;if((O=O||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(wt(S))for(ut in r)for(vt=r[ut],R=0;R<vt.length;R+=1){for(Q=!0,at=0;at<vt[R].length;at+=1)if(vt[R][at]!==void 0&&vt[R][at]!==S[at]){Q=!1;break}if(Q===!0){ct=ut;break}}else for(ut in r)for(vt=r[ut],R=0;R<vt.length;R+=1){for(Q=!0,at=0;at<vt[R].length;at+=1)if(vt[R][at]!==void 0&&vt[R][at]!==S.charCodeAt(at)){Q=!1;break}if(Q===!0){ct=ut;break}}return ct===e&&O!==e&&(ct=O),ct},a=function S(O){for(var R=this.internal.write,at=this.internal.putStream,vt=(0,this.internal.getFilters)();vt.indexOf("FlateEncode")!==-1;)vt.splice(vt.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:O.width}),Q.push({key:"Height",value:O.height}),O.colorSpace===P.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===P.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var ut="",ct=0,Et=O.transparency.length;ct<Et;ct++)ut+=O.transparency[ct]+" "+O.transparency[ct]+" ";Q.push({key:"Mask",value:"["+ut+"]"})}O.sMask!==void 0&&Q.push({key:"SMask",value:O.objectId+1+" 0 R"});var W=O.filter!==void 0?["/"+O.filter]:void 0;if(at({data:O.data,additionalKeyValues:Q,alreadyAppliedFilters:W,objectId:O.objectId}),R("endobj"),"sMask"in O&&O.sMask!==void 0){var gt=(O.predictor!=null?"/Predictor "+O.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+O.width,q={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:gt,data:O.sMask};"filter"in O&&(q.filter=O.filter),S.call(this,q)}if(O.colorSpace===P.INDEXED){var z=this.internal.newObject();at({data:U(new Uint8Array(O.palette)),objectId:z}),R("endobj")}},l=function(){var S=this.internal.collections[t+"images"];for(var O in S)a.call(this,S[O])},c=function(){var S,O=this.internal.collections[t+"images"],R=this.internal.write;for(var at in O)R("/I"+(S=O[at]).index,S.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var S=this.internal.collections[t+"images"];return h.call(this),S},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},w=function(S){return typeof n["process"+S.toUpperCase()]=="function"},_=function(S){return Nr(S)==="object"&&S.nodeType===1},v=function(S,O){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var R=""+S.getAttribute("src");if(R.indexOf("data:image/")===0)return x1(unescape(R).split("base64,").pop());var at=n.loadFile(R,!0);if(at!==void 0)return at}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var vt;switch(O){case"PNG":vt="image/png";break;case"WEBP":vt="image/webp";break;default:vt="image/jpeg"}return x1(S.toDataURL(vt,1).split("base64,").pop())}},N=function(S){var O=this.internal.collections[t+"images"];if(O){for(var R in O)if(S===O[R].alias)return O[R]}},I=function(S,O,R){return S||O||(S=-96,O=-96),S<0&&(S=-1*R.width*72/S/this.internal.scaleFactor),O<0&&(O=-1*R.height*72/O/this.internal.scaleFactor),S===0&&(S=O*R.width/R.height),O===0&&(O=S*R.height/R.width),[S,O]},k=function(S,O,R,at,vt,Q){var ut=I.call(this,R,at,vt),ct=this.internal.getCoordinateString,Et=this.internal.getVerticalCoordinateString,W=f.call(this);if(R=ut[0],at=ut[1],W[vt.index]=vt,Q){Q*=Math.PI/180;var gt=Math.cos(Q),q=Math.sin(Q),z=function(lt){return lt.toFixed(4)},nt=[z(gt),z(q),z(-1*q),z(gt),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ct(S),Et(O+at),"cm"].join(" ")),this.internal.write(nt.join(" ")),this.internal.write([ct(R),"0","0",ct(at),"0","0","cm"].join(" "))):this.internal.write([ct(R),"0","0",ct(at),ct(S),Et(O+at),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+vt.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var H=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},X=n.__addimage__.sHashCode=function(S){var O,R,at=0;if(typeof S=="string")for(R=S.length,O=0;O<R;O++)at=(at<<5)-at+S.charCodeAt(O),at|=0;else if(wt(S))for(R=S.byteLength/2,O=0;O<R;O++)at=(at<<5)-at+S[O],at|=0;return at},Z=n.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var O=!0;return S.length===0&&(O=!1),S.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(O=!1),O},pt=n.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var O=S.indexOf(",");return O<0?null:S.substring(0,O).trim().endsWith("base64")?S.substring(O+1):null};n.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var wt=n.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},K=n.__addimage__.binaryStringToUint8Array=function(S){for(var O=S.length,R=new Uint8Array(O),at=0;at<O;at++)R[at]=S.charCodeAt(at);return R},U=n.__addimage__.arrayBufferToBinaryString=function(S){for(var O="",R=wt(S)?S:new Uint8Array(S),at=0;at<R.length;at+=8192)O+=String.fromCharCode.apply(null,R.subarray(at,at+8192));return O};n.addImage=function(){var S,O,R,at,vt,Q,ut,ct,Et;if(typeof arguments[1]=="number"?(O=e,R=arguments[1],at=arguments[2],vt=arguments[3],Q=arguments[4],ut=arguments[5],ct=arguments[6],Et=arguments[7]):(O=arguments[1],R=arguments[2],at=arguments[3],vt=arguments[4],Q=arguments[5],ut=arguments[6],ct=arguments[7],Et=arguments[8]),Nr(S=arguments[0])==="object"&&!_(S)&&"imageData"in S){var W=S;S=W.imageData,O=W.format||O||e,R=W.x||R||0,at=W.y||at||0,vt=W.w||W.width||vt,Q=W.h||W.height||Q,ut=W.alias||ut,ct=W.compression||ct,Et=W.rotation||W.angle||Et}var gt=this.internal.getFilters();if(ct===void 0&&gt.indexOf("FlateEncode")!==-1&&(ct="SLOW"),isNaN(R)||isNaN(at))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var q=M.call(this,S,O,ut,ct);return k.call(this,R,at,vt,Q,q,Et),this};var M=function(S,O,R,at){var vt,Q,ut;if(typeof S=="string"&&i(S)===e){S=unescape(S);var ct=G(S,!1);(ct!==""||(ct=n.loadFile(S,!0))!==void 0)&&(S=ct)}if(_(S)&&(S=v(S,O)),O=i(S,O),!w(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ut=R)==null||ut.length===0)&&(R=(function(Et){return typeof Et=="string"||wt(Et)?X(Et):wt(Et.data)?X(Et.data):null})(S)),(vt=N.call(this,R))||(S instanceof Uint8Array||O==="RGBA"||(Q=S,S=K(S)),vt=this["process"+O.toUpperCase()](S,p.call(this),R,(function(Et){return Et&&typeof Et=="string"&&(Et=Et.toUpperCase()),Et in n.image_compression?Et:H.NONE})(at),Q)),!vt)throw new Error("An unknown error occurred whilst processing the image.");return vt},G=n.__addimage__.convertBase64ToBinaryString=function(S,O){O=typeof O!="boolean"||O;var R,at="";if(typeof S=="string"){var vt;R=(vt=pt(S))!==null&&vt!==void 0?vt:S;try{at=x1(R)}catch(Q){if(O)throw Z(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return at};n.getImageProperties=function(S){var O,R,at="";if(_(S)&&(S=v(S)),typeof S=="string"&&i(S)===e&&((at=G(S,!1))===""&&(at=n.loadFile(S)||""),S=at),R=i(S),!w(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(S instanceof Uint8Array||(S=K(S)),!(O=this["process"+R.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=R,O}})(ze.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ze.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,p=!1,w=0;w<f.length&&!p;w++)switch((r=f[w]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){r=f[_];var v=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(I.objId),H=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+v(P(r.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+v(P(H))+") >>",I.content=a;var X=I.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+X,r.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(I.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var Z=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(N(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var pt=this.annotations._nameMap[r.options.name];r.options.pageNumber=pt.page,r.options.top=pt.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var wt=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+wt+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,a,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(e),y:f(r),w:h(e+i),h:f(r+a)},options:l,type:"link"})},n.textWithLink=function(e,r,i,a){var l,c,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(e,c).length;l=Math.ceil(f*p)}else c=h,l=f;return this.text(e,r,i,a),i+=.2*f,a.align==="center"&&(r-=h/2),a.align==="right"&&(r-=h),this.link(r,i-f,c,l,a),h},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(ze.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=n.__arabicParser__.isArabicEndLetter=function(I){return l(I)&&a(I)&&t[I.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(I){return l(I)&&i.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return l(I)&&a(I)&&t[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return l(I)&&a(I)&&t[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return l(I)&&a(I)&&t[I.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return l(I)&&a(I)&&t[I.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(I){var k=0,P=e,H="",X=0;for(k=0;k<I.length;k+=1)P[I.charCodeAt(k)]!==void 0?(X++,typeof(P=P[I.charCodeAt(k)])=="number"&&(H+=String.fromCharCode(P),P=e,X=0),k===I.length-1&&(P=e,H+=I.charAt(k-(X-1)),k-=X-1,X=0)):(P=e,H+=I.charAt(k-X),k-=X,X=0);return H};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(I,k,P){return l(I)?a(I)===!1?-1:!f(I)||!l(k)&&!l(P)||!l(P)&&c(k)||c(I)&&!l(k)||c(I)&&h(k)||c(I)&&c(k)?0:p(I)&&l(k)&&!c(k)&&l(P)&&f(P)?3:c(I)||!l(P)?1:2:-1},v=function(I){var k=0,P=0,H=0,X="",Z="",pt="",wt=(I=I||"").split("\\s+"),K=[];for(k=0;k<wt.length;k+=1){for(K.push(""),P=0;P<wt[k].length;P+=1)X=wt[k][P],Z=wt[k][P-1],pt=wt[k][P+1],l(X)?(H=_(X,Z,pt),K[k]+=H!==-1?String.fromCharCode(t[X.charCodeAt(0)][H]):X):K[k]+=X;K[k]=w(K[k])}return K.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var I,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(k)){var H=0;for(P=[],H=0;H<k.length;H+=1)Array.isArray(k[H])?P.push([v(k[H][0]),k[H][1],k[H][2]]):P.push([v(k[H])]);I=P}else I=v(k);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",N])})(ze.API),ze.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ze.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(I){h=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(I){N=I}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),w=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,v=0,N=0,I=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var P=f.maxWidth;P>0?typeof h=="string"?h=this.splitTextToSize(h,P):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(X,Z){return X.concat(k.splitTextToSize(Z,P))},[])):h=Array.isArray(h)?h:[h];for(var H=0;H<h.length;H++)v<(I=this.getStringUnitWidth(h[H],{font:w})*p)&&(v=I);return v!==0&&(N=h.length),{w:v/=_,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=w.top,v&&_&&(this.printHeaderRow(h.lineNumber,!0),h.y+=_[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,p,w,_){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,N,I,k,P=[],H=[],X=[],Z={},pt={},wt=[],K=[],U=(_=_||{}).autoSize||!1,M=_.printHeaders!==!1,G=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,S=_.margins||Object.assign({width:this.getPageWidth()},t),O=typeof _.padding=="number"?_.padding:3,R=_.headerBackgroundColor||"#c8c8c8",at=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=at,this.setFontSize(G),w==null)H=P=Object.keys(p[0]),X=P.map(function(){return"left"});else if(Array.isArray(w)&&Nr(w[0])==="object")for(P=w.map(function(W){return W.name}),H=w.map(function(W){return W.prompt||W.name||""}),X=w.map(function(W){return W.align||"left"}),v=0;v<w.length;v+=1)pt[w[v].name]=.7499990551181103*w[v].width;else Array.isArray(w)&&typeof w[0]=="string"&&(H=P=w,X=P.map(function(){return"left"}));if(U||Array.isArray(w)&&typeof w[0]=="string")for(v=0;v<P.length;v+=1){for(Z[k=P[v]]=p.map(function(W){return W[k]}),this.setFont(void 0,"bold"),wt.push(this.getTextDimensions(H[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=Z[k],this.setFont(void 0,"normal"),I=0;I<N.length;I+=1)wt.push(this.getTextDimensions(N[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);pt[k]=Math.max.apply(null,wt)+O+O,wt=[]}if(M){var vt={};for(v=0;v<P.length;v+=1)vt[P[v]]={},vt[P[v]].text=H[v],vt[P[v]].align=X[v];var Q=c.call(this,vt,pt);K=P.map(function(W){return new a(h,f,pt[W],Q,vt[W].text,void 0,vt[W].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ut=w.reduce(function(W,gt){return W[gt.name]=gt.align,W},{});for(v=0;v<p.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:p[v]},this);var ct=c.call(this,p[v],pt);for(I=0;I<P.length;I+=1){var Et=p[v][P[I]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:I,data:Et},this),l.call(this,new a(h,f,pt[P[I]],ct,Et,v+2,ut[P[I]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var c=function(h,f){var p=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(h).map(function(v){var N=h[v];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*w/_+p+p},this).reduce(function(v,N){return Math.max(v,N)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),e=!1}})(ze.API);var uC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m5=lC(cC),hC=[100,200,300,400,500,600,700,800,900],MB=lC(hC);function lv(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(a){return uC[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof m5[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function wA(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var jB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function xA(n){return n.trimLeft()}function qB(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function UB(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Jg,SA,TA,Lf,t1,NA,CA,RA,uv=["times"];function LA(n,t,e,r){var i=4,a=OA;switch(r){case ze.API.image_compression.FAST:i=1,a=IA;break;case ze.API.image_compression.MEDIUM:i=6,a=kA;break;case ze.API.image_compression.SLOW:i=9,a=DA}n=(function(c,h,f,p){for(var w,_=c.length/h,v=new Uint8Array(c.length+_),N=[BB,IA,OA,kA,DA],I=0;I<_;I+=1){var k=I*h,P=c.subarray(k,k+h);if(p)v.set(p(P,f,w),k+I);else{for(var H=N.length,X=[],Z=0;Z<H;Z+=1)X[Z]=N[Z](P,f,w);var pt=VB(X.concat());v.set(X[pt],k+I)}w=P}return v})(n,t,e,a);var l=l5(n,{level:i});return ze.API.__addimage__.arrayBufferToBinaryString(l)}function BB(n){var t=Array.apply([],n);return t.unshift(0),t}function IA(n,t){var e=n.length,r=[];r[0]=1;for(var i=0;i<e;i+=1){var a=n[i-t]||0;r[i+1]=n[i]-a+256&255}return r}function OA(n,t,e){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var l=e&&e[a]||0;i[a+1]=n[a]-l+256&255}return i}function kA(n,t,e){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var l=n[a-t]||0,c=e&&e[a]||0;i[a+1]=n[a]+256-(l+c>>>1)&255}return i}function DA(n,t,e){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var l=FB(n[a-t]||0,e&&e[a]||0,e&&e[a-t]||0);i[a+1]=n[a]-l+256&255}return i}function FB(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),i=Math.abs(n-e),a=Math.abs(n+t-e-e);return r<=i&&r<=a?n:i<=a?t:e}function VB(n){var t=n.map(function(e){return e.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function cv(n,t,e){var r=t*e,i=Math.floor(r/8),a=16-(r-8*i+e),l=(1<<e)-1;return fC(n,i)>>a&l}function PA(n,t,e,r){var i=e*r,a=Math.floor(i/8),l=16-(i-8*a+r),c=(1<<r)-1,h=(t&c)<<l;(function(f,p,w){if(p+1<f.byteLength)f.setUint16(p,w,!1);else{var _=w>>8&255;f.setUint8(p,_)}})(n,a,fC(n,a)&~(c<<l)&65535|h)}function fC(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function zB(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],a=i>>7,l=1<<1+(7&i);n[t++],n[t++];var c=null,h=null;a&&(c=t,h=l,t+=3*l);var f=!0,p=[],w=0,_=null,v=0,N=null;for(this.width=e,this.height=r;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,N=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[t++];w=n[t++]|n[t++]<<8,_=n[t++],1&I||(_=null),v=I>>2&7,t++;break;case 254:for(;;){if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var k=n[t++]|n[t++]<<8,P=n[t++]|n[t++]<<8,H=n[t++]|n[t++]<<8,X=n[t++]|n[t++]<<8,Z=n[t++],pt=Z>>6&1,wt=1<<1+(7&Z),K=c,U=h,M=!1;Z>>7&&(M=!0,K=t,U=wt,t+=3*wt);var G=t;for(t++;;){var S;if(!((S=n[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}p.push({x:k,y:P,width:H,height:X,has_local_palette:M,palette_offset:K,palette_size:U,data_offset:G,data_length:t-G,transparent_index:_,interlaced:!!pt,delay:w,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(O){if(O<0||O>=p.length)throw new Error("Frame index out of range.");return p[O]},this.decodeAndBlitFrameBGRA=function(O,R){var at=this.frameInfo(O),vt=at.width*at.height,Q=new Uint8Array(vt);MA(n,at.data_offset,Q,vt);var ut=at.palette_offset,ct=at.transparent_index;ct===null&&(ct=256);var Et=at.width,W=e-Et,gt=Et,q=4*(at.y*e+at.x),z=4*((at.y+at.height)*e+at.x),nt=q,lt=4*W;at.interlaced===!0&&(lt+=4*e*7);for(var mt=8,At=0,St=Q.length;At<St;++At){var Rt=Q[At];if(gt===0&&(gt=Et,(nt+=lt)>=z&&(lt=4*W+4*e*(mt-1),nt=q+(Et+W)*(mt<<1),mt>>=1)),Rt===ct)nt+=4;else{var Mt=n[ut+3*Rt],zt=n[ut+3*Rt+1],Qt=n[ut+3*Rt+2];R[nt++]=Qt,R[nt++]=zt,R[nt++]=Mt,R[nt++]=255}--gt}},this.decodeAndBlitFrameRGBA=function(O,R){var at=this.frameInfo(O),vt=at.width*at.height,Q=new Uint8Array(vt);MA(n,at.data_offset,Q,vt);var ut=at.palette_offset,ct=at.transparent_index;ct===null&&(ct=256);var Et=at.width,W=e-Et,gt=Et,q=4*(at.y*e+at.x),z=4*((at.y+at.height)*e+at.x),nt=q,lt=4*W;at.interlaced===!0&&(lt+=4*e*7);for(var mt=8,At=0,St=Q.length;At<St;++At){var Rt=Q[At];if(gt===0&&(gt=Et,(nt+=lt)>=z&&(lt=4*W+4*e*(mt-1),nt=q+(Et+W)*(mt<<1),mt>>=1)),Rt===ct)nt+=4;else{var Mt=n[ut+3*Rt],zt=n[ut+3*Rt+1],Qt=n[ut+3*Rt+2];R[nt++]=Mt,R[nt++]=zt,R[nt++]=Qt,R[nt++]=255}--gt}}}function MA(n,t,e,r){for(var i=n[t++],a=1<<i,l=a+1,c=l+1,h=i+1,f=(1<<h)-1,p=0,w=0,_=0,v=n[t++],N=new Int32Array(4096),I=null;;){for(;p<16&&v!==0;)w|=n[t++]<<p,p+=8,v===1?v=n[t++]:--v;if(p<h)break;var k=w&f;if(w>>=h,p-=h,k!==a){if(k===l)break;for(var P=k<c?k:I,H=0,X=P;X>a;)X=N[X]>>8,++H;var Z=X;if(_+H+(P!==k?1:0)>r)return void Br.log("Warning, gif stream longer than expected.");e[_++]=Z;var pt=_+=H;for(P!==k&&(e[_++]=Z),X=P;H--;)X=N[X],e[--pt]=255&X,X>>=8;I!==null&&c<4096&&(N[c++]=I<<8|Z,c>=f+1&&h<12&&(++h,f=f<<1|1)),I=k}else c=l+1,f=(1<<(h=i+1))-1,I=null}return _!==r&&Br.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hv(n){var t,e,r,i,a,l=Math.floor,c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),w=new Array(65535),_=new Array(65535),v=new Array(64),N=new Array(64),I=[],k=0,P=7,H=new Array(64),X=new Array(64),Z=new Array(64),pt=new Array(256),wt=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],at=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],vt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(q,z){for(var nt=0,lt=0,mt=new Array,At=1;At<=16;At++){for(var St=1;St<=q[At];St++)mt[z[lt]]=[],mt[z[lt]][0]=nt,mt[z[lt]][1]=At,lt++,nt++;nt*=2}return mt}function ut(q){for(var z=q[0],nt=q[1]-1;nt>=0;)z&1<<nt&&(k|=1<<P),nt--,--P<0&&(k==255?(ct(255),ct(0)):ct(k),P=7,k=0)}function ct(q){I.push(q)}function Et(q){ct(q>>8&255),ct(255&q)}function W(q,z,nt,lt,mt){for(var At,St=mt[0],Rt=mt[240],Mt=(function(ee,de){var ue,Ge,ge,Ye,Pe,oe,pe,se,ce,ve,Ne=0;for(ce=0;ce<8;++ce){ue=ee[Ne],Ge=ee[Ne+1],ge=ee[Ne+2],Ye=ee[Ne+3],Pe=ee[Ne+4],oe=ee[Ne+5],pe=ee[Ne+6];var Rn=ue+(se=ee[Ne+7]),xn=ue-se,ye=Ge+pe,Me=Ge-pe,Ln=ge+oe,Re=ge-oe,tn=Ye+Pe,qe=Ye-Pe,Jn=Rn+tn,Qn=Rn-tn,gn=ye+Ln,He=ye-Ln;ee[Ne]=Jn+gn,ee[Ne+4]=Jn-gn;var en=.707106781*(He+Qn);ee[Ne+2]=Qn+en,ee[Ne+6]=Qn-en;var us=.382683433*((Jn=qe+Re)-(He=Me+xn)),pr=.5411961*Jn+us,Si=1.306562965*He+us,Cr=.707106781*(gn=Re+Me),Be=xn+Cr,_n=xn-Cr;ee[Ne+5]=_n+pr,ee[Ne+3]=_n-pr,ee[Ne+1]=Be+Si,ee[Ne+7]=Be-Si,Ne+=8}for(Ne=0,ce=0;ce<8;++ce){ue=ee[Ne],Ge=ee[Ne+8],ge=ee[Ne+16],Ye=ee[Ne+24],Pe=ee[Ne+32],oe=ee[Ne+40],pe=ee[Ne+48];var ir=ue+(se=ee[Ne+56]),Un=ue-se,wr=Ge+pe,sr=Ge-pe,Rr=ge+oe,wn=ge-oe,Js=Ye+Pe,Qi=Ye-Pe,ri=ir+Js,ii=ir-Js,Fr=wr+Rr,In=wr-Rr;ee[Ne]=ri+Fr,ee[Ne+32]=ri-Fr;var hr=.707106781*(In+ii);ee[Ne+16]=ii+hr,ee[Ne+48]=ii-hr;var ar=.382683433*((ri=Qi+wn)-(In=sr+Un)),Xi=.5411961*ri+ar,bs=1.306562965*In+ar,Ti=.707106781*(Fr=wn+sr),mr=Un+Ti,fa=Un-Ti;ee[Ne+40]=fa+Xi,ee[Ne+24]=fa-Xi,ee[Ne+8]=mr+bs,ee[Ne+56]=mr-bs,Ne++}for(ce=0;ce<64;++ce)ve=ee[ce]*de[ce],v[ce]=ve>0?ve+.5|0:ve-.5|0;return v})(q,z),zt=0;zt<64;++zt)N[K[zt]]=Mt[zt];var Qt=N[0]-nt;nt=N[0],Qt==0?ut(lt[0]):(ut(lt[_[At=32767+Qt]]),ut(w[At]));for(var Bt=63;Bt>0&&N[Bt]==0;)Bt--;if(Bt==0)return ut(St),nt;for(var Nt,st=1;st<=Bt;){for(var we=st;N[st]==0&&st<=Bt;)++st;var he=st-we;if(he>=16){Nt=he>>4;for(var xe=1;xe<=Nt;++xe)ut(Rt);he&=15}At=32767+N[st],ut(mt[(he<<4)+_[At]]),ut(w[At]),st++}return Bt!=63&&ut(St),nt}function gt(q){q=Math.min(Math.max(q,1),100),a!=q&&((function(z){for(var nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var mt=l((nt[lt]*z+50)/100);mt=Math.min(Math.max(mt,1),255),c[K[lt]]=mt}for(var At=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],St=0;St<64;St++){var Rt=l((At[St]*z+50)/100);Rt=Math.min(Math.max(Rt,1),255),h[K[St]]=Rt}for(var Mt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],zt=0,Qt=0;Qt<8;Qt++)for(var Bt=0;Bt<8;Bt++)f[zt]=1/(c[K[zt]]*Mt[Qt]*Mt[Bt]*8),p[zt]=1/(h[K[zt]]*Mt[Qt]*Mt[Bt]*8),zt++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,z){z&&gt(z),I=new Array,k=0,P=7,Et(65496),Et(65504),Et(16),ct(74),ct(70),ct(73),ct(70),ct(0),ct(1),ct(1),ct(0),Et(1),Et(1),ct(0),ct(0),(function(){Et(65499),Et(132),ct(0);for(var Ge=0;Ge<64;Ge++)ct(c[Ge]);ct(1);for(var ge=0;ge<64;ge++)ct(h[ge])})(),(function(Ge,ge){Et(65472),Et(17),ct(8),Et(ge),Et(Ge),ct(3),ct(1),ct(17),ct(0),ct(2),ct(17),ct(1),ct(3),ct(17),ct(1)})(q.width,q.height),(function(){Et(65476),Et(418),ct(0);for(var Ge=0;Ge<16;Ge++)ct(U[Ge+1]);for(var ge=0;ge<=11;ge++)ct(M[ge]);ct(16);for(var Ye=0;Ye<16;Ye++)ct(G[Ye+1]);for(var Pe=0;Pe<=161;Pe++)ct(S[Pe]);ct(1);for(var oe=0;oe<16;oe++)ct(O[oe+1]);for(var pe=0;pe<=11;pe++)ct(R[pe]);ct(17);for(var se=0;se<16;se++)ct(at[se+1]);for(var ce=0;ce<=161;ce++)ct(vt[ce])})(),Et(65498),Et(12),ct(3),ct(1),ct(0),ct(2),ct(17),ct(3),ct(17),ct(0),ct(63),ct(0);var nt=0,lt=0,mt=0;k=0,P=7,this.encode.displayName="_encode_";for(var At,St,Rt,Mt,zt,Qt,Bt,Nt,st,we=q.data,he=q.width,xe=q.height,ee=4*he,de=0;de<xe;){for(At=0;At<ee;){for(zt=ee*de+At,Bt=-1,Nt=0,st=0;st<64;st++)Qt=zt+(Nt=st>>3)*ee+(Bt=4*(7&st)),de+Nt>=xe&&(Qt-=ee*(de+1+Nt-xe)),At+Bt>=ee&&(Qt-=At+Bt-ee+4),St=we[Qt++],Rt=we[Qt++],Mt=we[Qt++],H[st]=(wt[St]+wt[Rt+256|0]+wt[Mt+512|0]>>16)-128,X[st]=(wt[St+768|0]+wt[Rt+1024|0]+wt[Mt+1280|0]>>16)-128,Z[st]=(wt[St+1280|0]+wt[Rt+1536|0]+wt[Mt+1792|0]>>16)-128;nt=W(H,f,nt,t,r),lt=W(X,p,lt,e,i),mt=W(Z,p,mt,e,i),At+=32}de+=8}if(P>=0){var ue=[];ue[1]=P+1,ue[0]=(1<<P+1)-1,ut(ue)}return Et(65497),new Uint8Array(I)},n=n||50,(function(){for(var q=String.fromCharCode,z=0;z<256;z++)pt[z]=q(z)})(),t=Q(U,M),e=Q(O,R),r=Q(G,S),i=Q(at,vt),(function(){for(var q=1,z=2,nt=1;nt<=15;nt++){for(var lt=q;lt<z;lt++)_[32767+lt]=nt,w[32767+lt]=[],w[32767+lt][1]=nt,w[32767+lt][0]=lt;for(var mt=-(z-1);mt<=-q;mt++)_[32767+mt]=nt,w[32767+mt]=[],w[32767+mt][1]=nt,w[32767+mt][0]=z-1+mt;q<<=1,z<<=1}})(),(function(){for(var q=0;q<256;q++)wt[q]=19595*q,wt[q+256|0]=38470*q,wt[q+512|0]=7471*q+32768,wt[q+768|0]=-11059*q,wt[q+1024|0]=-21709*q,wt[q+1280|0]=32768*q+8421375,wt[q+1536|0]=-27439*q,wt[q+1792|0]=-5329*q})(),gt(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jA(n){function t(M){if(!M)throw Error("assert :P")}function e(M,G,S){for(var O=0;4>O;O++)if(M[G+O]!=S.charCodeAt(O))return!0;return!1}function r(M,G,S,O,R){for(var at=0;at<R;at++)M[G+at]=S[O+at]}function i(M,G,S,O){for(var R=0;R<O;R++)M[G+R]=S}function a(M){return new Int32Array(M)}function l(M,G){for(var S=[],O=0;O<M;O++)S.push(new G);return S}function c(M,G){var S=[];return(function O(R,at,vt){for(var Q=vt[at],ut=0;ut<Q&&(R.push(vt.length>at+1?[]:new G),!(vt.length<at+1));ut++)O(R[ut],at+1,vt)})(S,0,M),S}var h=function(){var M=this;function G(m,b){for(var T=1<<b-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function S(m,b,T,D,V){t(!(D%T));do m[b+(D-=T)]=V;while(0<D)}function O(m,b,T,D,V){if(t(2328>=V),512>=V)var $=a(512);else if(($=a(V))==null)return 0;return(function(J,rt,ot,dt,xt,jt){var ft,Ct,kt=rt,$t=1<<ot,Pt=a(16),Wt=a(16);for(t(xt!=0),t(dt!=null),t(J!=null),t(0<ot),Ct=0;Ct<xt;++Ct){if(15<dt[Ct])return 0;++Pt[dt[Ct]]}if(Pt[0]==xt)return 0;for(Wt[1]=0,ft=1;15>ft;++ft){if(Pt[ft]>1<<ft)return 0;Wt[ft+1]=Wt[ft]+Pt[ft]}for(Ct=0;Ct<xt;++Ct)ft=dt[Ct],0<dt[Ct]&&(jt[Wt[ft]++]=Ct);if(Wt[15]==1)return(dt=new R).g=0,dt.value=jt[0],S(J,kt,1,$t,dt),$t;var Kt,ae=-1,ne=$t-1,je=0,Ae=1,un=1,Te=1<<ot;for(Ct=0,ft=1,xt=2;ft<=ot;++ft,xt<<=1){if(Ae+=un<<=1,0>(un-=Pt[ft]))return 0;for(;0<Pt[ft];--Pt[ft])(dt=new R).g=ft,dt.value=jt[Ct++],S(J,kt+je,xt,Te,dt),je=G(je,ft)}for(ft=ot+1,xt=2;15>=ft;++ft,xt<<=1){if(Ae+=un<<=1,0>(un-=Pt[ft]))return 0;for(;0<Pt[ft];--Pt[ft]){if(dt=new R,(je&ne)!=ae){for(kt+=Te,Kt=1<<(ae=ft)-ot;15>ae&&!(0>=(Kt-=Pt[ae]));)++ae,Kt<<=1;$t+=Te=1<<(Kt=ae-ot),J[rt+(ae=je&ne)].g=Kt+ot,J[rt+ae].value=kt-rt-ae}dt.g=ft-ot,dt.value=jt[Ct++],S(J,kt+(je>>ot),xt,Te,dt),je=G(je,ft)}}return Ae!=2*Wt[15]-1?0:$t})(m,b,T,D,V,$)}function R(){this.value=this.g=0}function at(){this.value=this.g=0}function vt(){this.G=l(5,R),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ia,at)}function Q(m,b,T,D){t(m!=null),t(b!=null),t(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=T,m.Jd=b,m.Yc=T+D,m.Zc=4<=D?T+D-4+1:T,St(m)}function ut(m,b){for(var T=0;0<b--;)T|=Mt(m,128)<<b;return T}function ct(m,b){var T=ut(m,b);return Rt(m)?-T:T}function Et(m,b,T,D){var V,$=0;for(t(m!=null),t(b!=null),t(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),V=0;V<D;++V)$+=b[T+V]<<8*V;m.Ra=$,m.bb=D,m.oa=b,m.pa=T}function W(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Mo-8>>>0,++m.bb,m.u-=8;lt(m)&&(m.h=1,m.u=0)}function gt(m,b){if(t(0<=b),!m.h&&b<=Uu){var T=nt(m)&lo[b];return m.u+=b,W(m),T}return m.h=1,m.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function nt(m){return m.Ra>>>(m.u&Mo-1)>>>0}function lt(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Mo}function mt(m,b){m.u=b,m.h=lt(m)}function At(m){m.u>=oi&&(t(m.u>=oi),W(m))}function St(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Rt(m){return ut(m,1)}function Mt(m,b){var T=m.Ca;0>m.b&&St(m);var D=m.b,V=T*b>>>8,$=(m.I>>>D>V)+0;for($?(T-=V,m.I-=V+1<<D>>>0):T=V+1,D=T,V=0;256<=D;)V+=8,D>>=8;return D=7^V+Nd[D],m.b-=D,m.Ca=(T<<D)-1,$}function zt(m,b,T){m[b+0]=T>>24&255,m[b+1]=T>>16&255,m[b+2]=T>>8&255,m[b+3]=255&T}function Qt(m,b){return m[b+0]|m[b+1]<<8}function Bt(m,b){return Qt(m,b)|m[b+2]<<16}function Nt(m,b){return Qt(m,b)|Qt(m,b+2)<<16}function st(m,b){var T=1<<b;return t(m!=null),t(0<b),m.X=a(T),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function we(m,b){t(m!=null),t(b!=null),t(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function xe(m,b,T,D){t(T!=null),t(D!=null);var V=T[0],$=D[0];return V==0&&(V=(m*$+b/2)/b),$==0&&($=(b*V+m/2)/m),0>=V||0>=$?0:(T[0]=V,D[0]=$,1)}function ee(m,b){return m+(1<<b)-1>>>b}function de(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function ue(m,b){M[b]=function(T,D,V,$,J,rt,ot){var dt;for(dt=0;dt<J;++dt){var xt=M[m](rt[ot+dt-1],V,$+dt);rt[ot+dt]=de(T[D+dt],xt)}}}function Ge(){this.ud=this.hd=this.jd=0}function ge(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Ye(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Pe(m,b){return Ye(m+(m-b+.5>>1))}function oe(m,b,T){return Math.abs(b-T)-Math.abs(m-T)}function pe(m,b,T,D,V,$,J){for(D=$[J-1],T=0;T<V;++T)$[J+T]=D=de(m[b+T],D)}function se(m,b,T,D,V){var $;for($=0;$<T;++$){var J=m[b+$],rt=J>>8&255,ot=16711935&(ot=(ot=16711935&J)+((rt<<16)+rt));D[V+$]=(4278255360&J)+ot>>>0}}function ce(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function ve(m,b,T,D,V,$){var J;for(J=0;J<D;++J){var rt=b[T+J],ot=rt>>>8,dt=rt,xt=255&(xt=(xt=rt>>>16)+((m.jd<<24>>24)*(ot<<24>>24)>>>5));dt=255&(dt=(dt+=(m.hd<<24>>24)*(ot<<24>>24)>>>5)+((m.ud<<24>>24)*(xt<<24>>24)>>>5)),V[$+J]=(4278255360&rt)+(xt<<16)+dt}}function Ne(m,b,T,D,V){M[b]=function($,J,rt,ot,dt,xt,jt,ft,Ct){for(ot=jt;ot<ft;++ot)for(jt=0;jt<Ct;++jt)dt[xt++]=V(rt[D($[J++])])},M[m]=function($,J,rt,ot,dt,xt,jt){var ft=8>>$.b,Ct=$.Ea,kt=$.K[0],$t=$.w;if(8>ft)for($=(1<<$.b)-1,$t=(1<<ft)-1;J<rt;++J){var Pt,Wt=0;for(Pt=0;Pt<Ct;++Pt)Pt&$||(Wt=D(ot[dt++])),xt[jt++]=V(kt[Wt&$t]),Wt>>=ft}else M["VP8LMapColor"+T](ot,dt,kt,$t,xt,jt,J,rt,Ct)}}function Rn(m,b,T,D,V){for(T=b+T;b<T;){var $=m[b++];D[V++]=$>>16&255,D[V++]=$>>8&255,D[V++]=255&$}}function xn(m,b,T,D,V){for(T=b+T;b<T;){var $=m[b++];D[V++]=$>>16&255,D[V++]=$>>8&255,D[V++]=255&$,D[V++]=$>>24&255}}function ye(m,b,T,D,V){for(T=b+T;b<T;){var $=(J=m[b++])>>16&240|J>>12&15,J=240&J|J>>28&15;D[V++]=$,D[V++]=J}}function Me(m,b,T,D,V){for(T=b+T;b<T;){var $=(J=m[b++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;D[V++]=$,D[V++]=J}}function Ln(m,b,T,D,V){for(T=b+T;b<T;){var $=m[b++];D[V++]=255&$,D[V++]=$>>8&255,D[V++]=$>>16&255}}function Re(m,b,T,D,V,$){if($==0)for(T=b+T;b<T;)zt(D,(($=m[b++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),V+=32;else r(D,V,m,b,T)}function tn(m,b){M[b][0]=M[m+"0"],M[b][1]=M[m+"1"],M[b][2]=M[m+"2"],M[b][3]=M[m+"3"],M[b][4]=M[m+"4"],M[b][5]=M[m+"5"],M[b][6]=M[m+"6"],M[b][7]=M[m+"7"],M[b][8]=M[m+"8"],M[b][9]=M[m+"9"],M[b][10]=M[m+"10"],M[b][11]=M[m+"11"],M[b][12]=M[m+"12"],M[b][13]=M[m+"13"],M[b][14]=M[m+"0"],M[b][15]=M[m+"0"]}function qe(m){return m==th||m==_l||m==qo||m==Hu}function Jn(){this.eb=[],this.size=this.A=this.fb=0}function Qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jn,this.f.kb=new Qn,this.sd=null}function He(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function us(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function pr(m,b){var T=m.T,D=b.ba.f.RGBA,V=D.eb,$=D.fb+m.ka*D.A,J=ss[b.ba.S],rt=m.y,ot=m.O,dt=m.f,xt=m.N,jt=m.ea,ft=m.W,Ct=b.cc,kt=b.dc,$t=b.Mc,Pt=b.Nc,Wt=m.ka,Kt=m.ka+m.T,ae=m.U,ne=ae+1>>1;for(Wt==0?J(rt,ot,null,null,dt,xt,jt,ft,dt,xt,jt,ft,V,$,null,null,ae):(J(b.ec,b.fc,rt,ot,Ct,kt,$t,Pt,dt,xt,jt,ft,V,$-D.A,V,$,ae),++T);Wt+2<Kt;Wt+=2)Ct=dt,kt=xt,$t=jt,Pt=ft,xt+=m.Rc,ft+=m.Rc,$+=2*D.A,J(rt,(ot+=2*m.fa)-m.fa,rt,ot,Ct,kt,$t,Pt,dt,xt,jt,ft,V,$-D.A,V,$,ae);return ot+=m.fa,m.j+Kt<m.o?(r(b.ec,b.fc,rt,ot,ae),r(b.cc,b.dc,dt,xt,ne),r(b.Mc,b.Nc,jt,ft,ne),T--):1&Kt||J(rt,ot,null,null,dt,xt,jt,ft,dt,xt,jt,ft,V,$+D.A,null,null,ae),T}function Si(m,b,T){var D=m.F,V=[m.J];if(D!=null){var $=m.U,J=b.ba.S,rt=J==Ql||J==qo;b=b.ba.f.RGBA;var ot=[0],dt=m.ka;ot[0]=m.T,m.Kb&&(dt==0?--ot[0]:(--dt,V[0]-=m.width),m.j+m.ka+m.T==m.o&&(ot[0]=m.o-m.j-dt));var xt=b.eb;dt=b.fb+dt*b.A,m=ba(D,V[0],m.width,$,ot,xt,dt+(rt?0:3),b.A),t(T==ot),m&&qe(J)&&Vu(xt,dt,rt,$,ot,b.A)}return 0}function Cr(m){var b=m.ma,T=b.ba.S,D=11>T,V=T==zu||T==Jc||T==Ql||T==jo||T==12||qe(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!ps(b.Oa,m,V?11:12))return 0;if(V&&qe(T)&&ml(),m.da)alert("todo:use_scaling");else{if(D){if(b.Ib=us,m.Kb){if(T=m.U+1>>1,b.memory=a(m.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=pr,ml()}}else alert("todo:EmitYUV");V&&(b.Jb=Si,D&&vi())}if(D&&!zm){for(m=0;256>m;++m)u2[m]=89858*(m-128)+Bi>>_o,rh[m]=-22014*(m-128)+Bi,Pd[m]=-45773*(m-128),Fi[m]=113618*(m-128)+Bi>>_o;for(m=Al;m<sf;++m)b=76283*(m-16)+Bi>>_o,ih[m-Al]=Mn(b,255),Md[m-Al]=Mn(b+8>>4,15);zm=1}return 1}function Be(m){var b=m.ma,T=m.U,D=m.T;return t(!(1&m.ka)),0>=T||0>=D?0:(T=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,T),b.Dc+=T,1)}function _n(m){m.ma.memory=null}function ir(m,b,T,D){return gt(m,8)!=47?0:(b[0]=gt(m,14)+1,T[0]=gt(m,14)+1,D[0]=gt(m,1),gt(m,3)!=0?0:!m.h)}function Un(m,b){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+gt(b,T)+1}function wr(m,b){return 120<b?b-120:1<=(T=((T=Bo[b-1])>>4)*m+(8-(15&T)))?T:1;var T}function sr(m,b,T){var D=nt(T),V=m[b+=255&D].g-8;return 0<V&&(mt(T,T.u+8),D=nt(T),b+=m[b].value,b+=D&(1<<V)-1),mt(T,T.u+m[b].g),m[b].value}function Rr(m,b,T){return T.g+=m.g,T.value+=m.value<<b>>>0,t(8>=T.g),m.g}function wn(m,b,T){var D=m.xc;return t((b=D==0?0:m.vc[m.md*(T>>D)+(b>>D)])<m.Wb),m.Ya[b]}function Js(m,b,T,D){var V=m.ab,$=m.c*b,J=m.C;b=J+b;var rt=T,ot=D;for(D=m.Ta,T=m.Ua;0<V--;){var dt=m.gc[V],xt=J,jt=b,ft=rt,Ct=ot,kt=(ot=D,rt=T,dt.Ea);switch(t(xt<jt),t(jt<=dt.nc),dt.hc){case 2:Bu(ft,Ct,(jt-xt)*kt,ot,rt);break;case 0:var $t=xt,Pt=jt,Wt=ot,Kt=rt,ae=(Te=dt).Ea;$t==0&&(uo(ft,Ct,null,null,1,Wt,Kt),pe(ft,Ct+1,0,0,ae-1,Wt,Kt+1),Ct+=ae,Kt+=ae,++$t);for(var ne=1<<Te.b,je=ne-1,Ae=ee(ae,Te.b),un=Te.K,Te=Te.w+($t>>Te.b)*Ae;$t<Pt;){var jn=un,Li=Te,an=1;for(co(ft,Ct,Wt,Kt-ae,1,Wt,Kt);an<ae;){var Ce=(an&~je)+ne;Ce>ae&&(Ce=ae),(0,vl[jn[Li++]>>8&15])(ft,Ct+ +an,Wt,Kt+an-ae,Ce-an,Wt,Kt+an),an=Ce}Ct+=ae,Kt+=ae,++$t&je||(Te+=Ae)}jt!=dt.nc&&r(ot,rt-kt,ot,rt+(jt-xt-1)*kt,kt);break;case 1:for(kt=ft,Pt=Ct,ae=(ft=dt.Ea)-(Kt=ft&~(Wt=(Ct=1<<dt.b)-1)),$t=ee(ft,dt.b),ne=dt.K,dt=dt.w+(xt>>dt.b)*$t;xt<jt;){for(je=ne,Ae=dt,un=new Ge,Te=Pt+Kt,jn=Pt+ft;Pt<Te;)ce(je[Ae++],un),fo(un,kt,Pt,Ct,ot,rt),Pt+=Ct,rt+=Ct;Pt<jn&&(ce(je[Ae++],un),fo(un,kt,Pt,ae,ot,rt),Pt+=ae,rt+=ae),++xt&Wt||(dt+=$t)}break;case 3:if(ft==ot&&Ct==rt&&0<dt.b){for(Pt=ot,ft=kt=rt+(jt-xt)*kt-(Kt=(jt-xt)*ee(dt.Ea,dt.b)),Ct=ot,Wt=rt,$t=[],Kt=(ae=Kt)-1;0<=Kt;--Kt)$t[Kt]=Ct[Wt+Kt];for(Kt=ae-1;0<=Kt;--Kt)Pt[ft+Kt]=$t[Kt];Qc(dt,xt,jt,ot,kt,ot,rt)}else Qc(dt,xt,jt,ft,Ct,ot,rt)}rt=D,ot=T}ot!=T&&r(D,T,rt,ot,$)}function Qi(m,b){var T=m.V,D=m.Ba+m.c*m.C,V=b-m.C;if(t(b<=m.l.o),t(16>=V),0<V){var $=m.l,J=m.Ta,rt=m.Ua,ot=$.width;if(Js(m,V,T,D),V=rt=[rt],t((T=m.C)<(D=b)),t($.v<$.va),D>$.o&&(D=$.o),T<$.j){var dt=$.j-T;T=$.j,V[0]+=dt*ot}if(T>=D?T=0:(V[0]+=4*$.v,$.ka=T-$.j,$.U=$.va-$.v,$.T=D-T,T=1),T){if(rt=rt[0],11>(T=m.ca).S){var xt=T.f.RGBA,jt=(D=T.S,V=$.U,$=$.T,dt=xt.eb,xt.A),ft=$;for(xt=xt.fb+m.Ma*xt.A;0<ft--;){var Ct=J,kt=rt,$t=V,Pt=dt,Wt=xt;switch(D){case xs:Fu(Ct,kt,$t,Pt,Wt);break;case zu:Us(Ct,kt,$t,Pt,Wt);break;case th:Us(Ct,kt,$t,Pt,Wt),Vu(Pt,Wt,0,$t,1,0);break;case go:br(Ct,kt,$t,Pt,Wt);break;case Jc:Re(Ct,kt,$t,Pt,Wt,1);break;case _l:Re(Ct,kt,$t,Pt,Wt,1),Vu(Pt,Wt,0,$t,1,0);break;case Ql:Re(Ct,kt,$t,Pt,Wt,0);break;case qo:Re(Ct,kt,$t,Pt,Wt,0),Vu(Pt,Wt,1,$t,1,0);break;case jo:po(Ct,kt,$t,Pt,Wt);break;case Hu:po(Ct,kt,$t,Pt,Wt),va(Pt,Wt,$t,1,0);break;case Jh:ur(Ct,kt,$t,Pt,Wt);break;default:t(0)}rt+=ot,xt+=jt}m.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=T.height)}}m.C=b,t(m.C<=m.i)}function ri(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var T=m.Ya[b].G,D=m.Ya[b].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function ii(m,b,T,D,V,$){if(m.Z!=0){var J=m.qd,rt=m.rd;for(t(vo[m.Z]!=null);b<T;++b)vo[m.Z](J,rt,D,V,D,V,$),J=D,rt=V,V+=$;m.qd=J,m.rd=rt}}function Fr(m,b){var T=m.l.ma,D=T.Z==0||T.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,t(b<=m.l.o),b>D){var V=m.l.width,$=T.ca,J=T.tb+V*D,rt=m.V,ot=m.Ba+m.c*D,dt=m.gc;t(m.ab==1),t(dt[0].hc==3),ho(dt[0],D,b,rt,ot,$,J),ii(T,D,b,$,J,V)}m.C=m.Ma=b}function In(m,b,T,D,V,$,J){var rt=m.$/D,ot=m.$%D,dt=m.m,xt=m.s,jt=T+m.$,ft=jt;V=T+D*V;var Ct=T+D*$,kt=280+xt.ua,$t=m.Pb?rt:16777216,Pt=0<xt.ua?xt.Wa:null,Wt=xt.wc,Kt=jt<Ct?wn(xt,ot,rt):null;t(m.C<$),t(Ct<=V);var ae=!1;t:for(;;){for(;ae||jt<Ct;){var ne=0;if(rt>=$t){var je=jt-T;t(($t=m).Pb),$t.wd=$t.m,$t.xd=je,0<$t.s.ua&&we($t.s.Wa,$t.s.vb),$t=rt+Bm}if(ot&Wt||(Kt=wn(xt,ot,rt)),t(Kt!=null),Kt.Qb&&(b[jt]=Kt.qb,ae=!0),!ae)if(At(dt),Kt.jc){ne=dt,je=b;var Ae=jt,un=Kt.pd[nt(ne)&Ia-1];t(Kt.jc),256>un.g?(mt(ne,ne.u+un.g),je[Ae]=un.value,ne=0):(mt(ne,ne.u+un.g-256),t(256<=un.value),ne=un.value),ne==0&&(ae=!0)}else ne=sr(Kt.G[0],Kt.H[0],dt);if(dt.h)break;if(ae||256>ne){if(!ae)if(Kt.nd)b[jt]=(Kt.qb|ne<<8)>>>0;else{if(At(dt),ae=sr(Kt.G[1],Kt.H[1],dt),At(dt),je=sr(Kt.G[2],Kt.H[2],dt),Ae=sr(Kt.G[3],Kt.H[3],dt),dt.h)break;b[jt]=(Ae<<24|ae<<16|ne<<8|je)>>>0}if(ae=!1,++jt,++ot>=D&&(ot=0,++rt,J!=null&&rt<=$&&!(rt%16)&&J(m,rt),Pt!=null))for(;ft<jt;)ne=b[ft++],Pt.X[(506832829*ne&4294967295)>>>Pt.Mb]=ne}else if(280>ne){if(ne=Un(ne-256,dt),je=sr(Kt.G[4],Kt.H[4],dt),At(dt),je=wr(D,je=Un(je,dt)),dt.h)break;if(jt-T<je||V-jt<ne)break t;for(Ae=0;Ae<ne;++Ae)b[jt+Ae]=b[jt+Ae-je];for(jt+=ne,ot+=ne;ot>=D;)ot-=D,++rt,J!=null&&rt<=$&&!(rt%16)&&J(m,rt);if(t(jt<=V),ot&Wt&&(Kt=wn(xt,ot,rt)),Pt!=null)for(;ft<jt;)ne=b[ft++],Pt.X[(506832829*ne&4294967295)>>>Pt.Mb]=ne}else{if(!(ne<kt))break t;for(ae=ne-280,t(Pt!=null);ft<jt;)ne=b[ft++],Pt.X[(506832829*ne&4294967295)>>>Pt.Mb]=ne;ne=jt,t(!(ae>>>(je=Pt).Xa)),b[ne]=je.X[ae],ae=!0}ae||t(dt.h==lt(dt))}if(m.Pb&&dt.h&&jt<V)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&we(m.s.vb,m.s.Wa);else{if(dt.h)break t;J?.(m,rt>$?$:rt),m.a=0,m.$=jt-T}return 1}return m.a=3,0}function hr(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,t(m!=null)}function ar(){var m=new Ir;return m==null?null:(m.a=0,m.xb=$u,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),Bu=se,fo=ve,Fu=Rn,Us=xn,po=ye,ur=Me,br=Ln,M.VP8LMapColor32b=rs,M.VP8LMapColor8b=yl,m)}function Xi(m,b,T,D,V){var $=1,J=[m],rt=[b],ot=D.m,dt=D.s,xt=null,jt=0;t:for(;;){if(T)for(;$&&gt(ot,1);){var ft=J,Ct=rt,kt=D,$t=1,Pt=kt.m,Wt=kt.gc[kt.ab],Kt=gt(Pt,2);if(kt.Oc&1<<Kt)$=0;else{switch(kt.Oc|=1<<Kt,Wt.hc=Kt,Wt.Ea=ft[0],Wt.nc=Ct[0],Wt.K=[null],++kt.ab,t(4>=kt.ab),Kt){case 0:case 1:Wt.b=gt(Pt,3)+2,$t=Xi(ee(Wt.Ea,Wt.b),ee(Wt.nc,Wt.b),0,kt,Wt.K),Wt.K=Wt.K[0];break;case 3:var ae,ne=gt(Pt,8)+1,je=16<ne?0:4<ne?1:2<ne?2:3;if(ft[0]=ee(Wt.Ea,je),Wt.b=je,ae=$t=Xi(ne,1,0,kt,Wt.K)){var Ae,un=ne,Te=Wt,jn=1<<(8>>Te.b),Li=a(jn);if(Li==null)ae=0;else{var an=Te.K[0],Ce=Te.w;for(Li[0]=Te.K[0][0],Ae=1;Ae<1*un;++Ae)Li[Ae]=de(an[Ce+Ae],Li[Ae-1]);for(;Ae<4*jn;++Ae)Li[Ae]=0;Te.K[0]=null,Te.K[0]=Li,ae=1}}$t=ae;break;case 2:break;default:t(0)}$=$t}}if(J=J[0],rt=rt[0],$&&gt(ot,1)&&!($=1<=(jt=gt(ot,4))&&11>=jt)){D.a=3;break t}var fe;if(fe=$)e:{var Zr,cn,Tn,Le=D,pn=J,$n=rt,qr=jt,_i=T,wi=Le.m,ui=Le.s,Pn=[null],Gn=1,ci=0,Xe=Zl[qr];n:for(;;){if(_i&&gt(wi,1)){var Vi=gt(wi,3)+2,Ea=ee(pn,Vi),hi=ee($n,Vi),Vs=Ea*hi;if(!Xi(Ea,hi,0,Le,Pn))break n;for(Pn=Pn[0],ui.xc=Vi,Zr=0;Zr<Vs;++Zr){var Ar=Pn[Zr]>>8&65535;Pn[Zr]=Ar,Ar>=Gn&&(Gn=Ar+1)}}if(wi.h)break n;for(cn=0;5>cn;++cn){var Ei=_a[cn];!cn&&0<qr&&(Ei+=1<<qr),ci<Ei&&(ci=Ei)}var zs=l(Gn*Xe,R),ms=Gn,Or=l(ms,vt);if(Or==null)var tr=null;else t(65536>=ms),tr=Or;var Ss=a(ci);if(tr==null||Ss==null||zs==null){Le.a=1;break n}var gs=zs;for(Zr=Tn=0;Zr<Gn;++Zr){var gr=tr[Zr],Hs=gr.G,zi=gr.H,wo=0,Ka=1,Hi=0;for(cn=0;5>cn;++cn){Ei=_a[cn],Hs[cn]=gs,zi[cn]=Tn,!cn&&0<qr&&(Ei+=1<<qr);i:{var sh,af=Ei,ah=Le,Ku=Ss,Gm=gs,Km=Tn,oh=0,Ho=ah.m,h2=gt(Ho,1);if(i(Ku,0,0,af),h2){var Wm=gt(Ho,1)+1,Ym=gt(Ho,1),jd=gt(Ho,Ym==0?1:8);Ku[jd]=1,Wm==2&&(Ku[jd=gt(Ho,8)]=1);var Wu=1}else{var qd=a(19),Ud=gt(Ho,4)+4;if(19<Ud){ah.a=3;var lh=0;break i}for(sh=0;sh<Ud;++sh)qd[Uo[sh]]=gt(Ho,3);var of=void 0,Yu=void 0,Qm=ah,Xm=qd,$o=af,uh=Ku,lf=0,Wa=Qm.m,Qu=8,Bd=l(128,R);r:for(;O(Bd,0,7,Xm,19);){if(gt(Wa,1)){var Zm=2+2*gt(Wa,3);if((of=2+gt(Wa,Zm))>$o)break r}else of=$o;for(Yu=0;Yu<$o&&of--;){At(Wa);var Fd=Bd[0+(127&nt(Wa))];mt(Wa,Wa.u+Fd.g);var eu=Fd.value;if(16>eu)uh[Yu++]=eu,eu!=0&&(Qu=eu);else{var Jm=eu==16,Vd=eu-16,zd=Pa[Vd],Hd=gt(Wa,tf[Vd])+zd;if(Yu+Hd>$o)break r;for(var tg=Jm?Qu:0;0<Hd--;)uh[Yu++]=tg}}lf=1;break r}lf||(Qm.a=3),Wu=lf}(Wu=Wu&&!Ho.h)&&(oh=O(Gm,Km,8,Ku,af)),Wu&&oh!=0?lh=oh:(ah.a=3,lh=0)}if(lh==0)break n;if(Ka&&Xl[cn]==1&&(Ka=gs[Tn].g==0),wo+=gs[Tn].g,Tn+=lh,3>=cn){var nu,uf=Ss[0];for(nu=1;nu<Ei;++nu)Ss[nu]>uf&&(uf=Ss[nu]);Hi+=uf}}if(gr.nd=Ka,gr.Qb=0,Ka&&(gr.qb=(Hs[3][zi[3]+0].value<<24|Hs[1][zi[1]+0].value<<16|Hs[2][zi[2]+0].value)>>>0,wo==0&&256>Hs[0][zi[0]+0].value&&(gr.Qb=1,gr.qb+=Hs[0][zi[0]+0].value<<8)),gr.jc=!gr.Qb&&6>Hi,gr.jc){var ch,Go=gr;for(ch=0;ch<Ia;++ch){var Eo=ch,Ko=Go.pd[Eo],hh=Go.G[0][Go.H[0]+Eo];256<=hh.value?(Ko.g=hh.g+256,Ko.value=hh.value):(Ko.g=0,Ko.value=0,Eo>>=Rr(hh,8,Ko),Eo>>=Rr(Go.G[1][Go.H[1]+Eo],16,Ko),Eo>>=Rr(Go.G[2][Go.H[2]+Eo],0,Ko),Rr(Go.G[3][Go.H[3]+Eo],24,Ko))}}}ui.vc=Pn,ui.Wb=Gn,ui.Ya=tr,ui.yc=zs,fe=1;break e}fe=0}if(!($=fe)){D.a=3;break t}if(0<jt){if(dt.ua=1<<jt,!st(dt.Wa,jt)){D.a=1,$=0;break t}}else dt.ua=0;var fh=D,$d=J,eg=rt,Gd=fh.s,Kd=Gd.xc;if(fh.c=$d,fh.i=eg,Gd.md=ee($d,Kd),Gd.wc=Kd==0?-1:(1<<Kd)-1,T){D.xb=Vm;break t}if((xt=a(J*rt))==null){D.a=1,$=0;break t}$=($=In(D,xt,0,J,rt,rt,null))&&!ot.h;break t}return $?(V!=null?V[0]=xt:(t(xt==null),t(T)),D.$=0,T||hr(dt)):hr(dt),$}function bs(m,b){var T=m.c*m.i,D=T+b+16*b;return t(m.c<=b),m.V=a(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+b,1)}function Ti(m,b){var T=m.C,D=b-T,V=m.V,$=m.Ba+m.c*T;for(t(b<=m.l.o);0<D;){var J=16<D?16:D,rt=m.l.ma,ot=m.l.width,dt=ot*J,xt=rt.ca,jt=rt.tb+ot*T,ft=m.Ta,Ct=m.Ua;Js(m,J,V,$),Kl(ft,Ct,xt,jt,dt),ii(rt,T,T+J,xt,jt,ot),D-=J,V+=J*m.c,T+=J}t(T==b),m.C=m.Ma=b}function mr(){this.ub=this.yd=this.td=this.Rb=0}function fa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Os(){this.Yb=(function(){var m=[];return(function b(T,D,V){for(var $=V[D],J=0;J<$&&(T.push(V.length>D+1?[]:0),!(V.length<D+1));J++)b(T[J],D+1,V)})(m,0,[3,11]),m})()}function za(){this.jb=a(3),this.Wc=c([4,8],Os),this.Xc=c([4,17],Os)}function ks(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function yr(){this.ld=this.La=this.dd=this.tc=0}function Lr(){this.Na=this.la=0}function cs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zi(){this.uc=this.M=this.Nb=0,this.wa=Array(new yr),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new ta}function da(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pa(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new mr,this.Kc=new fa,this.ed=new ks,this.Qa=new ao,this.Ic=this.$c=this.Aa=0,this.D=new Zi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,q),this.ia=0,this.pb=l(4,cs),this.Pa=new za,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new da),this.Hd=0,this.rb=Array(new Lr),this.sb=0,this.wa=Array(new yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=c([4,2],yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Na(){var m=new pa;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ui||(Ui=si)),m}function Cn(m,b,T){return m.a==0&&(m.a=b,m.sc=T,m.cb=0),0}function Ds(m,b,T){return 3<=T&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Ca(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Cn(m,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,D=b.w,V=b.ha;if(4>V)return Cn(m,7,"Truncated header.");var $=T[D+0]|T[D+1]<<8|T[D+2]<<16,J=m.Od;if(J.Rb=!(1&$),J.td=$>>1&7,J.yd=$>>4&1,J.ub=$>>5,3<J.td)return Cn(m,3,"Incorrect keyframe parameters.");if(!J.yd)return Cn(m,4,"Frame not displayable.");D+=3,V-=3;var rt=m.Kc;if(J.Rb){if(7>V)return Cn(m,7,"cannot parse picture header");if(!Ds(T,D,V))return Cn(m,3,"Bad code word");rt.c=16383&(T[D+4]<<8|T[D+3]),rt.Td=T[D+4]>>6,rt.i=16383&(T[D+6]<<8|T[D+5]),rt.Ud=T[D+6]>>6,D+=7,V-=7,m.za=rt.c+15>>4,m.Ub=rt.i+15>>4,b.width=rt.c,b.height=rt.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i(($=m.Pa).jb,0,255,$.jb.length),t(($=m.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(J.ub>V)return Cn(m,7,"bad partition length");Q($=m.m,T,D,J.ub),D+=J.ub,V-=J.ub,J.Rb&&(rt.Ld=Rt($),rt.Kd=Rt($)),rt=m.Qa;var ot,dt=m.Pa;if(t($!=null),t(rt!=null),rt.Cb=Rt($),rt.Cb){if(rt.Bb=Rt($),Rt($)){for(rt.Fb=Rt($),ot=0;4>ot;++ot)rt.Zb[ot]=Rt($)?ct($,7):0;for(ot=0;4>ot;++ot)rt.Lb[ot]=Rt($)?ct($,6):0}if(rt.Bb)for(ot=0;3>ot;++ot)dt.jb[ot]=Rt($)?ut($,8):255}else rt.Bb=0;if($.Ka)return Cn(m,3,"cannot parse segment header");if((rt=m.ed).zd=Rt($),rt.Tb=ut($,6),rt.wb=ut($,3),rt.Pc=Rt($),rt.Pc&&Rt($)){for(dt=0;4>dt;++dt)Rt($)&&(rt.vd[dt]=ct($,6));for(dt=0;4>dt;++dt)Rt($)&&(rt.od[dt]=ct($,6))}if(m.L=rt.Tb==0?0:rt.zd?1:2,$.Ka)return Cn(m,3,"cannot parse filter header");var xt=V;if(V=ot=D,D=ot+xt,rt=xt,m.Xb=(1<<ut(m.m,2))-1,xt<3*(dt=m.Xb))T=7;else{for(ot+=3*dt,rt-=3*dt,xt=0;xt<dt;++xt){var jt=T[V+0]|T[V+1]<<8|T[V+2]<<16;jt>rt&&(jt=rt),Q(m.Jc[+xt],T,ot,jt),ot+=jt,rt-=jt,V+=3}Q(m.Jc[+dt],T,ot,rt),T=ot<D?0:5}if(T!=0)return Cn(m,T,"cannot parse partitions");for(T=ut(ot=m.m,7),V=Rt(ot)?ct(ot,4):0,D=Rt(ot)?ct(ot,4):0,rt=Rt(ot)?ct(ot,4):0,dt=Rt(ot)?ct(ot,4):0,ot=Rt(ot)?ct(ot,4):0,xt=m.Qa,jt=0;4>jt;++jt){if(xt.Cb){var ft=xt.Zb[jt];xt.Fb||(ft+=T)}else{if(0<jt){m.pb[jt]=m.pb[0];continue}ft=T}var Ct=m.pb[jt];Ct.Sc[0]=eh[Mn(ft+V,127)],Ct.Sc[1]=nh[Mn(ft+0,127)],Ct.Eb[0]=2*eh[Mn(ft+D,127)],Ct.Eb[1]=101581*nh[Mn(ft+rt,127)]>>16,8>Ct.Eb[1]&&(Ct.Eb[1]=8),Ct.Qc[0]=eh[Mn(ft+dt,117)],Ct.Qc[1]=nh[Mn(ft+ot,127)],Ct.lc=ft+ot}if(!J.Rb)return Cn(m,4,"Not a key frame.");for(Rt($),J=m.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(D=0;3>D;++D)for(rt=0;11>rt;++rt)dt=Mt($,Jl[T][V][D][rt])?ut($,8):yo[T][V][D][rt],J.Wc[T][V].Yb[D][rt]=dt;for(V=0;17>V;++V)J.Xc[T][V]=J.Wc[T][Fm[V]]}return m.kc=Rt($),m.kc&&(m.Bd=ut($,8)),m.cb=1}function si(m,b,T,D,V,$,J){var rt=b[V].Yb[T];for(T=0;16>V;++V){if(!Mt(m,rt[T+0]))return V;for(;!Mt(m,rt[T+1]);)if(rt=b[++V].Yb[0],T=0,V==16)return 16;var ot=b[V+1].Yb;if(Mt(m,rt[T+2])){var dt=m,xt=0;if(Mt(dt,(ft=rt)[(jt=T)+3]))if(Mt(dt,ft[jt+6])){for(rt=0,jt=2*(xt=Mt(dt,ft[jt+8]))+(ft=Mt(dt,ft[jt+9+xt])),xt=0,ft=li[jt];ft[rt];++rt)xt+=xt+Mt(dt,ft[rt]);xt+=3+(8<<jt)}else Mt(dt,ft[jt+7])?(xt=7+2*Mt(dt,165),xt+=Mt(dt,145)):xt=5+Mt(dt,159);else xt=Mt(dt,ft[jt+4])?3+Mt(dt,ft[jt+5]):2;rt=ot[2]}else xt=1,rt=ot[1];ot=J+cr[V],0>(dt=m).b&&St(dt);var jt,ft=dt.b,Ct=(jt=dt.Ca>>1)-(dt.I>>ft)>>31;--dt.b,dt.Ca+=Ct,dt.Ca|=1,dt.I-=(jt+1&Ct)<<ft,$[ot]=((xt^Ct)-Ct)*D[(0<V)+0]}return 16}function _s(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ai(m,b,T,D,V){V=m[b+T+32*D]+(V>>3),m[b+T+32*D]=-256&V?0>V?0:255:V}function ma(m,b,T,D,V,$){ai(m,b,0,T,D+V),ai(m,b,1,T,D+$),ai(m,b,2,T,D-$),ai(m,b,3,T,D-V)}function fn(m){return(20091*m>>16)+m}function mi(m,b,T,D){var V,$=0,J=a(16);for(V=0;4>V;++V){var rt=m[b+0]+m[b+8],ot=m[b+0]-m[b+8],dt=(35468*m[b+4]>>16)-fn(m[b+12]),xt=fn(m[b+4])+(35468*m[b+12]>>16);J[$+0]=rt+xt,J[$+1]=ot+dt,J[$+2]=ot-dt,J[$+3]=rt-xt,$+=4,b++}for(V=$=0;4>V;++V)rt=(m=J[$+0]+4)+J[$+8],ot=m-J[$+8],dt=(35468*J[$+4]>>16)-fn(J[$+12]),ai(T,D,0,0,rt+(xt=fn(J[$+4])+(35468*J[$+12]>>16))),ai(T,D,1,0,ot+dt),ai(T,D,2,0,ot-dt),ai(T,D,3,0,rt-xt),$++,D+=32}function ga(m,b,T,D){var V=m[b+0]+4,$=35468*m[b+4]>>16,J=fn(m[b+4]),rt=35468*m[b+1]>>16;ma(T,D,0,V+J,m=fn(m[b+1]),rt),ma(T,D,1,V+$,m,rt),ma(T,D,2,V-$,m,rt),ma(T,D,3,V-J,m,rt)}function ws(m,b,T,D,V){mi(m,b,T,D),V&&mi(m,b+16,T,D+4)}function Ps(m,b,T,D){Xr(m,b+0,T,D,1),Xr(m,b+32,T,D+128,1)}function Sn(m,b,T,D){var V;for(m=m[b+0]+4,V=0;4>V;++V)for(b=0;4>b;++b)ai(T,D,b,V,m)}function Ji(m,b,T,D){m[b+0]&&Bs(m,b+0,T,D),m[b+16]&&Bs(m,b+16,T,D+4),m[b+32]&&Bs(m,b+32,T,D+128),m[b+48]&&Bs(m,b+48,T,D+128+4)}function Er(m,b,T,D){var V,$=a(16);for(V=0;4>V;++V){var J=m[b+0+V]+m[b+12+V],rt=m[b+4+V]+m[b+8+V],ot=m[b+4+V]-m[b+8+V],dt=m[b+0+V]-m[b+12+V];$[0+V]=J+rt,$[8+V]=J-rt,$[4+V]=dt+ot,$[12+V]=dt-ot}for(V=0;4>V;++V)J=(m=$[0+4*V]+3)+$[3+4*V],rt=$[1+4*V]+$[2+4*V],ot=$[1+4*V]-$[2+4*V],dt=m-$[3+4*V],T[D+0]=J+rt>>3,T[D+16]=dt+ot>>3,T[D+32]=J-rt>>3,T[D+48]=dt-ot>>3,D+=64}function Vr(m,b,T){var D,V=b-32,$=is,J=255-m[V-1];for(D=0;D<T;++D){var rt,ot=$,dt=J+m[b-1];for(rt=0;rt<T;++rt)m[b+rt]=ot[dt+m[V+rt]];b+=32}}function ts(m,b){Vr(m,b,4)}function Ha(m,b){Vr(m,b,8)}function es(m,b){Vr(m,b,16)}function Do(m,b){var T;for(T=0;16>T;++T)r(m,b+32*T,m,b-32,16)}function $a(m,b){var T;for(T=16;0<T;--T)i(m,b,m[b-1],16),b+=32}function Es(m,b,T){var D;for(D=0;16>D;++D)i(b,T+32*D,m,16)}function Ni(m,b){var T,D=16;for(T=0;16>T;++T)D+=m[b-1+32*T]+m[b+T-32];Es(D>>5,m,b)}function Pi(m,b){var T,D=8;for(T=0;16>T;++T)D+=m[b-1+32*T];Es(D>>4,m,b)}function or(m,b){var T,D=8;for(T=0;16>T;++T)D+=m[b+T-32];Es(D>>4,m,b)}function ns(m,b){Es(128,m,b)}function Ke(m,b,T){return m+2*b+T+2>>2}function Mi(m,b){var T,D=b-32;for(D=new Uint8Array([Ke(m[D-1],m[D+0],m[D+1]),Ke(m[D+0],m[D+1],m[D+2]),Ke(m[D+1],m[D+2],m[D+3]),Ke(m[D+2],m[D+3],m[D+4])]),T=0;4>T;++T)r(m,b+32*T,D,0,D.length)}function Ra(m,b){var T=m[b-1],D=m[b-1+32],V=m[b-1+64],$=m[b-1+96];zt(m,b+0,16843009*Ke(m[b-1-32],T,D)),zt(m,b+32,16843009*Ke(T,D,V)),zt(m,b+64,16843009*Ke(D,V,$)),zt(m,b+96,16843009*Ke(V,$,$))}function As(m,b){var T,D=4;for(T=0;4>T;++T)D+=m[b+T-32]+m[b-1+32*T];for(D>>=3,T=0;4>T;++T)i(m,b+32*T,D,4)}function hs(m,b){var T=m[b-1+0],D=m[b-1+32],V=m[b-1+64],$=m[b-1-32],J=m[b+0-32],rt=m[b+1-32],ot=m[b+2-32],dt=m[b+3-32];m[b+0+96]=Ke(D,V,m[b-1+96]),m[b+1+96]=m[b+0+64]=Ke(T,D,V),m[b+2+96]=m[b+1+64]=m[b+0+32]=Ke($,T,D),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Ke(J,$,T),m[b+3+64]=m[b+2+32]=m[b+1+0]=Ke(rt,J,$),m[b+3+32]=m[b+2+0]=Ke(ot,rt,J),m[b+3+0]=Ke(dt,ot,rt)}function Pr(m,b){var T=m[b+1-32],D=m[b+2-32],V=m[b+3-32],$=m[b+4-32],J=m[b+5-32],rt=m[b+6-32],ot=m[b+7-32];m[b+0+0]=Ke(m[b+0-32],T,D),m[b+1+0]=m[b+0+32]=Ke(T,D,V),m[b+2+0]=m[b+1+32]=m[b+0+64]=Ke(D,V,$),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Ke(V,$,J),m[b+3+32]=m[b+2+64]=m[b+1+96]=Ke($,J,rt),m[b+3+64]=m[b+2+96]=Ke(J,rt,ot),m[b+3+96]=Ke(rt,ot,ot)}function gi(m,b){var T=m[b-1+0],D=m[b-1+32],V=m[b-1+64],$=m[b-1-32],J=m[b+0-32],rt=m[b+1-32],ot=m[b+2-32],dt=m[b+3-32];m[b+0+0]=m[b+1+64]=$+J+1>>1,m[b+1+0]=m[b+2+64]=J+rt+1>>1,m[b+2+0]=m[b+3+64]=rt+ot+1>>1,m[b+3+0]=ot+dt+1>>1,m[b+0+96]=Ke(V,D,T),m[b+0+64]=Ke(D,T,$),m[b+0+32]=m[b+1+96]=Ke(T,$,J),m[b+1+32]=m[b+2+96]=Ke($,J,rt),m[b+2+32]=m[b+3+96]=Ke(J,rt,ot),m[b+3+32]=Ke(rt,ot,dt)}function fs(m,b){var T=m[b+0-32],D=m[b+1-32],V=m[b+2-32],$=m[b+3-32],J=m[b+4-32],rt=m[b+5-32],ot=m[b+6-32],dt=m[b+7-32];m[b+0+0]=T+D+1>>1,m[b+1+0]=m[b+0+64]=D+V+1>>1,m[b+2+0]=m[b+1+64]=V+$+1>>1,m[b+3+0]=m[b+2+64]=$+J+1>>1,m[b+0+32]=Ke(T,D,V),m[b+1+32]=m[b+0+96]=Ke(D,V,$),m[b+2+32]=m[b+1+96]=Ke(V,$,J),m[b+3+32]=m[b+2+96]=Ke($,J,rt),m[b+3+64]=Ke(J,rt,ot),m[b+3+96]=Ke(rt,ot,dt)}function yi(m,b){var T=m[b-1+0],D=m[b-1+32],V=m[b-1+64],$=m[b-1+96];m[b+0+0]=T+D+1>>1,m[b+2+0]=m[b+0+32]=D+V+1>>1,m[b+2+32]=m[b+0+64]=V+$+1>>1,m[b+1+0]=Ke(T,D,V),m[b+3+0]=m[b+1+32]=Ke(D,V,$),m[b+3+32]=m[b+1+64]=Ke(V,$,$),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=$}function ji(m,b){var T=m[b-1+0],D=m[b-1+32],V=m[b-1+64],$=m[b-1+96],J=m[b-1-32],rt=m[b+0-32],ot=m[b+1-32],dt=m[b+2-32];m[b+0+0]=m[b+2+32]=T+J+1>>1,m[b+0+32]=m[b+2+64]=D+T+1>>1,m[b+0+64]=m[b+2+96]=V+D+1>>1,m[b+0+96]=$+V+1>>1,m[b+3+0]=Ke(rt,ot,dt),m[b+2+0]=Ke(J,rt,ot),m[b+1+0]=m[b+3+32]=Ke(T,J,rt),m[b+1+32]=m[b+3+64]=Ke(D,T,J),m[b+1+64]=m[b+3+96]=Ke(V,D,T),m[b+1+96]=Ke($,V,D)}function Ms(m,b){var T;for(T=0;8>T;++T)r(m,b+32*T,m,b-32,8)}function Ci(m,b){var T;for(T=0;8>T;++T)i(m,b,m[b-1],8),b+=32}function qi(m,b,T){var D;for(D=0;8>D;++D)i(b,T+32*D,m,8)}function L(m,b){var T,D=8;for(T=0;8>T;++T)D+=m[b+T-32]+m[b-1+32*T];qi(D>>4,m,b)}function tt(m,b){var T,D=4;for(T=0;8>T;++T)D+=m[b+T-32];qi(D>>3,m,b)}function yt(m,b){var T,D=4;for(T=0;8>T;++T)D+=m[b-1+32*T];qi(D>>3,m,b)}function Ht(m,b){qi(128,m,b)}function Ve(m,b,T){var D=m[b-T],V=m[b+0],$=3*(V-D)+Zh[1020+m[b-2*T]-m[b+T]],J=Yl[112+($+4>>3)];m[b-T]=is[255+D+Yl[112+($+3>>3)]],m[b+0]=is[255+V-J]}function Ee(m,b,T,D){var V=m[b+0],$=m[b+T];return Da[255+m[b-2*T]-m[b-T]]>D||Da[255+$-V]>D}function yn(m,b,T,D){return 4*Da[255+m[b-T]-m[b+0]]+Da[255+m[b-2*T]-m[b+T]]<=D}function ln(m,b,T,D,V){var $=m[b-3*T],J=m[b-2*T],rt=m[b-T],ot=m[b+0],dt=m[b+T],xt=m[b+2*T],jt=m[b+3*T];return 4*Da[255+rt-ot]+Da[255+J-dt]>D?0:Da[255+m[b-4*T]-$]<=V&&Da[255+$-J]<=V&&Da[255+J-rt]<=V&&Da[255+jt-xt]<=V&&Da[255+xt-dt]<=V&&Da[255+dt-ot]<=V}function Bn(m,b,T,D){var V=2*D+1;for(D=0;16>D;++D)yn(m,b+D,T,V)&&Ve(m,b+D,T)}function dn(m,b,T,D){var V=2*D+1;for(D=0;16>D;++D)yn(m,b+D*T,1,V)&&Ve(m,b+D*T,1)}function Xn(m,b,T,D){var V;for(V=3;0<V;--V)Bn(m,b+=4*T,T,D)}function Yr(m,b,T,D){var V;for(V=3;0<V;--V)dn(m,b+=4,T,D)}function Fn(m,b,T,D,V,$,J,rt){for($=2*$+1;0<V--;){if(ln(m,b,T,$,J))if(Ee(m,b,T,rt))Ve(m,b,T);else{var ot=m,dt=b,xt=T,jt=ot[dt-2*xt],ft=ot[dt-xt],Ct=ot[dt+0],kt=ot[dt+xt],$t=ot[dt+2*xt],Pt=27*(Kt=Zh[1020+3*(Ct-ft)+Zh[1020+jt-kt]])+63>>7,Wt=18*Kt+63>>7,Kt=9*Kt+63>>7;ot[dt-3*xt]=is[255+ot[dt-3*xt]+Kt],ot[dt-2*xt]=is[255+jt+Wt],ot[dt-xt]=is[255+ft+Pt],ot[dt+0]=is[255+Ct-Pt],ot[dt+xt]=is[255+kt-Wt],ot[dt+2*xt]=is[255+$t-Kt]}b+=D}}function Zn(m,b,T,D,V,$,J,rt){for($=2*$+1;0<V--;){if(ln(m,b,T,$,J))if(Ee(m,b,T,rt))Ve(m,b,T);else{var ot=m,dt=b,xt=T,jt=ot[dt-xt],ft=ot[dt+0],Ct=ot[dt+xt],kt=Yl[112+(4+($t=3*(ft-jt))>>3)],$t=Yl[112+($t+3>>3)],Pt=kt+1>>1;ot[dt-2*xt]=is[255+ot[dt-2*xt]+Pt],ot[dt-xt]=is[255+jt+$t],ot[dt+0]=is[255+ft-kt],ot[dt+xt]=is[255+Ct-Pt]}b+=D}}function x(m,b,T,D,V,$){Fn(m,b,T,1,16,D,V,$)}function F(m,b,T,D,V,$){Fn(m,b,1,T,16,D,V,$)}function ht(m,b,T,D,V,$){var J;for(J=3;0<J;--J)Zn(m,b+=4*T,T,1,16,D,V,$)}function _t(m,b,T,D,V,$){var J;for(J=3;0<J;--J)Zn(m,b+=4,1,T,16,D,V,$)}function Lt(m,b,T,D,V,$,J,rt){Fn(m,b,V,1,8,$,J,rt),Fn(T,D,V,1,8,$,J,rt)}function Gt(m,b,T,D,V,$,J,rt){Fn(m,b,1,V,8,$,J,rt),Fn(T,D,1,V,8,$,J,rt)}function te(m,b,T,D,V,$,J,rt){Zn(m,b+4*V,V,1,8,$,J,rt),Zn(T,D+4*V,V,1,8,$,J,rt)}function be(m,b,T,D,V,$,J,rt){Zn(m,b+4,1,V,8,$,J,rt),Zn(T,D+4,1,V,8,$,J,rt)}function Ie(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function On(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new vt,this.yc=new R}function Ir(){this.xb=this.a=0,this.l=new ta,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new On,this.ab=0,this.gc=l(4,sn),this.Oc=0}function Mr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function lr(m,b,T,D,V,$,J){for(m=m==null?0:m[b+0],b=0;b<J;++b)V[$+b]=m+T[D+b]&255,m=V[$+b]}function Qr(m,b,T,D,V,$,J){var rt;if(m==null)lr(null,null,T,D,V,$,J);else for(rt=0;rt<J;++rt)V[$+rt]=m[b+rt]+T[D+rt]&255}function vr(m,b,T,D,V,$,J){if(m==null)lr(null,null,T,D,V,$,J);else{var rt,ot=m[b+0],dt=ot,xt=ot;for(rt=0;rt<J;++rt)dt=xt+(ot=m[b+rt])-dt,xt=T[D+rt]+(-256&dt?0>dt?0:255:dt)&255,dt=ot,V[$+rt]=xt}}function Ri(m,b,T,D){var V=b.width,$=b.o;if(t(m!=null&&b!=null),0>T||0>=D||T+D>$)return null;if(!m.Cc){if(m.ga==null){var J;if(m.ga=new Mr,(J=m.ga==null)||(J=b.width*b.o,t(m.Gb.length==0),m.Gb=a(J),m.Uc=0,m.Gb==null?J=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,J=1),J=!J),!J){J=m.ga;var rt=m.Fa,ot=m.P,dt=m.qc,xt=m.mb,jt=m.nb,ft=ot+1,Ct=dt-1,kt=J.l;if(t(rt!=null&&xt!=null&&b!=null),vo[0]=null,vo[1]=lr,vo[2]=Qr,vo[3]=vr,J.ca=xt,J.tb=jt,J.c=b.width,J.i=b.height,t(0<J.c&&0<J.i),1>=dt)b=0;else if(J.$a=3&rt[ot+0],J.Z=rt[ot+0]>>2&3,J.Lc=rt[ot+0]>>4&3,ot=rt[ot+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ot)b=0;else if(kt.put=Be,kt.ac=Cr,kt.bc=_n,kt.ma=J,kt.width=b.width,kt.height=b.height,kt.Da=b.Da,kt.v=b.v,kt.va=b.va,kt.j=b.j,kt.o=b.o,J.$a)t:{t(J.$a==1),b=ar();e:for(;;){if(b==null){b=0;break t}if(t(J!=null),J.mc=b,b.c=J.c,b.i=J.i,b.l=J.l,b.l.ma=J,b.l.width=J.c,b.l.height=J.i,b.a=0,Et(b.m,rt,ft,Ct),!Xi(J.c,J.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ri(b.s)?(J.ic=1,rt=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(rt),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(J.ic=0,b=bs(b,J.c)),!b))break e;b=1;break t}J.mc=null,b=0}else b=Ct>=J.c*J.i;J=!b}if(J)return null;m.ga.Lc!=1?m.Ga=0:D=$-T}t(m.ga!=null),t(T+D<=$);t:{if(b=(rt=m.ga).c,$=rt.l.o,rt.$a==0){if(ft=m.rc,Ct=m.Vc,kt=m.Fa,ot=m.P+1+T*b,dt=m.mb,xt=m.nb+T*b,t(ot<=m.P+m.qc),rt.Z!=0)for(t(vo[rt.Z]!=null),J=0;J<D;++J)vo[rt.Z](ft,Ct,kt,ot,dt,xt,b),ft=dt,Ct=xt,xt+=b,ot+=b;else for(J=0;J<D;++J)r(dt,xt,kt,ot,b),ft=dt,Ct=xt,xt+=b,ot+=b;m.rc=ft,m.Vc=Ct}else{if(t(rt.mc!=null),b=T+D,t((J=rt.mc)!=null),t(b<=J.i),J.C>=b)b=1;else if(rt.ic||vi(),rt.ic){rt=J.V,ft=J.Ba,Ct=J.c;var $t=J.i,Pt=(kt=1,ot=J.$/Ct,dt=J.$%Ct,xt=J.m,jt=J.s,J.$),Wt=Ct*$t,Kt=Ct*b,ae=jt.wc,ne=Pt<Kt?wn(jt,dt,ot):null;t(Pt<=Wt),t(b<=$t),t(ri(jt));e:for(;;){for(;!xt.h&&Pt<Kt;){if(dt&ae||(ne=wn(jt,dt,ot)),t(ne!=null),At(xt),256>($t=sr(ne.G[0],ne.H[0],xt)))rt[ft+Pt]=$t,++Pt,++dt>=Ct&&(dt=0,++ot<=b&&!(ot%16)&&Fr(J,ot));else{if(!(280>$t)){kt=0;break e}$t=Un($t-256,xt);var je,Ae=sr(ne.G[4],ne.H[4],xt);if(At(xt),!(Pt>=(Ae=wr(Ct,Ae=Un(Ae,xt)))&&Wt-Pt>=$t)){kt=0;break e}for(je=0;je<$t;++je)rt[ft+Pt+je]=rt[ft+Pt+je-Ae];for(Pt+=$t,dt+=$t;dt>=Ct;)dt-=Ct,++ot<=b&&!(ot%16)&&Fr(J,ot);Pt<Kt&&dt&ae&&(ne=wn(jt,dt,ot))}t(xt.h==lt(xt))}Fr(J,ot>b?b:ot);break e}!kt||xt.h&&Pt<Wt?(kt=0,J.a=xt.h?5:3):J.$=Pt,b=kt}else b=In(J,J.V,J.Ba,J.c,J.i,b,Ti);if(!b){D=0;break t}}T+D>=$&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*V}function La(m,b,T,D,V,$){for(;0<V--;){var J,rt=m,ot=b+(T?1:0),dt=m,xt=b+(T?0:3);for(J=0;J<D;++J){var jt=dt[xt+4*J];jt!=255&&(jt*=32897,rt[ot+4*J+0]=rt[ot+4*J+0]*jt>>23,rt[ot+4*J+1]=rt[ot+4*J+1]*jt>>23,rt[ot+4*J+2]=rt[ot+4*J+2]*jt>>23)}b+=$}}function Ga(m,b,T,D,V){for(;0<D--;){var $;for($=0;$<T;++$){var J=m[b+2*$+0],rt=15&(dt=m[b+2*$+1]),ot=4369*rt,dt=(240&dt|dt>>4)*ot>>16;m[b+2*$+0]=(240&J|J>>4)*ot>>16&240|(15&J|J<<4)*ot>>16>>4&15,m[b+2*$+1]=240&dt|rt}b+=V}}function qu(m,b,T,D,V,$,J,rt){var ot,dt,xt=255;for(dt=0;dt<V;++dt){for(ot=0;ot<D;++ot){var jt=m[b+ot];$[J+4*ot]=jt,xt&=jt}b+=T,J+=rt}return xt!=255}function Po(m,b,T,D,V){var $;for($=0;$<V;++$)T[D+$]=m[b+$]>>8}function vi(){Vu=La,va=Ga,ba=qu,Kl=Po}function ea(m,b,T){M[m]=function(D,V,$,J,rt,ot,dt,xt,jt,ft,Ct,kt,$t,Pt,Wt,Kt,ae){var ne,je=ae-1>>1,Ae=rt[ot+0]|dt[xt+0]<<16,un=jt[ft+0]|Ct[kt+0]<<16;t(D!=null);var Te=3*Ae+un+131074>>2;for(b(D[V+0],255&Te,Te>>16,$t,Pt),$!=null&&(Te=3*un+Ae+131074>>2,b($[J+0],255&Te,Te>>16,Wt,Kt)),ne=1;ne<=je;++ne){var jn=rt[ot+ne]|dt[xt+ne]<<16,Li=jt[ft+ne]|Ct[kt+ne]<<16,an=Ae+jn+un+Li+524296,Ce=an+2*(jn+un)>>3;Te=Ce+Ae>>1,Ae=(an=an+2*(Ae+Li)>>3)+jn>>1,b(D[V+2*ne-1],255&Te,Te>>16,$t,Pt+(2*ne-1)*T),b(D[V+2*ne-0],255&Ae,Ae>>16,$t,Pt+(2*ne-0)*T),$!=null&&(Te=an+un>>1,Ae=Ce+Li>>1,b($[J+2*ne-1],255&Te,Te>>16,Wt,Kt+(2*ne-1)*T),b($[J+2*ne+0],255&Ae,Ae>>16,Wt,Kt+(2*ne+0)*T)),Ae=jn,un=Li}1&ae||(Te=3*Ae+un+131074>>2,b(D[V+ae-1],255&Te,Te>>16,$t,Pt+(ae-1)*T),$!=null&&(Te=3*un+Ae+131074>>2,b($[J+ae-1],255&Te,Te>>16,Wt,Kt+(ae-1)*T)))}}function ml(){ss[xs]=Vo,ss[zu]=bo,ss[go]=El,ss[Jc]=ef,ss[Ql]=nf,ss[jo]=Gu,ss[Jh]=rf,ss[th]=bo,ss[_l]=ef,ss[qo]=nf,ss[Hu]=Gu}function js(m){return m&-16384?0>m?0:255:m>>l2}function g(m,b){return js((19077*m>>8)+(26149*b>>8)-14234)}function C(m,b,T){return js((19077*m>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function j(m,b){return js((19077*m>>8)+(33050*b>>8)-17685)}function it(m,b,T,D,V){D[V+0]=g(m,T),D[V+1]=C(m,b,T),D[V+2]=j(m,b)}function Ot(m,b,T,D,V){D[V+0]=j(m,b),D[V+1]=C(m,b,T),D[V+2]=g(m,T)}function Vt(m,b,T,D,V){var $=C(m,b,T);b=$<<3&224|j(m,b)>>3,D[V+0]=248&g(m,T)|$>>5,D[V+1]=b}function le(m,b,T,D,V){var $=240&j(m,b)|15;D[V+0]=240&g(m,T)|C(m,b,T)>>4,D[V+1]=$}function kn(m,b,T,D,V){D[V+0]=255,it(m,b,T,D,V+1)}function zr(m,b,T,D,V){Ot(m,b,T,D,V),D[V+3]=255}function Dn(m,b,T,D,V){it(m,b,T,D,V),D[V+3]=255}function Mn(m,b){return 0>m?0:m>b?b:m}function fr(m,b,T){M[m]=function(D,V,$,J,rt,ot,dt,xt,jt){for(var ft=xt+(-2&jt)*T;xt!=ft;)b(D[V+0],$[J+0],rt[ot+0],dt,xt),b(D[V+1],$[J+0],rt[ot+0],dt,xt+T),V+=2,++J,++ot,xt+=2*T;1&jt&&b(D[V+0],$[J+0],rt[ot+0],dt,xt)}}function ya(m,b,T){return T==0?m==0?b==0?6:5:b==0?4:0:T}function bi(m,b,T,D,V){switch(m>>>30){case 3:Xr(b,T,D,V,0);break;case 2:mo(b,T,D,V);break;case 1:Bs(b,T,D,V)}}function ds(m,b){var T,D,V=b.M,$=b.Nb,J=m.oc,rt=m.pc+40,ot=m.oc,dt=m.pc+584,xt=m.oc,jt=m.pc+600;for(T=0;16>T;++T)J[rt+32*T-1]=129;for(T=0;8>T;++T)ot[dt+32*T-1]=129,xt[jt+32*T-1]=129;for(0<V?J[rt-1-32]=ot[dt-1-32]=xt[jt-1-32]=129:(i(J,rt-32-1,127,21),i(ot,dt-32-1,127,9),i(xt,jt-32-1,127,9)),D=0;D<m.za;++D){var ft=b.ya[b.aa+D];if(0<D){for(T=-1;16>T;++T)r(J,rt+32*T-4,J,rt+32*T+12,4);for(T=-1;8>T;++T)r(ot,dt+32*T-4,ot,dt+32*T+4,4),r(xt,jt+32*T-4,xt,jt+32*T+4,4)}var Ct=m.Gd,kt=m.Hd+D,$t=ft.ad,Pt=ft.Hc;if(0<V&&(r(J,rt-32,Ct[kt].y,0,16),r(ot,dt-32,Ct[kt].f,0,8),r(xt,jt-32,Ct[kt].ea,0,8)),ft.Za){var Wt=J,Kt=rt-32+16;for(0<V&&(D>=m.za-1?i(Wt,Kt,Ct[kt].y[15],4):r(Wt,Kt,Ct[kt+1].y,0,4)),T=0;4>T;T++)Wt[Kt+128+T]=Wt[Kt+256+T]=Wt[Kt+384+T]=Wt[Kt+0+T];for(T=0;16>T;++T,Pt<<=2)Wt=J,Kt=rt+tu[T],Fs[ft.Ob[T]](Wt,Kt),bi(Pt,$t,16*+T,Wt,Kt)}else if(Wt=ya(D,V,ft.Ob[0]),Fo[Wt](J,rt),Pt!=0)for(T=0;16>T;++T,Pt<<=2)bi(Pt,$t,16*+T,J,rt+tu[T]);for(T=ft.Gc,Wt=ya(D,V,ft.Dd),wa[Wt](ot,dt),wa[Wt](xt,jt),Pt=$t,Wt=ot,Kt=dt,255&(ft=0|T)&&(170&ft?Oa(Pt,256,Wt,Kt):Gl(Pt,256,Wt,Kt)),ft=xt,Pt=jt,255&(T>>=8)&&(170&T?Oa($t,320,ft,Pt):Gl($t,320,ft,Pt)),V<m.Ub-1&&(r(Ct[kt].y,0,J,rt+480,16),r(Ct[kt].f,0,ot,dt+224,8),r(Ct[kt].ea,0,xt,jt+224,8)),T=8*$*m.B,Ct=m.sa,kt=m.ta+16*D+16*$*m.R,$t=m.qa,ft=m.ra+8*D+T,Pt=m.Ha,Wt=m.Ia+8*D+T,T=0;16>T;++T)r(Ct,kt+T*m.R,J,rt+32*T,16);for(T=0;8>T;++T)r($t,ft+T*m.B,ot,dt+32*T,8),r(Pt,Wt+T*m.B,xt,jt+32*T,8)}}function oo(m,b,T,D,V,$,J,rt,ot){var dt=[0],xt=[0],jt=0,ft=ot!=null?ot.kd:0,Ct=ot??new Qe;if(m==null||12>T)return 7;Ct.data=m,Ct.w=b,Ct.ha=T,b=[b],T=[T],Ct.gb=[Ct.gb];t:{var kt=b,$t=T,Pt=Ct.gb;if(t(m!=null),t($t!=null),t(Pt!=null),Pt[0]=0,12<=$t[0]&&!e(m,kt[0],"RIFF")){if(e(m,kt[0]+8,"WEBP")){Pt=3;break t}var Wt=Nt(m,kt[0]+4);if(12>Wt||4294967286<Wt){Pt=3;break t}if(ft&&Wt>$t[0]-8){Pt=7;break t}Pt[0]=Wt,kt[0]+=12,$t[0]-=12}Pt=0}if(Pt!=0)return Pt;for(Wt=0<Ct.gb[0],T=T[0];;){t:{var Kt=m;$t=b,Pt=T;var ae=dt,ne=xt,je=kt=[0];if((Te=jt=[jt])[0]=0,8>Pt[0])Pt=7;else{if(!e(Kt,$t[0],"VP8X")){if(Nt(Kt,$t[0]+4)!=10){Pt=3;break t}if(18>Pt[0]){Pt=7;break t}var Ae=Nt(Kt,$t[0]+8),un=1+Bt(Kt,$t[0]+12);if(2147483648<=un*(Kt=1+Bt(Kt,$t[0]+15))){Pt=3;break t}je!=null&&(je[0]=Ae),ae!=null&&(ae[0]=un),ne!=null&&(ne[0]=Kt),$t[0]+=18,Pt[0]-=18,Te[0]=1}Pt=0}}if(jt=jt[0],kt=kt[0],Pt!=0)return Pt;if($t=!!(2&kt),!Wt&&jt)return 3;if($!=null&&($[0]=!!(16&kt)),J!=null&&(J[0]=$t),rt!=null&&(rt[0]=0),J=dt[0],kt=xt[0],jt&&$t&&ot==null){Pt=0;break}if(4>T){Pt=7;break}if(Wt&&jt||!Wt&&!jt&&!e(m,b[0],"ALPH")){T=[T],Ct.na=[Ct.na],Ct.P=[Ct.P],Ct.Sa=[Ct.Sa];t:{Ae=m,Pt=b,Wt=T;var Te=Ct.gb;ae=Ct.na,ne=Ct.P,je=Ct.Sa,un=22,t(Ae!=null),t(Wt!=null),Kt=Pt[0];var jn=Wt[0];for(t(ae!=null),t(je!=null),ae[0]=null,ne[0]=null,je[0]=0;;){if(Pt[0]=Kt,Wt[0]=jn,8>jn){Pt=7;break t}var Li=Nt(Ae,Kt+4);if(4294967286<Li){Pt=3;break t}var an=8+Li+1&-2;if(un+=an,0<Te&&un>Te){Pt=3;break t}if(!e(Ae,Kt,"VP8 ")||!e(Ae,Kt,"VP8L")){Pt=0;break t}if(jn[0]<an){Pt=7;break t}e(Ae,Kt,"ALPH")||(ae[0]=Ae,ne[0]=Kt+8,je[0]=Li),Kt+=an,jn-=an}}if(T=T[0],Ct.na=Ct.na[0],Ct.P=Ct.P[0],Ct.Sa=Ct.Sa[0],Pt!=0)break}T=[T],Ct.Ja=[Ct.Ja],Ct.xa=[Ct.xa];t:if(Te=m,Pt=b,Wt=T,ae=Ct.gb[0],ne=Ct.Ja,je=Ct.xa,Ae=Pt[0],Kt=!e(Te,Ae,"VP8 "),un=!e(Te,Ae,"VP8L"),t(Te!=null),t(Wt!=null),t(ne!=null),t(je!=null),8>Wt[0])Pt=7;else{if(Kt||un){if(Te=Nt(Te,Ae+4),12<=ae&&Te>ae-12){Pt=3;break t}if(ft&&Te>Wt[0]-8){Pt=7;break t}ne[0]=Te,Pt[0]+=8,Wt[0]-=8,je[0]=un}else je[0]=5<=Wt[0]&&Te[Ae+0]==47&&!(Te[Ae+4]>>5),ne[0]=Wt[0];Pt=0}if(T=T[0],Ct.Ja=Ct.Ja[0],Ct.xa=Ct.xa[0],b=b[0],Pt!=0)break;if(4294967286<Ct.Ja)return 3;if(rt==null||$t||(rt[0]=Ct.xa?2:1),J=[J],kt=[kt],Ct.xa){if(5>T){Pt=7;break}rt=J,ft=kt,$t=$,m==null||5>T?m=0:5<=T&&m[b+0]==47&&!(m[b+4]>>5)?(Wt=[0],Te=[0],ae=[0],Et(ne=new z,m,b,T),ir(ne,Wt,Te,ae)?(rt!=null&&(rt[0]=Wt[0]),ft!=null&&(ft[0]=Te[0]),$t!=null&&($t[0]=ae[0]),m=1):m=0):m=0}else{if(10>T){Pt=7;break}rt=kt,m==null||10>T||!Ds(m,b+3,T-3)?m=0:(ft=m[b+0]|m[b+1]<<8|m[b+2]<<16,$t=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=Ct.Ja||!$t||!m?m=0:(J&&(J[0]=$t),rt&&(rt[0]=m),m=1))}if(!m||(J=J[0],kt=kt[0],jt&&(dt[0]!=J||xt[0]!=kt)))return 3;ot!=null&&(ot[0]=Ct,ot.offset=b-ot.w,t(4294967286>b-ot.w),t(ot.offset==ot.ha-T));break}return Pt==0||Pt==7&&jt&&ot==null?($!=null&&($[0]|=Ct.na!=null&&0<Ct.na.length),D!=null&&(D[0]=J),V!=null&&(V[0]=kt),0):Pt}function ps(m,b,T){var D=b.width,V=b.height,$=0,J=0,rt=D,ot=V;if(b.Da=m!=null&&0<m.Da,b.Da&&(rt=m.cd,ot=m.bd,$=m.v,J=m.j,11>T||($&=-2,J&=-2),0>$||0>J||0>=rt||0>=ot||$+rt>D||J+ot>V))return 0;if(b.v=$,b.j=J,b.va=$+rt,b.o=J+ot,b.U=rt,b.T=ot,b.da=m!=null&&0<m.da,b.da){if(!xe(rt,ot,T=[m.ib],$=[m.hb]))return 0;b.ib=T[0],b.hb=$[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*D/4&&b.hb<3*V/4,b.Kb=0),1}function qs(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function gl(m,b,T,D){if(D==null||0>=m||0>=b)return 2;if(T!=null){if(T.Da){var V=T.cd,$=T.bd,J=-2&T.v,rt=-2&T.j;if(0>J||0>rt||0>=V||0>=$||J+V>m||rt+$>b)return 2;m=V,b=$}if(T.da){if(!xe(m,b,V=[T.ib],$=[T.hb]))return 2;m=V[0],b=$[0]}}D.width=m,D.height=b;t:{var ot=D.width,dt=D.height;if(m=D.S,0>=ot||0>=dt||!(m>=xs&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){J=$=V=b=0;var xt=(rt=ot*$m[m])*dt;if(11>m||($=(dt+1)/2*(b=(ot+1)/2),m==12&&(J=(V=ot)*dt)),(dt=a(xt+2*$+J))==null){m=1;break t}D.sd=dt,11>m?((ot=D.f.RGBA).eb=dt,ot.fb=0,ot.A=rt,ot.size=xt):((ot=D.f.kb).y=dt,ot.O=0,ot.fa=rt,ot.Fd=xt,ot.f=dt,ot.N=0+xt,ot.Ab=b,ot.Cd=$,ot.ea=dt,ot.W=0+xt+$,ot.Db=b,ot.Ed=$,m==12&&(ot.F=dt,ot.J=0+xt+2*$),ot.Tc=J,ot.lb=V)}if(b=1,V=D.S,$=D.width,J=D.height,V>=xs&&13>V)if(11>V)m=D.f.RGBA,b&=(rt=Math.abs(m.A))*(J-1)+$<=m.size,b&=rt>=$*$m[V],b&=m.eb!=null;else{m=D.f.kb,rt=($+1)/2,xt=(J+1)/2,ot=Math.abs(m.fa),dt=Math.abs(m.Ab);var jt=Math.abs(m.Db),ft=Math.abs(m.lb),Ct=ft*(J-1)+$;b&=ot*(J-1)+$<=m.Fd,b&=dt*(xt-1)+rt<=m.Cd,b=(b&=jt*(xt-1)+rt<=m.Ed)&ot>=$&dt>=rt&jt>=rt,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,V==12&&(b&=ft>=$,b&=Ct<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||T!=null&&T.fd&&(m=qs(D)),m}var Ia=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Uu=24,Mo=32,oi=8,Nd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ue("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(m){return m},M.Predictor2=function(m,b,T){return b[T+0]},M.Predictor3=function(m,b,T){return b[T+1]},M.Predictor4=function(m,b,T){return b[T-1]},M.Predictor5=function(m,b,T){return ge(ge(m,b[T+1]),b[T+0])},M.Predictor6=function(m,b,T){return ge(m,b[T-1])},M.Predictor7=function(m,b,T){return ge(m,b[T+0])},M.Predictor8=function(m,b,T){return ge(b[T-1],b[T+0])},M.Predictor9=function(m,b,T){return ge(b[T+0],b[T+1])},M.Predictor10=function(m,b,T){return ge(ge(m,b[T-1]),ge(b[T+0],b[T+1]))},M.Predictor11=function(m,b,T){var D=b[T+0];return 0>=oe(D>>24&255,m>>24&255,(b=b[T-1])>>24&255)+oe(D>>16&255,m>>16&255,b>>16&255)+oe(D>>8&255,m>>8&255,b>>8&255)+oe(255&D,255&m,255&b)?D:m},M.Predictor12=function(m,b,T){var D=b[T+0];return(Ye((m>>24&255)+(D>>24&255)-((b=b[T-1])>>24&255))<<24|Ye((m>>16&255)+(D>>16&255)-(b>>16&255))<<16|Ye((m>>8&255)+(D>>8&255)-(b>>8&255))<<8|Ye((255&m)+(255&D)-(255&b)))>>>0},M.Predictor13=function(m,b,T){var D=b[T-1];return(Pe((m=ge(m,b[T+0]))>>24&255,D>>24&255)<<24|Pe(m>>16&255,D>>16&255)<<16|Pe(m>>8&255,D>>8&255)<<8|Pe(255&m,255&D))>>>0};var uo=M.PredictorAdd0;M.PredictorAdd1=pe,ue("Predictor2","PredictorAdd2"),ue("Predictor3","PredictorAdd3"),ue("Predictor4","PredictorAdd4"),ue("Predictor5","PredictorAdd5"),ue("Predictor6","PredictorAdd6"),ue("Predictor7","PredictorAdd7"),ue("Predictor8","PredictorAdd8"),ue("Predictor9","PredictorAdd9"),ue("Predictor10","PredictorAdd10"),ue("Predictor11","PredictorAdd11"),ue("Predictor12","PredictorAdd12"),ue("Predictor13","PredictorAdd13");var co=M.PredictorAdd2;Ne("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ne("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Bu,Qc=M.ColorIndexInverseTransform,rs=M.MapARGB,ho=M.VP8LColorIndexInverseTransformAlpha,yl=M.MapAlpha,vl=M.VP8LPredictorsAdd=[];vl.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var fo,Fu,Us,po,ur,br,jr,Xr,mo,Oa,Bs,Gl,Cd,bl,Rd,Ld,Id,jm,qm,Um,Od,kd,Yh,ka,Vu,va,ba,Kl,Qh=a(511),Xc=a(2041),Zc=a(225),Xh=a(767),Wl=0,Zh=Xc,Yl=Zc,is=Xh,Da=Qh,xs=0,zu=1,go=2,Jc=3,Ql=4,jo=5,Jh=6,th=7,_l=8,qo=9,Hu=10,tf=[2,3,7],Pa=[3,3,11],_a=[280,256,256,256,40],Xl=[0,1,1,1,0],Uo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bm=8,eh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ui=null,li=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fo=[],Fs=[],wa=[],Vm=1,$u=2,vo=[],ss=[];ea("UpsampleRgbLinePair",it,3),ea("UpsampleBgrLinePair",Ot,3),ea("UpsampleRgbaLinePair",Dn,4),ea("UpsampleBgraLinePair",zr,4),ea("UpsampleArgbLinePair",kn,4),ea("UpsampleRgba4444LinePair",le,2),ea("UpsampleRgb565LinePair",Vt,2);var Vo=M.UpsampleRgbLinePair,El=M.UpsampleBgrLinePair,bo=M.UpsampleRgbaLinePair,ef=M.UpsampleBgraLinePair,nf=M.UpsampleArgbLinePair,Gu=M.UpsampleRgba4444LinePair,rf=M.UpsampleRgb565LinePair,_o=16,Bi=1<<_o-1,Al=-227,sf=482,l2=6,zm=0,u2=a(256),Fi=a(256),Pd=a(256),rh=a(256),ih=a(sf-Al),Md=a(sf-Al);fr("YuvToRgbRow",it,3),fr("YuvToBgrRow",Ot,3),fr("YuvToRgbaRow",Dn,4),fr("YuvToBgraRow",zr,4),fr("YuvToArgbRow",kn,4),fr("YuvToRgba4444Row",le,2),fr("YuvToRgb565Row",Vt,2);var tu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zo=[0,2,8],c2=[8,7,6,4,4,2,2,2,1,1,1,1],Hm=1;this.WebPDecodeRGBA=function(m,b,T,D,V){var $=zu,J=new Ie,rt=new gn;J.ba=rt,rt.S=$,rt.width=[rt.width],rt.height=[rt.height];var ot=rt.width,dt=rt.height,xt=new He;if(xt==null||m==null)var jt=2;else t(xt!=null),jt=oo(m,b,T,xt.width,xt.height,xt.Pd,xt.Qd,xt.format,null);if(jt!=0?ot=0:(ot!=null&&(ot[0]=xt.width[0]),dt!=null&&(dt[0]=xt.height[0]),ot=1),ot){rt.width=rt.width[0],rt.height=rt.height[0],D!=null&&(D[0]=rt.width),V!=null&&(V[0]=rt.height);t:{if(D=new ta,(V=new Qe).data=m,V.w=b,V.ha=T,V.kd=1,b=[0],t(V!=null),((m=oo(V.data,V.w,V.ha,null,null,null,b,null,V))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(t(J!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=Be,D.ac=Cr,D.bc=_n,D.ma=J,V.xa){if((m=ar())==null){J=1;break t}if((function(ft,Ct){var kt=[0],$t=[0],Pt=[0];e:for(;;){if(ft==null)return 0;if(Ct==null)return ft.a=2,0;if(ft.l=Ct,ft.a=0,Et(ft.m,Ct.data,Ct.w,Ct.ha),!ir(ft.m,kt,$t,Pt)){ft.a=3;break e}if(ft.xb=$u,Ct.width=kt[0],Ct.height=$t[0],!Xi(kt[0],$t[0],1,ft,null))break e;return 1}return t(ft.a!=0),0})(m,D)){if(D=(b=gl(D.width,D.height,J.Oa,J.ba))==0){e:{D=m;n:for(;;){if(D==null){D=0;break e}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((T=D.l)!=null),t((V=T.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,t(D.ca!=null),!ps(V.Oa,T,Jc)){D.a=2;break n}if(!bs(D,T.width)||T.da)break n;if((T.da||qe(D.ca.S))&&vi(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&vi()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!st(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!In(D,D.V,D.Ba,D.c,D.i,T.o,Qi))break n;V.Dc=D.Ma,D=1;break e}t(D.a!=0),D=0}D=!D}D&&(b=m.a)}else b=m.a}else{if((m=new Na)==null){J=1;break t}if(m.Fa=V.na,m.P=V.P,m.qc=V.Sa,Ca(m,D)){if((b=gl(D.width,D.height,J.Oa,J.ba))==0){if(m.Aa=0,T=J.Oa,t((V=m)!=null),T!=null){if(0<(ot=0>(ot=T.Md)?0:100<ot?255:255*ot/100)){for(dt=xt=0;4>dt;++dt)12>(jt=V.pb[dt]).lc&&(jt.ia=ot*c2[0>jt.lc?0:jt.lc]>>3),xt|=jt.ia;xt&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ft,Ct){if(ft==null)return 0;if(Ct==null)return Cn(ft,2,"NULL VP8Io parameter in VP8Decode().");if(!ft.cb&&!Ca(ft,Ct))return 0;if(t(ft.cb),Ct.ac==null||Ct.ac(Ct)){Ct.ob&&(ft.L=0);var kt=zo[ft.L];if(ft.L==2?(ft.yb=0,ft.zb=0):(ft.yb=Ct.v-kt>>4,ft.zb=Ct.j-kt>>4,0>ft.yb&&(ft.yb=0),0>ft.zb&&(ft.zb=0)),ft.Va=Ct.o+15+kt>>4,ft.Hb=Ct.va+15+kt>>4,ft.Hb>ft.za&&(ft.Hb=ft.za),ft.Va>ft.Ub&&(ft.Va=ft.Ub),0<ft.L){var $t=ft.ed;for(kt=0;4>kt;++kt){var Pt;if(ft.Qa.Cb){var Wt=ft.Qa.Lb[kt];ft.Qa.Fb||(Wt+=$t.Tb)}else Wt=$t.Tb;for(Pt=0;1>=Pt;++Pt){var Kt=ft.gd[kt][Pt],ae=Wt;if($t.Pc&&(ae+=$t.vd[0],Pt&&(ae+=$t.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ne=ae;0<$t.wb&&(ne=4<$t.wb?ne>>2:ne>>1)>9-$t.wb&&(ne=9-$t.wb),1>ne&&(ne=1),Kt.dd=ne,Kt.tc=2*ae+ne,Kt.ld=40<=ae?2:15<=ae?1:0}else Kt.tc=0;Kt.La=Pt}}}kt=0}else Cn(ft,6,"Frame setup failed"),kt=ft.a;if(kt=kt==0){if(kt){ft.$c=0,0<ft.Aa||(ft.Ic=Hm);e:{kt=ft.Ic,$t=4*(ne=ft.za);var je=32*ne,Ae=ne+1,un=0<ft.L?ne*(0<ft.Aa?2:1):0,Te=(ft.Aa==2?2:1)*ne;if((Kt=$t+832+(Pt=3*(16*kt+zo[ft.L])/2*je)+(Wt=ft.Fa!=null&&0<ft.Fa.length?ft.Kc.c*ft.Kc.i:0))!=Kt)kt=0;else{if(Kt>ft.Vb){if(ft.Vb=0,ft.Ec=a(Kt),ft.Fc=0,ft.Ec==null){kt=Cn(ft,1,"no memory during frame initialization.");break e}ft.Vb=Kt}Kt=ft.Ec,ae=ft.Fc,ft.Ac=Kt,ft.Bc=ae,ae+=$t,ft.Gd=l(je,da),ft.Hd=0,ft.rb=l(Ae+1,Lr),ft.sb=1,ft.wa=un?l(un,yr):null,ft.Y=0,ft.D.Nb=0,ft.D.wa=ft.wa,ft.D.Y=ft.Y,0<ft.Aa&&(ft.D.Y+=ne),t(!0),ft.oc=Kt,ft.pc=ae,ae+=832,ft.ya=l(Te,Di),ft.aa=0,ft.D.ya=ft.ya,ft.D.aa=ft.aa,ft.Aa==2&&(ft.D.aa+=ne),ft.R=16*ne,ft.B=8*ne,ne=(je=zo[ft.L])*ft.R,je=je/2*ft.B,ft.sa=Kt,ft.ta=ae+ne,ft.qa=ft.sa,ft.ra=ft.ta+16*kt*ft.R+je,ft.Ha=ft.qa,ft.Ia=ft.ra+8*kt*ft.B+je,ft.$c=0,ae+=Pt,ft.mb=Wt?Kt:null,ft.nb=Wt?ae:null,t(ae+Wt<=ft.Fc+ft.Vb),_s(ft),i(ft.Ac,ft.Bc,0,$t),kt=1}}if(kt){if(Ct.ka=0,Ct.y=ft.sa,Ct.O=ft.ta,Ct.f=ft.qa,Ct.N=ft.ra,Ct.ea=ft.Ha,Ct.Vd=ft.Ia,Ct.fa=ft.R,Ct.Rc=ft.B,Ct.F=null,Ct.J=0,!Wl){for(kt=-255;255>=kt;++kt)Qh[255+kt]=0>kt?-kt:kt;for(kt=-1020;1020>=kt;++kt)Xc[1020+kt]=-128>kt?-128:127<kt?127:kt;for(kt=-112;112>=kt;++kt)Zc[112+kt]=-16>kt?-16:15<kt?15:kt;for(kt=-255;510>=kt;++kt)Xh[255+kt]=0>kt?0:255<kt?255:kt;Wl=1}jr=Er,Xr=ws,Oa=Ps,Bs=Sn,Gl=Ji,mo=ga,Cd=x,bl=F,Rd=Lt,Ld=Gt,Id=ht,jm=_t,qm=te,Um=be,Od=Bn,kd=dn,Yh=Xn,ka=Yr,Fs[0]=As,Fs[1]=ts,Fs[2]=Mi,Fs[3]=Ra,Fs[4]=hs,Fs[5]=gi,Fs[6]=Pr,Fs[7]=fs,Fs[8]=ji,Fs[9]=yi,Fo[0]=Ni,Fo[1]=es,Fo[2]=Do,Fo[3]=$a,Fo[4]=Pi,Fo[5]=or,Fo[6]=ns,wa[0]=L,wa[1]=Ha,wa[2]=Ms,wa[3]=Ci,wa[4]=yt,wa[5]=tt,wa[6]=Ht,kt=1}else kt=0}kt&&(kt=(function(jn,Li){for(jn.M=0;jn.M<jn.Va;++jn.M){var an,Ce=jn.Jc[jn.M&jn.Xb],fe=jn.m,Zr=jn;for(an=0;an<Zr.za;++an){var cn=fe,Tn=Zr,Le=Tn.Ac,pn=Tn.Bc+4*an,$n=Tn.zc,qr=Tn.ya[Tn.aa+an];if(Tn.Qa.Bb?qr.$b=Mt(cn,Tn.Pa.jb[0])?2+Mt(cn,Tn.Pa.jb[2]):Mt(cn,Tn.Pa.jb[1]):qr.$b=0,Tn.kc&&(qr.Ad=Mt(cn,Tn.Bd)),qr.Za=!Mt(cn,145)+0,qr.Za){var _i=qr.Ob,wi=0;for(Tn=0;4>Tn;++Tn){var ui,Pn=$n[0+Tn];for(ui=0;4>ui;++ui){Pn=Dd[Le[pn+ui]][Pn];for(var Gn=wl[Mt(cn,Pn[0])];0<Gn;)Gn=wl[2*Gn+Mt(cn,Pn[Gn])];Pn=-Gn,Le[pn+ui]=Pn}r(_i,wi,Le,pn,4),wi+=4,$n[0+Tn]=Pn}}else Pn=Mt(cn,156)?Mt(cn,128)?1:3:Mt(cn,163)?2:0,qr.Ob[0]=Pn,i(Le,pn,Pn,4),i($n,0,Pn,4);qr.Dd=Mt(cn,142)?Mt(cn,114)?Mt(cn,183)?1:3:2:0}if(Zr.m.Ka)return Cn(jn,7,"Premature end-of-partition0 encountered.");for(;jn.ja<jn.za;++jn.ja){if(Zr=Ce,cn=(fe=jn).rb[fe.sb-1],Le=fe.rb[fe.sb+fe.ja],an=fe.ya[fe.aa+fe.ja],pn=fe.kc?an.Ad:0)cn.la=Le.la=0,an.Za||(cn.Na=Le.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var ci,Xe;if(cn=Le,Le=Zr,pn=fe.Pa.Xc,$n=fe.ya[fe.aa+fe.ja],qr=fe.pb[$n.$b],Tn=$n.ad,_i=0,wi=fe.rb[fe.sb-1],Pn=ui=0,i(Tn,_i,0,384),$n.Za)var Vi=0,Ea=pn[3];else{Gn=a(16);var hi=cn.Na+wi.Na;if(hi=Ui(Le,pn[1],hi,qr.Eb,0,Gn,0),cn.Na=wi.Na=(0<hi)+0,1<hi)jr(Gn,0,Tn,_i);else{var Vs=Gn[0]+3>>3;for(Gn=0;256>Gn;Gn+=16)Tn[_i+Gn]=Vs}Vi=1,Ea=pn[0]}var Ar=15&cn.la,Ei=15&wi.la;for(Gn=0;4>Gn;++Gn){var zs=1&Ei;for(Vs=Xe=0;4>Vs;++Vs)Ar=Ar>>1|(zs=(hi=Ui(Le,Ea,hi=zs+(1&Ar),qr.Sc,Vi,Tn,_i))>Vi)<<7,Xe=Xe<<2|(3<hi?3:1<hi?2:Tn[_i+0]!=0),_i+=16;Ar>>=4,Ei=Ei>>1|zs<<7,ui=(ui<<8|Xe)>>>0}for(Ea=Ar,Vi=Ei>>4,ci=0;4>ci;ci+=2){for(Xe=0,Ar=cn.la>>4+ci,Ei=wi.la>>4+ci,Gn=0;2>Gn;++Gn){for(zs=1&Ei,Vs=0;2>Vs;++Vs)hi=zs+(1&Ar),Ar=Ar>>1|(zs=0<(hi=Ui(Le,pn[2],hi,qr.Qc,0,Tn,_i)))<<3,Xe=Xe<<2|(3<hi?3:1<hi?2:Tn[_i+0]!=0),_i+=16;Ar>>=2,Ei=Ei>>1|zs<<5}Pn|=Xe<<4*ci,Ea|=Ar<<4<<ci,Vi|=(240&Ei)<<ci}cn.la=Ea,wi.la=Vi,$n.Hc=ui,$n.Gc=Pn,$n.ia=43690&Pn?0:qr.ia,pn=!(ui|Pn)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[an.$b][an.Za],fe.wa[fe.Y+fe.ja].La|=!pn),Zr.Ka)return Cn(jn,7,"Premature end-of-file encountered.")}if(_s(jn),fe=Li,Zr=1,an=(Ce=jn).D,cn=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(an.M=Ce.M,an.uc=cn,ds(Ce,an),Zr=1,an=(Xe=Ce.D).Nb,cn=(Pn=zo[Ce.L])*Ce.R,Le=Pn/2*Ce.B,Gn=16*an*Ce.R,Vs=8*an*Ce.B,pn=Ce.sa,$n=Ce.ta-cn+Gn,qr=Ce.qa,Tn=Ce.ra-Le+Vs,_i=Ce.Ha,wi=Ce.Ia-Le+Vs,Ei=(Ar=Xe.M)==0,ui=Ar>=Ce.Va-1,Ce.Aa==2&&ds(Ce,Xe),Xe.uc)for(zs=(hi=Ce).D.M,t(hi.D.uc),Xe=hi.yb;Xe<hi.Hb;++Xe){Vi=Xe,Ea=zs;var ms=(Or=(Hi=hi).D).Nb;ci=Hi.R;var Or=Or.wa[Or.Y+Vi],tr=Hi.sa,Ss=Hi.ta+16*ms*ci+16*Vi,gs=Or.dd,gr=Or.tc;if(gr!=0)if(t(3<=gr),Hi.L==1)0<Vi&&kd(tr,Ss,ci,gr+4),Or.La&&ka(tr,Ss,ci,gr),0<Ea&&Od(tr,Ss,ci,gr+4),Or.La&&Yh(tr,Ss,ci,gr);else{var Hs=Hi.B,zi=Hi.qa,wo=Hi.ra+8*ms*Hs+8*Vi,Ka=Hi.Ha,Hi=Hi.Ia+8*ms*Hs+8*Vi;ms=Or.ld,0<Vi&&(bl(tr,Ss,ci,gr+4,gs,ms),Ld(zi,wo,Ka,Hi,Hs,gr+4,gs,ms)),Or.La&&(jm(tr,Ss,ci,gr,gs,ms),Um(zi,wo,Ka,Hi,Hs,gr,gs,ms)),0<Ea&&(Cd(tr,Ss,ci,gr+4,gs,ms),Rd(zi,wo,Ka,Hi,Hs,gr+4,gs,ms)),Or.La&&(Id(tr,Ss,ci,gr,gs,ms),qm(zi,wo,Ka,Hi,Hs,gr,gs,ms))}}if(Ce.ia&&alert("todo:DitherRow"),fe.put!=null){if(Xe=16*Ar,Ar=16*(Ar+1),Ei?(fe.y=Ce.sa,fe.O=Ce.ta+Gn,fe.f=Ce.qa,fe.N=Ce.ra+Vs,fe.ea=Ce.Ha,fe.W=Ce.Ia+Vs):(Xe-=Pn,fe.y=pn,fe.O=$n,fe.f=qr,fe.N=Tn,fe.ea=_i,fe.W=wi),ui||(Ar-=Pn),Ar>fe.o&&(Ar=fe.o),fe.F=null,fe.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&Xe<Ar&&(fe.J=Ri(Ce,fe,Xe,Ar-Xe),fe.F=Ce.mb,fe.F==null&&fe.F.length==0)){Zr=Cn(Ce,3,"Could not decode alpha data.");break e}Xe<fe.j&&(Pn=fe.j-Xe,Xe=fe.j,t(!(1&Pn)),fe.O+=Ce.R*Pn,fe.N+=Ce.B*(Pn>>1),fe.W+=Ce.B*(Pn>>1),fe.F!=null&&(fe.J+=fe.width*Pn)),Xe<Ar&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Xe-fe.j,fe.U=fe.va-fe.v,fe.T=Ar-Xe,Zr=fe.put(fe))}an+1!=Ce.Ic||ui||(r(Ce.sa,Ce.ta-cn,pn,$n+16*Ce.R,cn),r(Ce.qa,Ce.ra-Le,qr,Tn+8*Ce.B,Le),r(Ce.Ha,Ce.Ia-Le,_i,wi+8*Ce.B,Le))}if(!Zr)return Cn(jn,6,"Output aborted.")}return 1})(ft,Ct)),Ct.bc!=null&&Ct.bc(Ct),kt&=1}return kt?(ft.cb=0,kt):0})(m,D)||(b=m.a)}}else b=m.a}b==0&&J.Oa!=null&&J.Oa.fd&&(b=qs(J.ba))}J=b}$=J!=0?null:11>$?rt.f.RGBA.eb:rt.f.kb.y}else $=null;return $};var $m=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(M,G){for(var S="",O=0;O<4;O++)S+=String.fromCharCode(M[G++]);return S}function p(M,G){return M[G+0]|M[G+1]<<8}function w(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16)>>>0}function _(M,G){return(M[G+0]|M[G+1]<<8|M[G+2]<<16|M[G+3]<<24)>>>0}new h;var v=[0],N=[0],I=[],k=new h,P=n,H=(function(M,G){var S={},O=0,R=!1,at=0,vt=0;if(S.frames=[],!(function(q,z){for(var nt=0;nt<4;nt++)if(q[z+nt]!="RIFF".charCodeAt(nt))return!0;return!1})(M,G)){for(_(M,G+=4),G+=8;G<M.length;){var Q=f(M,G),ut=_(M,G+=4);G+=4;var ct=ut+(1&ut);switch(Q){case"VP8 ":case"VP8L":S.frames[O]===void 0&&(S.frames[O]={}),(gt=S.frames[O]).src_off=R?vt:G-8,gt.src_size=at+ut+8,O++,R&&(R=!1,at=0,vt=0);break;case"VP8X":(gt=S.header={}).feature_flags=M[G];var Et=G+4;gt.canvas_width=1+w(M,Et),Et+=3,gt.canvas_height=1+w(M,Et),Et+=3;break;case"ALPH":R=!0,at=ct+8,vt=G-8;break;case"ANIM":(gt=S.header).bgcolor=_(M,G),Et=G+4,gt.loop_count=p(M,Et),Et+=2;break;case"ANMF":var W,gt;(gt=S.frames[O]={}).offset_x=2*w(M,G),G+=3,gt.offset_y=2*w(M,G),G+=3,gt.width=1+w(M,G),G+=3,gt.height=1+w(M,G),G+=3,gt.duration=w(M,G),G+=3,W=M[G++],gt.dispose=1&W,gt.blend=W>>1&1}Q!="ANMF"&&(G+=ct)}return S}})(P,0);H.response=P,H.rgbaoutput=!0,H.dataurl=!1;var X=H.header?H.header:null,Z=H.frames?H.frames:null;if(X){X.loop_counter=X.loop_count,v=[X.canvas_height],N=[X.canvas_width];for(var pt=0;pt<Z.length&&Z[pt].blend!=0;pt++);}var wt=Z[0],K=k.WebPDecodeRGBA(P,wt.src_off,wt.src_size,N,v);wt.rgba=K,wt.imgwidth=N[0],wt.imgheight=v[0];for(var U=0;U<N[0]*v[0]*4;U++)I[U]=K[U];return this.width=N,this.height=v,this.data=I,this}(function(n){var t,e,r,i,a,l,c,h,f,p=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new h,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new l,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new l,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var w=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=q;Object.defineProperty(this,"pdf",{get:function(){return z}});var nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return nt},set:function(Nt){nt=!!Nt}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(Nt){lt=!!Nt}});var mt=0;Object.defineProperty(this,"posX",{get:function(){return mt},set:function(Nt){isNaN(Nt)||(mt=Nt)}});var At=0;Object.defineProperty(this,"posY",{get:function(){return At},set:function(Nt){isNaN(Nt)||(At=Nt)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Nt){var st;typeof Nt=="number"?st=[Nt,Nt,Nt,Nt]:((st=new Array(4))[0]=Nt[0],st[1]=Nt.length>=2?Nt[1]:st[0],st[2]=Nt.length>=3?Nt[2]:st[0],st[3]=Nt.length>=4?Nt[3]:st[1]),f.margin=st}});var St=!1;Object.defineProperty(this,"autoPaging",{get:function(){return St},set:function(Nt){St=Nt}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(Nt){Rt=Nt}});var Mt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Mt},set:function(Nt){Mt=Nt}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Nt){Nt instanceof p&&(f=Nt)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Nt){f.path=Nt}});var zt=[];Object.defineProperty(this,"ctxStack",{get:function(){return zt},set:function(Nt){zt=Nt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Nt){var st;st=_(Nt),this.ctx.fillStyle=st.style,this.ctx.isFillTransparent=st.a===0,this.ctx.fillOpacity=st.a,this.pdf.setFillColor(st.r,st.g,st.b,{a:st.a}),this.pdf.setTextColor(st.r,st.g,st.b,{a:st.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Nt){var st=_(Nt);this.ctx.strokeStyle=st.style,this.ctx.isStrokeTransparent=st.a===0,this.ctx.strokeOpacity=st.a,st.a===0?this.pdf.setDrawColor(255,255,255):(st.a,this.pdf.setDrawColor(st.r,st.g,st.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Nt){["butt","round","square"].indexOf(Nt)!==-1&&(this.ctx.lineCap=Nt,this.pdf.setLineCap(Nt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Nt){isNaN(Nt)||(this.ctx.lineWidth=Nt,this.pdf.setLineWidth(Nt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Nt){["bevel","round","miter"].indexOf(Nt)!==-1&&(this.ctx.lineJoin=Nt,this.pdf.setLineJoin(Nt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Nt){isNaN(Nt)||(this.ctx.miterLimit=Nt,this.pdf.setMiterLimit(Nt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Nt){this.ctx.textBaseline=Nt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Nt){["right","end","center","left","start"].indexOf(Nt)!==-1&&(this.ctx.textAlign=Nt)}});var Qt=null,Bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Bt},set:function(Nt){Qt=null,Bt=Nt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Nt){var st;if(this.ctx.font=Nt,(st=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Nt))!==null){var we=st[1];st[2];var he=st[3],xe=st[4];st[5];var ee=st[6],de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(de==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ue=(function(ve){var Ne,Rn,xn=[],ye=ve.trim();if(ye==="")return uv;if(ye in EA)return[EA[ye]];for(;ye!=="";){switch(Rn=null,Ne=(ye=xA(ye)).charAt(0)){case'"':case"'":Rn=qB(ye.substring(1),Ne);break;default:Rn=UB(ye)}if(Rn===null||(xn.push(Rn[0]),(ye=xA(Rn[1]))!==""&&ye.charAt(0)!==","))return uv;ye=ye.replace(/^,/,"")}return xn})(ee);if(this.fontFaces){var Ge=(function(ve,Ne){if(Qt===null){var Rn=(function(xn){var ye=[];return Object.keys(xn).forEach(function(Me){xn[Me].forEach(function(Ln){var Re=null;switch(Ln){case"bold":Re={family:Me,weight:"bold"};break;case"italic":Re={family:Me,style:"italic"};break;case"bolditalic":Re={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Re={family:Me}}Re!==null&&(Re.ref={name:Me,style:Ln},ye.push(Re))})}),ye})(ve.getFontList());Qt=(function(xn){for(var ye={},Me=0;Me<xn.length;++Me){var Ln=lv(xn[Me]),Re=Ln.family,tn=Ln.stretch,qe=Ln.style,Jn=Ln.weight;ye[Re]=ye[Re]||{},ye[Re][tn]=ye[Re][tn]||{},ye[Re][tn][qe]=ye[Re][tn][qe]||{},ye[Re][tn][qe][Jn]=Ln}return ye})(Rn.concat(Ne))}return Qt})(this.pdf,this.fontFaces),ge=ue.map(function(ve){return{family:ve,stretch:"normal",weight:he,style:we}}),Ye=(function(ve,Ne,Rn){for(var xn=(Rn=Rn||{}).defaultFontFamily||"times",ye=Object.assign({},jB,Rn.genericFontFamilies||{}),Me=null,Ln=null,Re=0;Re<Ne.length;++Re)if(ye[(Me=lv(Ne[Re])).family]&&(Me.family=ye[Me.family]),ve.hasOwnProperty(Me.family)){Ln=ve[Me.family];break}if(!(Ln=Ln||ve[xn]))throw new Error("Could not find a font-family for the rule '"+AA(Me)+"' and default family '"+xn+"'.");if(Ln=(function(tn,qe){if(qe[tn])return qe[tn];var Jn=m5[tn],Qn=Jn<=m5.normal?-1:1,gn=wA(qe,cC,Jn,Qn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+tn);return gn})(Me.stretch,Ln),Ln=(function(tn,qe){if(qe[tn])return qe[tn];for(var Jn=uC[tn],Qn=0;Qn<Jn.length;++Qn)if(qe[Jn[Qn]])return qe[Jn[Qn]];throw new Error("Could not find a matching font-style for "+tn)})(Me.style,Ln),!(Ln=(function(tn,qe){if(qe[tn])return qe[tn];if(tn===400&&qe[500])return qe[500];if(tn===500&&qe[400])return qe[400];var Jn=MB[tn],Qn=wA(qe,hC,Jn,tn<400?-1:1);if(!Qn)throw new Error("Could not find a matching font-weight for value "+tn);return Qn})(Me.weight,Ln)))throw new Error("Failed to resolve a font for the rule '"+AA(Me)+"'.");return Ln})(Ge,ge);this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var Pe="";(he==="bold"||parseInt(he,10)>=700||we==="bold")&&(Pe="bold"),we==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var oe="",pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},se=0;se<ue.length;se++){if(this.pdf.internal.getFont(ue[se],Pe,{noFallback:!0,disableWarning:!0})!==void 0){oe=ue[se];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(ue[se],"bold",{noFallback:!0,disableWarning:!0})!==void 0)oe=ue[se],Pe="bold";else if(this.pdf.internal.getFont(ue[se],"normal",{noFallback:!0,disableWarning:!0})!==void 0){oe=ue[se],Pe="normal";break}}if(oe===""){for(var ce=0;ce<ue.length;ce++)if(pe[ue[ce]]){oe=pe[ue[ce]];break}}oe=oe===""?"Times":oe,this.pdf.setFont(oe,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Nt){this.ctx.globalCompositeOperation=Nt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Nt){this.ctx.globalAlpha=Nt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Nt){this.ctx.lineDashOffset=Nt,gt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Nt){this.ctx.lineDash=Nt,gt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Nt){this.ctx.ignoreClearRect=!!Nt}})};w.prototype.setLineDash=function(q){this.lineDash=q},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){Z.call(this,"fill",!1)},w.prototype.stroke=function(){Z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(q,z){if(isNaN(q)||isNaN(z))throw Br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var nt=this.ctx.transform.applyToPoint(new l(q,z));this.path.push({type:"mt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new l(q,z)},w.prototype.closePath=function(){var q=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Nr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){q=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(q.x,q.y)},w.prototype.lineTo=function(q,z){if(isNaN(q)||isNaN(z))throw Br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var nt=this.ctx.transform.applyToPoint(new l(q,z));this.path.push({type:"lt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new l(nt.x,nt.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(q,z,nt,lt){if(isNaN(nt)||isNaN(lt)||isNaN(q)||isNaN(z))throw Br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var mt=this.ctx.transform.applyToPoint(new l(nt,lt)),At=this.ctx.transform.applyToPoint(new l(q,z));this.path.push({type:"qct",x1:At.x,y1:At.y,x:mt.x,y:mt.y}),this.ctx.lastPoint=new l(mt.x,mt.y)},w.prototype.bezierCurveTo=function(q,z,nt,lt,mt,At){if(isNaN(mt)||isNaN(At)||isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt))throw Br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var St=this.ctx.transform.applyToPoint(new l(mt,At)),Rt=this.ctx.transform.applyToPoint(new l(q,z)),Mt=this.ctx.transform.applyToPoint(new l(nt,lt));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:Mt.x,y2:Mt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new l(St.x,St.y)},w.prototype.arc=function(q,z,nt,lt,mt,At){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt)||isNaN(mt))throw Br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(At=!!At,!this.ctx.transform.isIdentity){var St=this.ctx.transform.applyToPoint(new l(q,z));q=St.x,z=St.y;var Rt=this.ctx.transform.applyToPoint(new l(0,nt)),Mt=this.ctx.transform.applyToPoint(new l(0,0));nt=Math.sqrt(Math.pow(Rt.x-Mt.x,2)+Math.pow(Rt.y-Mt.y,2))}Math.abs(mt-lt)>=2*Math.PI&&(lt=0,mt=2*Math.PI),this.path.push({type:"arc",x:q,y:z,radius:nt,startAngle:lt,endAngle:mt,counterclockwise:At})},w.prototype.arcTo=function(q,z,nt,lt,mt){throw new Error("arcTo not implemented.")},w.prototype.rect=function(q,z,nt,lt){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt))throw Br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,z),this.lineTo(q+nt,z),this.lineTo(q+nt,z+lt),this.lineTo(q,z+lt),this.lineTo(q,z),this.lineTo(q+nt,z),this.lineTo(q,z)},w.prototype.fillRect=function(q,z,nt,lt){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt))throw Br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var mt={};this.lineCap!=="butt"&&(mt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(mt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,z,nt,lt),this.fill(),mt.hasOwnProperty("lineCap")&&(this.lineCap=mt.lineCap),mt.hasOwnProperty("lineJoin")&&(this.lineJoin=mt.lineJoin)}},w.prototype.strokeRect=function(q,z,nt,lt){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt))throw Br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(q,z,nt,lt),this.stroke())},w.prototype.clearRect=function(q,z,nt,lt){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt))throw Br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,z,nt,lt))},w.prototype.save=function(q){q=typeof q!="boolean"||q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},w.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("Q");this.pdf.setPage(z),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(q){var z,nt,lt,mt;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))z=0,nt=0,lt=0,mt=0;else{var At=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(At!==null)z=parseInt(At[1]),nt=parseInt(At[2]),lt=parseInt(At[3]),mt=1;else if((At=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)z=parseInt(At[1]),nt=parseInt(At[2]),lt=parseInt(At[3]),mt=parseFloat(At[4]);else{if(mt=1,typeof q=="string"&&q.charAt(0)!=="#"){var St=new nC(q);q=St.ok?St.toHex():"#000000"}q.length===4?(z=q.substring(1,2),z+=z,nt=q.substring(2,3),nt+=nt,lt=q.substring(3,4),lt+=lt):(z=q.substring(1,3),nt=q.substring(3,5),lt=q.substring(5,7)),z=parseInt(z,16),nt=parseInt(nt,16),lt=parseInt(lt,16)}}return{r:z,g:nt,b:lt,a:mt,style:q}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(q,z,nt,lt){if(isNaN(z)||isNaN(nt)||typeof q!="string")throw Br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!v.call(this)){var mt=ct(this.ctx.transform.rotation),At=this.ctx.transform.scaleX;O.call(this,{text:q,x:z,y:nt,scale:At,angle:mt,align:this.textAlign,maxWidth:lt})}},w.prototype.strokeText=function(q,z,nt,lt){if(isNaN(z)||isNaN(nt)||typeof q!="string")throw Br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){lt=isNaN(lt)?void 0:lt;var mt=ct(this.ctx.transform.rotation),At=this.ctx.transform.scaleX;O.call(this,{text:q,x:z,y:nt,scale:At,renderingMode:"stroke",angle:mt,align:this.textAlign,maxWidth:lt})}},w.prototype.measureText=function(q){if(typeof q!="string")throw Br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,nt=this.pdf.internal.scaleFactor,lt=z.internal.getFontSize(),mt=z.getStringUnitWidth(q)*lt/z.internal.scaleFactor;return new function(At){var St=(At=At||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return St}}),this}({width:mt*=Math.round(96*nt/72*1e4)/1e4})},w.prototype.scale=function(q,z){if(isNaN(q)||isNaN(z))throw Br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var nt=new h(q,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(nt)},w.prototype.rotate=function(q){if(isNaN(q))throw Br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new h(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},w.prototype.translate=function(q,z){if(isNaN(q)||isNaN(z))throw Br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var nt=new h(1,0,0,1,q,z);this.ctx.transform=this.ctx.transform.multiply(nt)},w.prototype.transform=function(q,z,nt,lt,mt,At){if(isNaN(q)||isNaN(z)||isNaN(nt)||isNaN(lt)||isNaN(mt)||isNaN(At))throw Br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var St=new h(q,z,nt,lt,mt,At);this.ctx.transform=this.ctx.transform.multiply(St)},w.prototype.setTransform=function(q,z,nt,lt,mt,At){q=isNaN(q)?1:q,z=isNaN(z)?0:z,nt=isNaN(nt)?0:nt,lt=isNaN(lt)?1:lt,mt=isNaN(mt)?0:mt,At=isNaN(At)?0:At,this.ctx.transform=new h(q,z,nt,lt,mt,At)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(q,z,nt,lt,mt,At,St,Rt,Mt){var zt=this.pdf.getImageProperties(q),Qt=1,Bt=1,Nt=1,st=1;lt!==void 0&&Rt!==void 0&&(Nt=Rt/lt,st=Mt/mt,Qt=zt.width/lt*Rt/lt,Bt=zt.height/mt*Mt/mt),At===void 0&&(At=z,St=nt,z=0,nt=0),lt!==void 0&&Rt===void 0&&(Rt=lt,Mt=mt),lt===void 0&&Rt===void 0&&(Rt=zt.width,Mt=zt.height);for(var we,he=this.ctx.transform.decompose(),xe=ct(he.rotate.shx),ee=new h,de=(ee=(ee=(ee=ee.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new c(At-z*Nt,St-nt*st,lt*Qt,mt*Bt)),ue=k.call(this,de),Ge=[],ge=0;ge<ue.length;ge+=1)Ge.indexOf(ue[ge])===-1&&Ge.push(ue[ge]);if(X(Ge),this.autoPaging)for(var Ye=Ge[0],Pe=Ge[Ge.length-1],oe=Ye;oe<Pe+1;oe++){this.pdf.setPage(oe);var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=oe===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=oe===1?0:ce+(oe-2)*ve;if(this.ctx.clip_path.length!==0){var Rn=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(we,this.posX+this.margin[3],-Ne+se+this.ctx.prevPageLastElemOffset),pt.call(this,"fill",!0),this.path=Rn}var xn=JSON.parse(JSON.stringify(de));xn=H([xn],this.posX+this.margin[3],-Ne+se+this.ctx.prevPageLastElemOffset)[0];var ye=(oe>Ye||oe<Pe)&&I.call(this);ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,ve,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",xn.x,xn.y,xn.w,xn.h,null,null,xe),ye&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",de.x,de.y,de.w,de.h,null,null,xe)};var k=function(q,z,nt){var lt=[];z=z||this.pdf.internal.pageSize.width,nt=nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var mt=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":lt.push(Math.floor((q.y+mt)/nt)+1);break;case"arc":lt.push(Math.floor((q.y+mt-q.radius)/nt)+1),lt.push(Math.floor((q.y+mt+q.radius)/nt)+1);break;case"qct":var At=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);lt.push(Math.floor((At.y+mt)/nt)+1),lt.push(Math.floor((At.y+At.h+mt)/nt)+1);break;case"bct":var St=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);lt.push(Math.floor((St.y+mt)/nt)+1),lt.push(Math.floor((St.y+St.h+mt)/nt)+1);break;case"rect":lt.push(Math.floor((q.y+mt)/nt)+1),lt.push(Math.floor((q.y+q.h+mt)/nt)+1)}for(var Rt=0;Rt<lt.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<lt[Rt];)P.call(this);return lt},P=function(){var q=this.fillStyle,z=this.strokeStyle,nt=this.font,lt=this.lineCap,mt=this.lineWidth,At=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=z,this.font=nt,this.lineCap=lt,this.lineWidth=mt,this.lineJoin=At},H=function(q,z,nt){for(var lt=0;lt<q.length;lt++)switch(q[lt].type){case"bct":q[lt].x2+=z,q[lt].y2+=nt;case"qct":q[lt].x1+=z,q[lt].y1+=nt;default:q[lt].x+=z,q[lt].y+=nt}return q},X=function(q){return q.sort(function(z,nt){return z-nt})},Z=function(q,z){for(var nt,lt,mt=this.fillStyle,At=this.strokeStyle,St=this.lineCap,Rt=this.lineWidth,Mt=Math.abs(Rt*this.ctx.transform.scaleX),zt=this.lineJoin,Qt=JSON.parse(JSON.stringify(this.path)),Bt=JSON.parse(JSON.stringify(this.path)),Nt=[],st=0;st<Bt.length;st++)if(Bt[st].x!==void 0)for(var we=k.call(this,Bt[st]),he=0;he<we.length;he+=1)Nt.indexOf(we[he])===-1&&Nt.push(we[he]);for(var xe=0;xe<Nt.length;xe++)for(;this.pdf.internal.getNumberOfPages()<Nt[xe];)P.call(this);if(X(Nt),this.autoPaging)for(var ee=Nt[0],de=Nt[Nt.length-1],ue=ee;ue<de+1;ue++){this.pdf.setPage(ue),this.fillStyle=mt,this.strokeStyle=At,this.lineCap=St,this.lineWidth=Mt,this.lineJoin=zt;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=ue===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=ue===1?0:Ye+(ue-2)*Pe;if(this.ctx.clip_path.length!==0){var pe=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(nt,this.posX+this.margin[3],-oe+ge+this.ctx.prevPageLastElemOffset),pt.call(this,q,!0),this.path=pe}if(lt=JSON.parse(JSON.stringify(Qt)),this.path=H(lt,this.posX+this.margin[3],-oe+ge+this.ctx.prevPageLastElemOffset),z===!1||ue===0){var se=(ue>ee||ue<de)&&I.call(this);se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Pe,null).clip().discardPath()),pt.call(this,q,z),se&&this.pdf.restoreGraphicsState()}this.lineWidth=Rt}else this.lineWidth=Mt,pt.call(this,q,z),this.lineWidth=Rt;this.path=Qt},pt=function(q,z){if((q!=="stroke"||z||!N.call(this))&&(q==="stroke"||z||!v.call(this))){for(var nt,lt,mt=[],At=this.path,St=0;St<At.length;St++){var Rt=At[St];switch(Rt.type){case"begin":mt.push({begin:!0});break;case"close":mt.push({close:!0});break;case"mt":mt.push({start:Rt,deltas:[],abs:[]});break;case"lt":var Mt=mt.length;if(At[St-1]&&!isNaN(At[St-1].x)&&(nt=[Rt.x-At[St-1].x,Rt.y-At[St-1].y],Mt>0)){for(;Mt>=0;Mt--)if(mt[Mt-1].close!==!0&&mt[Mt-1].begin!==!0){mt[Mt-1].deltas.push(nt),mt[Mt-1].abs.push(Rt);break}}break;case"bct":nt=[Rt.x1-At[St-1].x,Rt.y1-At[St-1].y,Rt.x2-At[St-1].x,Rt.y2-At[St-1].y,Rt.x-At[St-1].x,Rt.y-At[St-1].y],mt[mt.length-1].deltas.push(nt);break;case"qct":var zt=At[St-1].x+2/3*(Rt.x1-At[St-1].x),Qt=At[St-1].y+2/3*(Rt.y1-At[St-1].y),Bt=Rt.x+2/3*(Rt.x1-Rt.x),Nt=Rt.y+2/3*(Rt.y1-Rt.y),st=Rt.x,we=Rt.y;nt=[zt-At[St-1].x,Qt-At[St-1].y,Bt-At[St-1].x,Nt-At[St-1].y,st-At[St-1].x,we-At[St-1].y],mt[mt.length-1].deltas.push(nt);break;case"arc":mt.push({deltas:[],abs:[],arc:!0}),Array.isArray(mt[mt.length-1].abs)&&mt[mt.length-1].abs.push(Rt)}}lt=z?null:q==="stroke"?"stroke":"fill";for(var he=!1,xe=0;xe<mt.length;xe++)if(mt[xe].arc)for(var ee=mt[xe].abs,de=0;de<ee.length;de++){var ue=ee[de];ue.type==="arc"?U.call(this,ue.x,ue.y,ue.radius,ue.startAngle,ue.endAngle,ue.counterclockwise,void 0,z,!he):R.call(this,ue.x,ue.y),he=!0}else if(mt[xe].close===!0)this.pdf.internal.out("h"),he=!1;else if(mt[xe].begin!==!0){var Ge=mt[xe].start.x,ge=mt[xe].start.y;at.call(this,mt[xe].deltas,Ge,ge),he=!0}lt&&M.call(this,lt),z&&G.call(this)}},wt=function(q){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,nt=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-nt;case"top":return q+z-nt;case"hanging":return q+z-2*nt;case"middle":return q+z/2-nt;default:return q}},K=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(z,nt){this.colorStops.push([z,nt])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(q,z,nt,lt,mt,At,St,Rt,Mt){for(var zt=Q.call(this,nt,lt,mt,At),Qt=0;Qt<zt.length;Qt++){var Bt=zt[Qt];Qt===0&&(Mt?S.call(this,Bt.x1+q,Bt.y1+z):R.call(this,Bt.x1+q,Bt.y1+z)),vt.call(this,q,z,Bt.x2,Bt.y2,Bt.x3,Bt.y3,Bt.x4,Bt.y4)}Rt?G.call(this):M.call(this,St)},M=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(q,z){this.pdf.internal.out(e(q)+" "+r(z)+" m")},O=function(q){var z;switch(q.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var nt=this.pdf.getTextDimensions(q.text),lt=wt.call(this,q.y),mt=K.call(this,lt)-nt.h,At=this.ctx.transform.applyToPoint(new l(q.x,lt)),St=this.ctx.transform.decompose(),Rt=new h;Rt=(Rt=(Rt=Rt.multiply(St.translate)).multiply(St.skew)).multiply(St.scale);for(var Mt,zt,Qt,Bt=this.ctx.transform.applyToRectangle(new c(q.x,lt,nt.w,nt.h)),Nt=Rt.applyToRectangle(new c(q.x,mt,nt.w,nt.h)),st=k.call(this,Nt),we=[],he=0;he<st.length;he+=1)we.indexOf(st[he])===-1&&we.push(st[he]);if(X(we),this.autoPaging)for(var xe=we[0],ee=we[we.length-1],de=xe;de<ee+1;de++){this.pdf.setPage(de);var ue=de===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Ye=ge-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],oe=Pe-this.margin[3],pe=de===1?0:Ge+(de-2)*Ye;if(this.ctx.clip_path.length!==0){var se=this.path;Mt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Mt,this.posX+this.margin[3],-1*pe+ue),pt.call(this,"fill",!0),this.path=se}var ce=H([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-pe+ue+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(zt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zt*q.scale),Qt=this.lineWidth,this.lineWidth=Qt*q.scale);var ve=this.autoPaging!=="text";if(ve||ce.y+ce.h<=ge){if(ve||ce.y>=ue&&ce.x<=Pe){var Ne=ve?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Pe-ce.x)[0],Rn=H([JSON.parse(JSON.stringify(Bt))],this.posX+this.margin[3],-pe+ue+this.ctx.prevPageLastElemOffset)[0],xn=ve&&(de>xe||de<ee)&&I.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,Ye,null).clip().discardPath()),this.pdf.text(Ne,Rn.x,Rn.y,{angle:q.angle,align:z,renderingMode:q.renderingMode}),xn&&this.pdf.restoreGraphicsState()}}else ce.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-ce.y);q.scale>=.01&&(this.pdf.setFontSize(zt),this.lineWidth=Qt)}else q.scale>=.01&&(zt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zt*q.scale),Qt=this.lineWidth,this.lineWidth=Qt*q.scale),this.pdf.text(q.text,At.x+this.posX,At.y+this.posY,{angle:q.angle,align:z,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(zt),this.lineWidth=Qt)},R=function(q,z,nt,lt){nt=nt||0,lt=lt||0,this.pdf.internal.out(e(q+nt)+" "+r(z+lt)+" l")},at=function(q,z,nt){return this.pdf.lines(q,z,nt,null,null)},vt=function(q,z,nt,lt,mt,At,St,Rt){this.pdf.internal.out([t(i(nt+q)),t(a(lt+z)),t(i(mt+q)),t(a(At+z)),t(i(St+q)),t(a(Rt+z)),"c"].join(" "))},Q=function(q,z,nt,lt){for(var mt=2*Math.PI,At=Math.PI/2;z>nt;)z-=mt;var St=Math.abs(nt-z);St<mt&&lt&&(St=mt-St);for(var Rt=[],Mt=lt?-1:1,zt=z;St>1e-5;){var Qt=zt+Mt*Math.min(St,At);Rt.push(ut.call(this,q,zt,Qt)),St-=Math.abs(Qt-zt),zt=Qt}return Rt},ut=function(q,z,nt){var lt=(nt-z)/2,mt=q*Math.cos(lt),At=q*Math.sin(lt),St=mt,Rt=-At,Mt=St*St+Rt*Rt,zt=Mt+St*mt+Rt*At,Qt=4/3*(Math.sqrt(2*Mt*zt)-zt)/(St*At-Rt*mt),Bt=St-Qt*Rt,Nt=Rt+Qt*St,st=Bt,we=-Nt,he=lt+z,xe=Math.cos(he),ee=Math.sin(he);return{x1:q*Math.cos(z),y1:q*Math.sin(z),x2:Bt*xe-Nt*ee,y2:Bt*ee+Nt*xe,x3:st*xe-we*ee,y3:st*ee+we*xe,x4:q*Math.cos(nt),y4:q*Math.sin(nt)}},ct=function(q){return 180*q/Math.PI},Et=function(q,z,nt,lt,mt,At){var St=q+.5*(nt-q),Rt=z+.5*(lt-z),Mt=mt+.5*(nt-mt),zt=At+.5*(lt-At),Qt=Math.min(q,mt,St,Mt),Bt=Math.max(q,mt,St,Mt),Nt=Math.min(z,At,Rt,zt),st=Math.max(z,At,Rt,zt);return new c(Qt,Nt,Bt-Qt,st-Nt)},W=function(q,z,nt,lt,mt,At,St,Rt){var Mt,zt,Qt,Bt,Nt,st,we,he,xe,ee,de,ue,Ge,ge,Ye=nt-q,Pe=lt-z,oe=mt-nt,pe=At-lt,se=St-mt,ce=Rt-At;for(zt=0;zt<41;zt++)xe=(we=(Qt=q+(Mt=zt/40)*Ye)+Mt*((Nt=nt+Mt*oe)-Qt))+Mt*(Nt+Mt*(mt+Mt*se-Nt)-we),ee=(he=(Bt=z+Mt*Pe)+Mt*((st=lt+Mt*pe)-Bt))+Mt*(st+Mt*(At+Mt*ce-st)-he),zt==0?(de=xe,ue=ee,Ge=xe,ge=ee):(de=Math.min(de,xe),ue=Math.min(ue,ee),Ge=Math.max(Ge,xe),ge=Math.max(ge,ee));return new c(Math.round(de),Math.round(ue),Math.round(Ge-de),Math.round(ge-ue))},gt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,z,nt=(q=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:z}));this.prevLineDash!==nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=nt)}}})(ze.API),(function(n){var t=function(l){var c,h,f,p,w,_,v,N,I,k;for(h=[],f=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(w=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(_=(w=((w=((w=((w=(w-(k=w%85))/85)-(I=w%85))/85)-(N=w%85))/85)-(v=w%85))/85)%85,h.push(_+33,v+33,N+33,I+33,k+33)):h.push(122);return(function(P,H){for(var X=H;X>0;X--)P.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},e=function(l){var c,h,f,p,w,_=String,v="length",N=255,I="charCodeAt",k="slice",P="replace";for(l[k](-2),l=l[k](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),f=[],p=0,w=(l+=c="uuuuu"[k](l[v]%5||5))[v];w>p;p+=5)h=52200625*(l[I](p)-33)+614125*(l[I](p+1)-33)+7225*(l[I](p+2)-33)+85*(l[I](p+3)-33)+(l[I](p+4)-33),f.push(N&h>>24,N&h>>16,N&h>>8,N&h);return(function(H,X){for(var Z=X;Z>0;Z--)H.pop()})(f,c[v]),_.fromCharCode.apply(_,f)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var h="",f=0;f<l.length;f+=2)h+=String.fromCharCode("0x"+(l[f]+l[f+1]));return h},a=function(l){for(var c=new Uint8Array(l.length),h=l.length;h--;)c[h]=l.charCodeAt(h);return(c=l5(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,c){var h=0,f=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":f=e(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(ze.API),(function(n){n.loadFile=function(t,e,r){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(h,f,p){var w=new XMLHttpRequest,_=0,v=function(N){var I=N.length,k=[],P=String.fromCharCode;for(_=0;_<I;_+=1)k.push(P(255&N.charCodeAt(_)));return k.join("")};if(w.open("GET",h,!f),w.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(w.onload=function(){w.status===200?p(v(this.responseText)):p(void 0)}),w.send(null),f&&w.status===200)return v(w.responseText)})(i,a,l)}catch{}return c})(t,e,r)},n.loadImageFile=n.loadFile})(ze.API),(function(n){function t(){return(hn.html2canvas?Promise.resolve(hn.html2canvas):Hy(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(hn.DOMPurify?Promise.resolve(hn.DOMPurify):Hy(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var h=Nr(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(c,h){var f=document.createElement(c);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},a=function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)f!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(c(w,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},l=function c(h){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,h){return c.__proto__=h||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(e).then(function(f){return this.set({src:i("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var N=p[v],I=N.src.find(function(k){return k.format==="truetype"});I&&f.addFont(I.url,N.ref.name,N.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,f.context2d.save(!0),h(this.prop.container,_)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},l.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var h=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(c,h){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return h?h(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,h,f,p){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,h,f,p){return this.setProgress(c?this.progress.val+c:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,h){var f=this;return this.thenCore(c,h,function(p,w){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return f.updateProgress(null,p),_}).then(p,w).then(function(_){return f.updateProgress(1),_})})},l.prototype.thenCore=function(c,h,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),h&&(h=h.bind(p));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),_=f.call(w,c,h);return l.convert(_,p.__proto__)},l.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},l.prototype.thenList=function(c){var h=this;return c.forEach(function(f){h=h.thenCore(f)}),h},l.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return l.convert(h,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,ze.getPageSize=function(c,h,f){if(Nr(c)==="object"){var p=c;c=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var w,_=(""+f).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+h}var N,I=0,k=0;if(v.hasOwnProperty(_))I=v[_][1]/w,k=v[_][0]/w;else try{I=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",k>I&&(N=k,k=I,I=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",I>k&&(N=k,k=I,I=N)}return{width:k,height:I,unit:h,k:w,orientation:c}},n.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(lv):null;var f=new l(h);return h.worker?f:f.from(c).doCallback()}})(ze.API),ze.API.addJS=function(n){return TA=n,this.internal.events.subscribe("postPutResources",function(){Jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+TA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jg!==void 0&&SA!==void 0&&this.internal.out("/Names <</JavaScript "+Jg+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],c=r.exec(l);if(c!=null){var h=c[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var w=e.internal.newObject();p.push(w);var _=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<p.length;a++)e.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+v+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,a){var l={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=e.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(ze.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,a,l,c){var h,f=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=l||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,h=(function(w){for(var _,v=256*w.charCodeAt(4)+w.charCodeAt(5),N=w.length,I={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=v,t.indexOf(w.charCodeAt(k+1))!==-1){_=256*w.charCodeAt(k+5)+w.charCodeAt(k+6),I={width:256*w.charCodeAt(k+7)+w.charCodeAt(k+8),height:_,numcomponents:w.charCodeAt(k+9)};break}v=256*w.charCodeAt(k+2)+w.charCodeAt(k+3)}return I})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:e,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}})(ze.API),ze.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=EB(n,{checkCrc:!0}),l=a.width,c=a.height,h=a.channels,f=a.palette,p=a.depth;i=f&&h===1?(function(K){for(var U=K.width,M=K.height,G=K.data,S=K.palette,O=K.depth,R=!1,at=[],vt=[],Q=void 0,ut=!1,ct=0,Et=0;Et<S.length;Et++){var W=LE(S[Et],4),gt=W[0],q=W[1],z=W[2],nt=W[3];at.push(gt,q,z),nt!=null&&(nt===0?(ct++,vt.length<1&&vt.push(Et)):nt<255&&(ut=!0))}if(ut||ct>1){R=!0,vt=void 0;var lt=U*M;Q=new Uint8Array(lt);for(var mt=new DataView(G.buffer),At=0;At<lt;At++){var St=cv(mt,At,O),Rt=LE(S[St],4)[3];Q[At]=Rt}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:G,alphaBytes:Q,needSMask:R,palette:at,mask:vt}})(a):h===2||h===4?(function(K){for(var U=K.data,M=K.width,G=K.height,S=K.channels,O=K.depth,R=S===2?"DeviceGray":"DeviceRGB",at=S-1,vt=M*G,Q=at,ut=vt*Q,ct=1*vt,Et=Math.ceil(ut*O/8),W=Math.ceil(ct*O/8),gt=new Uint8Array(Et),q=new Uint8Array(W),z=new DataView(U.buffer),nt=new DataView(gt.buffer),lt=new DataView(q.buffer),mt=!1,At=0;At<vt;At++){for(var St=At*S,Rt=0;Rt<Q;Rt++)PA(nt,cv(z,St+Rt,O),At*Q+Rt,O);var Mt=cv(z,St+Q,O);Mt<(1<<O)-1&&(mt=!0),PA(lt,Mt,1*At,O)}return{colorSpace:R,colorsPerPixel:at,colorBytes:gt,alphaBytes:q,needSMask:mt}})(a):(function(K){var U=K.data,M=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:U instanceof Uint8Array?U:new Uint8Array(U.buffer),needSMask:!1}})(a);var w,_,v,N=i,I=N.colorSpace,k=N.colorsPerPixel,P=N.colorBytes,H=N.alphaBytes,X=N.needSMask,Z=N.palette,pt=N.mask,wt=null;return r!==ze.API.image_compression.NONE&&typeof l5=="function"?(wt=(function(K){var U;switch(K){case ze.API.image_compression.FAST:U=11;break;case ze.API.image_compression.MEDIUM:U=13;break;case ze.API.image_compression.SLOW:U=14;break;default:U=12}return U})(r),w=this.decode.FLATE_DECODE,_="/Predictor ".concat(wt," "),n=LA(P,l*k,k,r),X&&(v=LA(H,l,1,r))):(w=void 0,_="",n=P,X&&(v=H)),_+="/Colors ".concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(l),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:e,data:n,index:t,filter:w,decodeParameters:_,transparency:pt,palette:Z,sMask:v,predictor:wt,width:l,height:c,bitsPerComponent:p,colorSpace:I}}},(function(n){n.processGIF89A=function(t,e,r,i){var a=new zB(t),l=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:c},p=new hv(100).encode(f,100);return n.processJPEG.call(this,p,e,r,i)},n.processGIF87A=n.processGIF89A})(ze.API),Xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Br.log("bit decode error:"+e)}},Xo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Xo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=a>>4,h=15&a,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Xo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Xo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,f=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},Xo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,h=(l>>5&e)/e*255|0,f=(l>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},Xo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Xo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Xo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,i){var a=new Xo(t,!1),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new hv(100).encode(h,100);return n.processJPEG.call(this,f,e,r,i)}})(ze.API),jA.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,i){var a=new jA(t),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new hv(100).encode(h,100);return n.processJPEG.call(this,f,e,r,i)}})(ze.API),ze.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,h=0,f=0;f<i;f+=4){var p=r[f],w=r[f+1],_=r[f+2],v=r[f+3];a[c++]=p,a[c++]=w,a[c++]=_,l[h++]=v}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ze.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lf=ze.API,t1=Lf.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,h=c.fof?c.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,w=t.doKerning!==!1,_=0,v=n.length,N=0,I=c[0]||h,k=[];for(e=0;e<v;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(_=w&&Nr(f[r])==="object"&&!isNaN(parseInt(f[r][N],10))?f[r][N]/p:0,k.push((c[r]||I)/h+_)),N=r;return k},NA=Lf.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Lf.processArabic&&(n=Lf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:t1.apply(this,arguments).reduce(function(a,l){return a+l},0)},CA=function(n,t,e,r){for(var i=[],a=0,l=n.length,c=0;a!==l&&c+t[a]<e;)c+=t[a],a++;i.push(n.slice(0,a));var h=a;for(c=0;a!==l;)c+t[a]>r&&(i.push(n.slice(h,a)),c=0,h=a),c+=t[a],a++;return h!==a&&i.push(n.slice(h,a)),i},RA=function(n,t,e){e||(e={});var r,i,a,l,c,h,f,p=[],w=[p],_=e.textIndent||0,v=0,N=0,I=n.split(" "),k=t1.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?I[0].length+2:e.lineIndent||0){var P=Array(h).join(" "),H=[];I.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?H=H.concat(Z.map(function(pt,wt){return(wt&&pt.length?`
`:"")+pt})):H.push(Z[0])}),I=H,h=NA.apply(this,[P,e])}for(a=0,l=I.length;a<l;a++){var X=0;if(r=I[a],h&&r[0]==`
`&&(r=r.substr(1),X=1),_+v+(N=(i=t1.apply(this,[r,e])).reduce(function(Z,pt){return Z+pt},0))>t||X){if(N>t){for(c=CA.apply(this,[r,i,t-(_+v),t]),p.push(c.shift()),p=[c.pop()];c.length;)w.push([c.shift()]);N=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(Z,pt){return Z+pt},0)}else p=[r];w.push(p),_=N+h,v=k}else p.push(r),_+=v+N,v=k}return f=h?function(Z,pt){return(pt?P:"")+Z.join(" ")}:function(Z){return Z.join(" ")},w.map(f)},Lf.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var w=this.internal.getFont(p.fontName,p.fontStyle),_="Unicode";return w.metadata[_]?{widths:w.metadata[_].widths||{0:1},kerning:w.metadata[_].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/i;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=e.lineIndent;var c,h,f=[];for(c=0,h=r.length;c<h;c++)f=f.concat(RA.apply(this,[r[c],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[e[a]]=t[a],i[t[a]]=e[a];var l=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var v,N,I,k,P=["{"];for(var H in _){if(v=_[H],isNaN(parseInt(H,10))?N="'"+H+"'":(H=parseInt(H,10),N=(N=l(H).slice(2)).slice(0,-1)+i[N.slice(-1)]),typeof v=="number")v<0?(I=l(v).slice(3),k="-"):(I=l(v).slice(2),k=""),I=k+I.slice(0,-1)+i[I.slice(-1)];else{if(Nr(v)!=="object")throw new Error("Don't know what to do with value type "+Nr(v)+".");I=c(v)}P.push(N+I)}return P.push("}"),P.join("")},h=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,N,I,k,P={},H=1,X=P,Z=[],pt="",wt="",K=_.length-1,U=1;U<K;U+=1)(k=_[U])=="'"?v?(I=v.join(""),v=void 0):v=[]:v?v.push(k):k=="{"?(Z.push([X,I]),X={},I=void 0):k=="}"?((N=Z.pop())[0][N[1]]=X,I=void 0,X=N[0]):k=="-"?H=-1:I===void 0?r.hasOwnProperty(k)?(pt+=r[k],I=parseInt(pt,16)*H,H=1,pt=""):pt+=k:r.hasOwnProperty(k)?(wt+=r[k],X[I]=parseInt(wt,16)*H,H=1,I=void 0,wt=""):wt+=k;return P},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},w={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var v=_.font,N=w.Unicode[v.postScriptName];N&&(v.metadata.Unicode={},v.metadata.Unicode.widths=N.widths,v.metadata.Unicode.kerning=N.kerning);var I=p.Unicode[v.postScriptName];I&&(v.metadata.Unicode.encoding=I,v.encoding=I.codePages[0])}])})(ze.API),(function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=e.charCodeAt(a);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,a=e.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(x1(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(ze),ze.API.addSvgAsImage=function(n,t,e,r,i,a,l,c){if(isNaN(t)||isNaN(e))throw Br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(hn.canvg?Promise.resolve(hn.canvg):Hy(()=>import("./index.es-BbPrEknp.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){w.addImage(h.toDataURL("image/jpeg",1),t,e,r,i,l,c)})},ze.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},ze.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],f=0,p=0,w=0;function _(N,I){var k,P=!1;for(k=0;k<N.length;k+=1)N[k]===I&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var v=c.length;for(w=0;w<v;w+=1)e[c[w]].value=e[c[w]].defaultValue,e[c[w]].explicitSet=!1}if(Nr(n)==="object"){for(i in n)if(a=n[i],_(c,i)&&a!==void 0){if(e[i].type==="boolean"&&typeof a=="boolean")e[i].value=a;else if(e[i].type==="name"&&_(e[i].valueSet,a))e[i].value=a;else if(e[i].type==="integer"&&Number.isInteger(a))e[i].value=a;else if(e[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(r=!1);r===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}e[i].value="["+h.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,I=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?I.push("/"+N+" /"+e[N].value):I.push("/"+N+" "+e[N].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+c.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(ze.API),(function(n){var t=n.API,e=t.pdfEscape16=function(a,l){for(var c,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],w=0,_=a.length;w<_;++w){if(c=l.metadata.characterToGlyph(a.charCodeAt(w)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(w),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(a){var l,c,h,f,p,w,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],w=0,_=(c=Object.keys(a).sort(function(v,N){return v-N})).length;w<_;w++)l=c[w],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",N=0;N<_.length;N++)v+=String.fromCharCode(_[N]);var I=f();p({data:v,addLength1:!0,objectId:I}),h("endobj");var k=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var P=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Mf(c.fontName)),h("/FontFile2 "+I+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var H=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Mf(c.fontName)),h("/FontDescriptor "+P+" 0 R"),h("/W "+n.API.PDFObject.convert(w)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+Mf(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+H+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,_="",v=0;v<w.length;v++)_+=String.fromCharCode(w[v]);var N=f();p({data:_,addLength1:!0,objectId:N}),h("endobj");var I=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var k=f();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Mf(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=f();for(var P=0;P<c.metadata.hmtx.widths.length;P++)c.metadata.hmtx.widths[P]=parseInt(c.metadata.hmtx.widths[P]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Mf(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,c=a.text||"",h=a.x,f=a.y,p=a.options||{},w=a.mutex||{},_=w.pdfEscape,v=w.activeFontKey,N=w.fonts,I=v,k="",P=0,H="",X=N[I].encoding;if(N[I].encoding!=="Identity-H")return{text:c,x:h,y:f,options:p,mutex:w};for(H=c,I=v,Array.isArray(c)&&(H=c[0]),P=0;P<H.length;P+=1)N[I].metadata.hasOwnProperty("cmap")&&(l=N[I].metadata.cmap.unicode.codeMap[H[P].charCodeAt(0)]),l||H[P].charCodeAt(0)<256&&N[I].metadata.hasOwnProperty("Unicode")?k+=H[P]:k+="";var Z="";return parseInt(I.slice(1))<14||X==="WinAnsiEncoding"?Z=_(k,I).split("").map(function(pt){return pt.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(Z=e(k,N[I])),w.isHex=!0,{text:Z,x:h,y:f,options:p,mutex:w}};t.events.push(["postProcessText",function(a){var l=a.text||"",c=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},h,{text:l[f]})).text);a.text=c}else a.text=i(Object.assign({},h,{text:l})).text}])})(ze),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(ze.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,l,c,h,f,p,w=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,X=0;this.__bidiEngine__={};var Z=function(S){var O=S.charCodeAt(),R=O>>8,at=I[R];return at!==void 0?w[256*at+(255&O)]:R===252||R===253?"AL":P.test(R)?"L":R===8?"R":"N"},pt=function(S){for(var O,R=0;R<S.length;R++){if((O=Z(S.charAt(R)))==="L")return!1;if(O==="R")return!0}return!1},wt=function(S,O,R,at){var vt,Q,ut,ct,Et=O[at];switch(Et){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"N":case"AN":break;case"EN":H&&(Et="AN");break;case"AL":H=!0,Et="R";break;case"WS":case"BN":Et="N";break;case"CS":at<1||at+1>=O.length||(vt=R[at-1])!=="EN"&&vt!=="AN"||(Q=O[at+1])!=="EN"&&Q!=="AN"?Et="N":H&&(Q="AN"),Et=Q===vt?Q:"N";break;case"ES":Et=(vt=at>0?R[at-1]:"B")==="EN"&&at+1<O.length&&O[at+1]==="EN"?"EN":"N";break;case"ET":if(at>0&&R[at-1]==="EN"){Et="EN";break}if(H){Et="N";break}for(ut=at+1,ct=O.length;ut<ct&&O[ut]==="ET";)ut++;Et=ut<ct&&O[ut]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ct=O.length,ut=at+1;ut<ct&&O[ut]==="NSM";)ut++;if(ut<ct){var W=S[at],gt=W>=1425&&W<=2303||W===64286;if(vt=O[ut],gt&&(vt==="R"||vt==="AL")){Et="R";break}}}Et=at<1||(vt=O[at-1])==="B"?"N":R[at-1];break;case"B":H=!1,i=!0,Et=X;break;case"S":a=!0,Et="N"}return Et},K=function(S,O,R){var at=S.split("");return R&&U(at,R,{hiLevel:X}),at.reverse(),O&&O.reverse(),at.join("")},U=function(S,O,R){var at,vt,Q,ut,ct,Et=-1,W=S.length,gt=0,q=[],z=X?v:_,nt=[];for(H=!1,i=!1,a=!1,vt=0;vt<W;vt++)nt[vt]=Z(S[vt]);for(Q=0;Q<W;Q++){if(ct=gt,q[Q]=wt(S,nt,q,Q),at=240&(gt=z[ct][N[q[Q]]]),gt&=15,O[Q]=ut=z[gt][5],at>0)if(at===16){for(vt=Et;vt<Q;vt++)O[vt]=1;Et=-1}else Et=-1;if(z[gt][6])Et===-1&&(Et=Q);else if(Et>-1){for(vt=Et;vt<Q;vt++)O[vt]=ut;Et=-1}nt[Q]==="B"&&(O[Q]=0),R.hiLevel|=ut}a&&(function(lt,mt,At){for(var St=0;St<At;St++)if(lt[St]==="S"){mt[St]=X;for(var Rt=St-1;Rt>=0&&lt[Rt]==="WS";Rt--)mt[Rt]=X}})(nt,O,W)},M=function(S,O,R,at,vt){if(!(vt.hiLevel<S)){if(S===1&&X===1&&!i)return O.reverse(),void(R&&R.reverse());for(var Q,ut,ct,Et,W=O.length,gt=0;gt<W;){if(at[gt]>=S){for(ct=gt+1;ct<W&&at[ct]>=S;)ct++;for(Et=gt,ut=ct-1;Et<ut;Et++,ut--)Q=O[Et],O[Et]=O[ut],O[ut]=Q,R&&(Q=R[Et],R[Et]=R[ut],R[ut]=Q);gt=ct}gt++}}},G=function(S,O,R){var at=S.split(""),vt={hiLevel:X};return R||(R=[]),U(at,R,vt),(function(Q,ut,ct){if(ct.hiLevel!==0&&p)for(var Et,W=0;W<Q.length;W++)ut[W]===1&&(Et=k.indexOf(Q[W]))>=0&&(Q[W]=k[Et+1])})(at,R,vt),M(2,at,O,R,vt),M(1,at,O,R,vt),at.join("")};return this.__bidiEngine__.doBidiReorder=function(S,O,R){if((function(vt,Q){if(Q)for(var ut=0;ut<vt.length;ut++)Q[ut]=ut;c===void 0&&(c=pt(vt)),f===void 0&&(f=pt(vt))})(S,O),l||!h||f)if(l&&h&&c^f)X=c?1:0,S=K(S,O,R);else if(!l&&h&&f)X=c?1:0,S=G(S,O,R),S=K(S,O);else if(!l||c||h||f){if(l&&!h&&c^f)S=K(S,O),c?(X=0,S=G(S,O,R)):(X=1,S=G(S,O,R),S=K(S,O));else if(l&&c&&!h&&f)X=1,S=G(S,O,R),S=K(S,O);else if(!l&&!h&&c^f){var at=p;c?(X=1,S=G(S,O,R),X=0,p=!1,S=G(S,O,R),p=at):(X=0,S=G(S,O,R),S=K(S,O),X=1,p=!1,S=G(S,O,R),p=at,S=K(S,O))}}else X=0,S=G(S,O,R);else X=c?1:0,S=G(S,O,R);return S},this.__bidiEngine__.setOptions=function(S){S&&(l=S.isInputVisual,h=S.isOutputVisual,c=S.isInputRtl,f=S.isOutputRtl,p=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([e.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([e.doBidiReorder(i[c])]);r.text=l}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])})(ze),ze.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Vc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new iF(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new HB(this.contents),this.head=new GB(this),this.name=new XB(this),this.cmap=new dC(this),this.toUnicode={},this.hhea=new KB(this),this.maxp=new ZB(this),this.hmtx=new JB(this),this.post=new YB(this),this.os2=new WB(this),this.loca=new rF(this),this.glyf=new tF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,f;for(f=[],l=0,c=(h=this.bbox).length;l<c;l++)t=h[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,a,l,c;for(l=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return l*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var fl,Vc=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,a,l,c,h;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*a+65536*l+256*c+h},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)e=t[r],a.push(this.writeByte(e));return a},n})(),HB=(function(){var n;function t(e){var r,i,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,a,l,c,h,f,p,w,_,v,N,I;for(I in v=Object.keys(e).length,h=Math.log(2),w=16*Math.floor(Math.log(v)/h),l=Math.floor(w/h),p=16*v-w,(i=new Vc).writeInt(this.scalarType),i.writeShort(v),i.writeShort(w),i.writeShort(l),i.writeShort(p),a=16*v,f=i.pos+a,c=null,N=[],e)for(_=e[I],i.writeString(I),i.writeInt(n(_)),i.writeInt(f),i.writeInt(_.length),N=N.concat(_),I==="head"&&(c=f),f+=_.length;f%4;)N.push(0),f++;return i.write(N),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(e){var r,i,a,l;for(e=pC.call(e);e.length%4;)e.push(0);for(a=new Vc(e),i=0,r=0,l=e.length;r<l;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),$B={}.hasOwnProperty,zl=function(n,t){for(var e in t)$B.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};fl=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var GB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Vc).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),qA=(function(){function n(t,e){var r,i,a,l,c,h,f,p,w,_,v,N,I,k,P,H,X;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(v=t.readUInt16(),_=v/2,t.pos+=6,a=(function(){var Z,pt;for(pt=[],h=Z=0;0<=_?Z<_:Z>_;h=0<=_?++Z:--Z)pt.push(t.readUInt16());return pt})(),t.pos+=2,I=(function(){var Z,pt;for(pt=[],h=Z=0;0<=_?Z<_:Z>_;h=0<=_?++Z:--Z)pt.push(t.readUInt16());return pt})(),f=(function(){var Z,pt;for(pt=[],h=Z=0;0<=_?Z<_:Z>_;h=0<=_?++Z:--Z)pt.push(t.readUInt16());return pt})(),p=(function(){var Z,pt;for(pt=[],h=Z=0;0<=_?Z<_:Z>_;h=0<=_?++Z:--Z)pt.push(t.readUInt16());return pt})(),i=(this.length-t.pos+this.offset)/2,c=(function(){var Z,pt;for(pt=[],h=Z=0;0<=i?Z<i:Z>i;h=0<=i?++Z:--Z)pt.push(t.readUInt16());return pt})(),h=P=0,X=a.length;P<X;h=++P)for(k=a[h],r=H=N=I[h];N<=k?H<=k:H>=k;r=N<=k?++H:--H)p[h]===0?l=r+f[h]:(l=c[p[h]/2+(r-N)-(_-h)]||0)!==0&&(l+=f[h]),this.codeMap[r]=65535&l}t.pos=w}return n.encode=function(t,e){var r,i,a,l,c,h,f,p,w,_,v,N,I,k,P,H,X,Z,pt,wt,K,U,M,G,S,O,R,at,vt,Q,ut,ct,Et,W,gt,q,z,nt,lt,mt,At,St,Rt,Mt,zt,Qt;switch(at=new Vc,l=Object.keys(t).sort(function(Bt,Nt){return Bt-Nt}),e){case"macroman":for(I=0,k=(function(){var Bt=[];for(N=0;N<256;++N)Bt.push(0);return Bt})(),H={0:0},a={},vt=0,Et=l.length;vt<Et;vt++)H[Rt=t[i=l[vt]]]==null&&(H[Rt]=++I),a[i]={old:t[i],new:H[t[i]]},k[i]=H[t[i]];return at.writeUInt16(1),at.writeUInt16(0),at.writeUInt32(12),at.writeUInt16(0),at.writeUInt16(262),at.writeUInt16(0),at.write(k),{charMap:a,subtable:at.data,maxGlyphID:I+1};case"unicode":for(O=[],w=[],X=0,H={},r={},P=f=null,Q=0,W=l.length;Q<W;Q++)H[pt=t[i=l[Q]]]==null&&(H[pt]=++X),r[i]={old:pt,new:H[pt]},c=H[pt]-i,P!=null&&c===f||(P&&w.push(P),O.push(i),f=c),P=i;for(P&&w.push(P),w.push(65535),O.push(65535),G=2*(M=O.length),U=2*Math.pow(Math.log(M)/Math.LN2,2),_=Math.log(U/2)/Math.LN2,K=2*M-U,h=[],wt=[],v=[],N=ut=0,gt=O.length;ut<gt;N=++ut){if(S=O[N],p=w[N],S===65535){h.push(0),wt.push(0);break}if(S-(R=r[S].new)>=32768)for(h.push(0),wt.push(2*(v.length+M-N)),i=ct=S;S<=p?ct<=p:ct>=p;i=S<=p?++ct:--ct)v.push(r[i].new);else h.push(R-S),wt.push(0)}for(at.writeUInt16(3),at.writeUInt16(1),at.writeUInt32(12),at.writeUInt16(4),at.writeUInt16(16+8*M+2*v.length),at.writeUInt16(0),at.writeUInt16(G),at.writeUInt16(U),at.writeUInt16(_),at.writeUInt16(K),At=0,q=w.length;At<q;At++)i=w[At],at.writeUInt16(i);for(at.writeUInt16(0),St=0,z=O.length;St<z;St++)i=O[St],at.writeUInt16(i);for(Mt=0,nt=h.length;Mt<nt;Mt++)c=h[Mt],at.writeUInt16(c);for(zt=0,lt=wt.length;zt<lt;zt++)Z=wt[zt],at.writeUInt16(Z);for(Qt=0,mt=v.length;Qt<mt;Qt++)I=v[Qt],at.writeUInt16(I);return{charMap:r,subtable:at.data,maxGlyphID:X+1}}},n})(),dC=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)e=new qA(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,i;return e==null&&(e="macroman"),r=qA.encode(t,e),(i=new Vc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),KB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),WB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),YB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(t.readUInt32());return h}).call(this)}},n})(),QB=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},XB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,i,a,l,c,h,f,p,w,_;for(t.pos=this.offset,t.readShort(),e=t.readShort(),c=t.readShort(),r=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=p=0,w=r.length;p<w;a=++p)i=r[a],t.pos=i.offset,f=t.readString(i.length),l=new QB(f,i),h[_=i.nameID]==null&&(h[_]=[]),h[i.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),ZB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),JB=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,i,a,l,c,h;for(t.pos=this.offset,this.metrics=[],e=0,c=this.file.hhea.numberOfMetrics;0<=c?e<c:e>c;e=0<=c?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],e=f=0;0<=i?f<i:f>i;e=0<=i?++f:--f)p.push(t.readInt16());return p})(),this.widths=(function(){var f,p,w,_;for(_=[],f=0,p=(w=this.metrics).length;f<p;f++)a=w[f],_.push(a.advance);return _}).call(this),r=this.widths[this.widths.length-1],h=[],e=l=0;0<=i?l<i:l>i;e=0<=i?++l:--l)h.push(this.widths.push(r));return h},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),pC=[].slice,tF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,i,a,l,c,h,f,p,w;return t in this.cache?this.cache[t]:(a=this.file.loca,e=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,l=(c=new Vc(e.read(i))).readShort(),f=c.readShort(),w=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[t]=l===-1?new nF(c,f,w,h,p):new eF(c,l,f,w,h,p),this.cache[t]))},n.prototype.encode=function(t,e,r){var i,a,l,c,h;for(l=[],a=[],c=0,h=e.length;c<h;c++)i=t[e[c]],a.push(l.length),i&&(l=l.concat(i.encode(r)));return a.push(l.length),{table:l,offsets:a}},n})(),eF=(function(){function n(t,e,r,i,a,l){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),nF=(function(){function n(t,e,r,i,a){var l,c;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Vc(pC.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),rF=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,fl),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<r.length;++l)if(r[l]=i,a<e.length&&e[a]==l){++a,r[l]=i;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(i+=h)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},n})(),iF=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,a;for(e in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,a,l,c,h;for(i={},l=0,c=t.length;l<c;l++)i[a=t[l]]=this.font.glyf.glyphFor(a);for(a in e=[],i)(r=i[a])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(a in h=this.glyphsFor(e))r=h[a],i[a]=r;return i},n.prototype.encode=function(t,e){var r,i,a,l,c,h,f,p,w,_,v,N,I,k,P;for(i in r=dC.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),v={0:0},P=r.charMap)v[(h=P[i]).old]=h.new;for(N in _=r.maxGlyphID,l)N in v||(v[N]=_++);return p=(function(H){var X,Z;for(X in Z={},H)Z[H[X]]=X;return Z})(v),w=Object.keys(p).sort(function(H,X){return H-X}),I=(function(){var H,X,Z;for(Z=[],H=0,X=w.length;H<X;H++)c=w[H],Z.push(p[c]);return Z})(),a=this.font.glyf.encode(l,I,v),f=this.font.loca.encode(a.offsets,I),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();ze.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,a,l;if(Array.isArray(e))return"["+(function(){var c,h,f;for(f=[],c=0,h=e.length;c<h;c++)r=e[c],f.push(t.convert(r));return f})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in a=["<<"],e)l=e[i],a.push("/"+i+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+e},t})();const sF=()=>{const[n,t]=Y.useState([]),[e,r]=Y.useState(""),[i,a]=Y.useState(""),[l,c]=Y.useState("all"),[h,f]=Y.useState("practice"),[p,w]=Y.useState(!1),[_,v]=Y.useState(!1),[N,I]=Y.useState([]),[k,P]=Y.useState([]),[H,X]=Y.useState(0),[Z,pt]=Y.useState(null),[wt,K]=Y.useState([]),[U,M]=Y.useState(0),[G,S]=Y.useState(0),[O,R]=Y.useState(0),[at,vt]=Y.useState(0),[Q,ut]=Y.useState(60),ct=Y.useRef(null),Et=Bt=>{let Nt=[...Bt];for(let st=Nt.length-1;st>0;st--){const we=Math.floor(Math.random()*(st+1));[Nt[st],Nt[we]]=[Nt[we],Nt[st]]}return Nt},W=async()=>{if(Aa.currentUser){const Bt=ro(Wr,"users",Aa.currentUser.uid),Nt=await X1(Bt);if(Nt.exists()){const st=Nt.data();r(st.name||"Unknown"),a(st.enroll||"N/A")}}},gt=async()=>{const Nt=(await yu(Sa(Wr,"questions"))).docs.map(st=>{const we=st.data();return{id:we.id??st.id,cat:we.cat??"General",q:we.q??"",options:Array.isArray(we.options)?we.options:[],a:typeof we.a=="number"?we.a:parseInt(we.a||"0",10)}});t(Nt)};Y.useEffect(()=>{W(),gt()},[]);const q=()=>["all",...Array.from(new Set(n.map(Bt=>Bt.cat||"General")))];Y.useEffect(()=>{if(!p)return;const Bt=n.filter(st=>l==="all"?!0:st.cat===l),Nt=Et(Bt.map((st,we)=>we));I(Bt),P(Nt),X(0),M(0),S(0),R(0),vt(0),pt(null),K([]),v(!1),ut(60),h==="timed"?z():nt()},[l,h,p,n]),Y.useEffect(()=>{if(!(!p||h!=="timed"||_)){if(Q<=0){mt(!0);return}return ct.current=setTimeout(()=>ut(Bt=>Bt-1),1e3),()=>clearTimeout(ct.current)}},[Q,p,h,_]);const z=()=>ut(60),nt=()=>clearTimeout(ct.current),lt=Bt=>pt(Bt),mt=(Bt=!1,Nt=null)=>{nt();const st=N[k[H]],we={id:st?.id,chosen:Bt?null:Z,correct:st?.a},he=[...wt];he[H]=we;let xe=U,ee=G,de=O,ue=at;Bt||Z===null?ue++:Z===st.a?(xe++,ee++):de++,K(he),M(xe),S(ee),R(de),vt(ue),pt(null),Nt!==null?X(Nt):H+1>=N.length?St():X(H+1),ut(60),h==="timed"&&z()},At=async()=>{if(Aa.currentUser)try{await H0(Sa(Wr,"quizHistory"),{uid:Aa.currentUser.uid,name:e,enroll:i,category:l,mode:h,score:U,correct:G,wrong:O,skipped:at,totalQuestions:N.length,answers:wt,createdAt:Mb()})}catch(Bt){console.error("Error saving history:",Bt)}},St=async()=>{nt(),v(!0),w(!1),await At()},Rt=()=>{w(!0),v(!1),X(0),M(0),S(0),R(0),vt(0),pt(null),K([]),ut(60),h==="timed"&&z()},Mt=async()=>{if(!Aa.currentUser){alert("Please login to download certificate.");return}try{const Bt=Aa.currentUser.uid,Nt=Nm(Sa(Wr,"quizHistory"),x6("uid","==",Bt),V0("createdAt","desc"),iM(1)),st=await yu(Nt);if(st.empty){alert("No quiz attempts found for your account.");return}const he=st.docs[0].data(),xe=await X1(ro(Wr,"users",Bt)),ee=xe.exists()?xe.data():{},de=ee.name||"Unknown Student",ue=ee.enroll||ee.enrollment||"N/A",Ge=Number(he.score??he.correct??0),ge=Number(he.totalQuestions??he.total??(he.pool?he.pool.length:void 0)??(he.questions?he.questions.length:void 0))||0,Ye=ge>0?(Ge/ge*100).toFixed(2):"0.00";let Pe=new Date;he.createdAt?.toDate?Pe=he.createdAt.toDate():he.createdAt&&(Pe=new Date(he.createdAt));const oe=Pe.toLocaleDateString(),pe=Pe.toLocaleTimeString(),se=new ze({orientation:"landscape"}),ce=se.internal.pageSize.getWidth(),ve=se.internal.pageSize.getHeight();se.setFillColor(245,248,255),se.rect(0,0,ce,ve,"F"),se.setDrawColor(0,102,204),se.setLineWidth(2),se.rect(12,12,ce-24,ve-24),se.setFillColor(0,102,204),se.rect(12,18,ce-24,28,"F"),se.setFont("helvetica","bold"),se.setTextColor(255,255,255),se.setFontSize(20),se.text("Certificate of Achievement",ce/2,36,{align:"center"}),se.setFontSize(12),se.setFont("helvetica","normal"),se.setTextColor(50,50,50),se.text("This certificate is proudly awarded by",ce/2,60,{align:"center"}),se.setFont("helvetica","bold"),se.setFontSize(22),se.setTextColor(255,102,0),se.text("QuizoPedia",ce/2,76,{align:"center"}),se.setFontSize(18),se.setTextColor(0,0,0),se.text(`Awarded to: ${de}`,ce/2,100,{align:"center"}),se.setFontSize(14),se.text(`Enrollment: ${ue}`,ce/2,118,{align:"center"}),se.text(`Score: ${Ge} / ${ge}`,ce/2,134,{align:"center"}),se.text(`Percentage: ${Ye}%`,ce/2,150,{align:"center"}),se.setFontSize(12),se.setTextColor(80,80,80),se.text(`Date: ${oe}   |   Time: ${pe}`,ce/2,168,{align:"center"}),se.setFontSize(12),se.setTextColor(100,100,100),se.text("Signed by:",ce-80,ve-40,{align:"left"}),se.setFont("helvetica","bold"),se.text("Vivek Sharma",ce-80,ve-25,{align:"left"}),se.setFont("helvetica","normal"),se.setFontSize(10),se.text(" QuizoPedia",18,ve-18,{align:"left"});const Ne=de.replace(/\s+/g,"_");se.save(`Certificate_${Ne}.pdf`)}catch(Bt){console.error("Certificate error:",Bt),alert("Error creating certificate. Check console for details.")}},zt=Bt=>{const Nt=wt[Bt];return Nt?Nt.chosen===null?"bg-primary":Nt.chosen===Nt.correct?"bg-success":"bg-danger":"bg-secondary"},Qt=N[k[H]];return A.jsxs("div",{className:"container my-5",children:[!p&&!_&&A.jsxs("div",{className:"card shadow-lg p-5",children:[A.jsx("h2",{className:"mb-3 text-center",children:"Start Your Quiz"}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"form-label",children:"Select Category"}),A.jsx("select",{className:"form-select",value:l,onChange:Bt=>c(Bt.target.value),children:q().map(Bt=>A.jsx("option",{value:Bt,children:Bt},Bt))})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"form-label",children:"Select Mode"}),A.jsxs("select",{className:"form-select",value:h,onChange:Bt=>f(Bt.target.value),children:[A.jsx("option",{value:"practice",children:"Practice"}),A.jsx("option",{value:"timed",children:"Timed"})]})]}),A.jsx("div",{className:"text-center",children:A.jsx("button",{className:"btn btn-success btn-lg mt-3",onClick:()=>w(!0),children:"Start Quiz"})})]}),p&&Qt&&A.jsxs("div",{className:"row",children:[A.jsx("div",{className:"col-lg-8",children:A.jsxs("div",{className:"card shadow-sm p-4 mb-3",children:[A.jsxs("h5",{className:"fw-bold",children:["Question ",H+1," / ",N.length]}),A.jsx("p",{className:"fs-5",children:Qt.q}),Qt.options.map((Bt,Nt)=>A.jsx("button",{className:`btn mb-2 w-100 text-start ${Z===Nt?"btn-primary":"btn-outline-primary"} text-truncate`,onClick:()=>lt(Nt),children:Bt},Nt)),A.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[A.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>mt(!0),children:"Skip"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>mt(!1),children:"Next"})]})]})}),A.jsx("div",{className:"col-lg-4",children:A.jsxs("div",{className:"card shadow-sm p-3",children:[A.jsxs("h5",{className:"text-center mb-3",children:["Timer: ",Q,"s"]}),A.jsx("div",{className:"d-flex flex-wrap justify-content-center",children:N.map((Bt,Nt)=>A.jsx("div",{className:`rounded-circle text-white d-flex justify-content-center align-items-center me-2 mb-2 ${zt(Nt)}`,style:{width:"40px",height:"40px",cursor:"pointer"},onClick:()=>X(Nt),children:Nt+1},Nt))}),A.jsx("button",{className:"btn btn-success w-100 mt-3",onClick:St,children:"Submit Quiz"})]})})]}),_&&A.jsxs("div",{className:"card shadow-lg p-5 text-center",children:[A.jsx("h2",{className:"mb-3 text-success",children:"Quiz Completed!"}),A.jsxs("p",{className:"fs-5",children:["Student: ",A.jsx("strong",{children:e})," | Enrollment:"," ",A.jsx("strong",{children:i})]}),A.jsxs("p",{className:"fs-5",children:["Score: ",A.jsxs("strong",{children:[U," / ",N.length]})]}),A.jsxs("p",{className:"fs-6",children:["Correct: ",A.jsx("strong",{children:G})," | Wrong:"," ",A.jsx("strong",{children:O})," | Skipped: ",A.jsx("strong",{children:at})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("button",{className:"btn btn-success btn-lg m-2",onClick:Rt,children:"Retry Quiz"}),A.jsx("button",{className:"btn btn-warning btn-lg m-2",onClick:Mt,children:"Download Certificate PDF"})]})]})]})},aF=()=>{const[n,t]=Y.useState(""),[e,r]=Y.useState(""),[i,a]=Y.useState(""),[l,c]=Y.useState(""),[h,f]=Y.useState(""),[p,w]=Y.useState(""),[_,v]=Y.useState(""),[N,I]=Y.useState(""),[k,P]=Y.useState(!0),[H,X]=Y.useState(""),Z=jh(),pt=async wt=>{wt.preventDefault(),X("");try{if(k)await kO(Aa,n,e),X(" Logged in successfully!"),Z("/features");else{const U=(await OO(Aa,n,e)).user;await N6(ro(Wr,"users",U.uid),{name:i,address:l,stream:h,enroll:p,college:_,cgpa:N,email:n}),X(" Account created successfully! You can now login."),P(!0),a(""),c(""),f(""),w(""),v(""),I(""),t(""),r("")}}catch(K){X(" "+K.message)}};return A.jsx("div",{className:"login-page d-flex align-items-center justify-content-center min-vh-100 bg-light",children:A.jsxs("div",{className:"card shadow-lg p-4 animate__animated animate__fadeInUp login-card",style:{borderRadius:"15px",maxWidth:"450px",width:"100%"},children:[A.jsx("h3",{className:"text-center mb-4 fw-bold",children:k?"Login":"Register"}),A.jsxs("form",{onSubmit:pt,children:[!k&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",className:"form-control form-control-lg",value:i,onChange:wt=>a(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Address"}),A.jsx("input",{type:"text",className:"form-control form-control-lg",value:l,onChange:wt=>c(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Stream"}),A.jsx("input",{type:"text",className:"form-control form-control-lg",value:h,onChange:wt=>f(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Enrollment No."}),A.jsx("input",{type:"text",className:"form-control form-control-lg",value:p,onChange:wt=>w(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"College Name"})," ",A.jsx("input",{type:"text",className:"form-control form-control-lg",value:_,onChange:wt=>v(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Current CGPA"})," ",A.jsx("input",{type:"text",className:"form-control form-control-lg",value:N,onChange:wt=>I(wt.target.value),required:!0})]})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Email"}),A.jsx("input",{type:"email",className:"form-control form-control-lg",value:n,onChange:wt=>t(wt.target.value),required:!0})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{children:"Password"}),A.jsx("input",{type:"password",className:"form-control form-control-lg",value:e,onChange:wt=>r(wt.target.value),required:!0})]}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-lg w-100 shadow-sm",children:k?"Login":"Register"})]}),H&&A.jsx("div",{className:"alert alert-info mt-3 animate__animated animate__fadeIn",children:H}),A.jsx("div",{className:"text-center mt-3",children:A.jsx("button",{className:"btn btn-link text-decoration-none",onClick:()=>P(!k),children:k?"Don't have an account? Register":"Already have an account? Login"})})]})})},oF=()=>{const[n,t]=Y.useState([]),[e,r]=Y.useState(!0);Y.useEffect(()=>{(async()=>{try{if(!Aa.currentUser)return;const l=Nm(Sa(Wr,"quizHistory"),x6("uid","==",Aa.currentUser.uid)),h=(await yu(l)).docs.map(f=>{const p=f.data();return{docId:f.id,studentName:p.name||"Unknown",studentEnroll:p.enroll||"N/A",quiz:p.category||"N/A",score:p.score||0,correct:p.correct||0,wrong:p.wrong||0,skipped:p.skipped||0,date:p.createdAt?p.createdAt.toDate().toLocaleString():"N/A"}});t(h.reverse())}catch(l){console.error("Error fetching history:",l)}finally{r(!1)}})()},[]);const i=(a,l,c,h)=>{const f=new ze({orientation:"landscape"}),p=f.internal.pageSize.getWidth(),w=f.internal.pageSize.getHeight(),_="#1976d2",v="#444";f.setDrawColor(_),f.setLineWidth(3),f.rect(10,10,p-20,w-20),f.setFontSize(32),f.setTextColor(_),f.text("Certificate of Achievement",p/2,40,{align:"center"}),f.setFontSize(18),f.setTextColor(255,140,0),f.text("Awarded By: QuizoPedia",p/2,60,{align:"center"}),f.setFontSize(20),f.setTextColor("#000"),f.text("This certificate is proudly presented to",p/2,80,{align:"center"}),f.setFontSize(26),f.setTextColor(_),f.text(a,p/2,100,{align:"center"}),f.setFontSize(16),f.setTextColor(v),f.text(`Enrollment: ${l}`,p/2,115,{align:"center"});const N=(c/h*100).toFixed(2);f.text(`Score: ${c} / ${h}`,p/2,130,{align:"center"}),f.text(`Percentage: ${N}%`,p/2,145,{align:"center"});const I=new Date;f.setFontSize(14),f.text(`Date: ${I.toLocaleDateString()}   Time: ${I.toLocaleTimeString()}`,p/2,165,{align:"center"}),f.setFontSize(12),f.setTextColor(v),f.text(" QuizoPedia",20,w-20,{align:"left"}),f.text("Signed by: Vivek Sharma",p-20,w-20,{align:"right"}),f.save(`Certificate_${a}.pdf`)};return e?A.jsx(Q0,{}):A.jsx("main",{className:"flex-grow-1 d-flex flex-column align-items-center bg-light min-vh-100 py-5",children:A.jsxs("div",{className:"container text-center",children:[A.jsxs("h1",{className:"display-4 fw-bold text-dark mb-3",children:["Welcome to ",A.jsx("span",{className:"text-primary",children:"QuizWeb"})]}),A.jsx("p",{className:"lead text-muted mb-4",children:"Test your knowledge with fun and interactive quizzes!"}),A.jsx(Ll,{to:"/QuizeQuest",className:"btn btn-primary btn-lg shadow mb-5",children:" Get Started"}),n.length>0?A.jsxs("div",{className:"text-start",children:[A.jsx("h3",{className:"mb-3",children:"Your Quiz History:"}),A.jsx("div",{className:"table-responsive shadow-sm rounded",children:A.jsxs("table",{className:"table table-striped table-hover mb-0",children:[A.jsx("thead",{className:"table-dark",children:A.jsxs("tr",{children:[A.jsx("th",{children:"Quiz"}),A.jsx("th",{children:"Score"}),A.jsx("th",{children:"Correct"}),A.jsx("th",{children:"Wrong"}),A.jsx("th",{children:"Skipped"}),A.jsx("th",{children:"Date"}),A.jsx("th",{children:"Action"})]})}),A.jsx("tbody",{children:n.map((a,l)=>{const c=(a.correct||0)+(a.wrong||0)+(a.skipped||0);return c>0&&(a.correct/c*100).toFixed(2),A.jsxs("tr",{children:[A.jsx("td",{children:a.quiz}),A.jsx("td",{children:a.score}),A.jsx("td",{children:a.correct}),A.jsx("td",{children:a.wrong}),A.jsx("td",{children:a.skipped}),A.jsx("td",{children:a.date}),A.jsx("td",{children:A.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>i(a.studentName,a.studentEnroll,a.score,c),children:"Download Certificate"})})]},l)})})]})})]}):A.jsx("p",{className:"text-muted",children:"No quiz attempts yet."})]})})},lF=()=>{const[n,t]=Y.useState({}),[e,r]=Y.useState(!0),[i,a]=Y.useState(!1),[l,c]=Y.useState(""),[h,f]=Y.useState(""),p=jh();Y.useEffect(()=>{(async()=>{if(Aa.currentUser){const I=ro(Wr,"users",Aa.currentUser.uid),k=await X1(I);k.exists()?t(k.data()):console.log("No user data found!")}r(!1)})()},[]);const w=async()=>{await Aa.signOut(),t({}),p("/")},_=()=>{a(!0)},v=()=>{l==="vivek"&&h==="vivek123"?p("/admin"):alert("Invalid Admin Credentials!")};return e?A.jsx(Q0,{}):A.jsx("div",{className:"container mt-5",children:A.jsxs("div",{className:"card shadow-lg p-4",style:{borderRadius:"15px"},children:[A.jsx("h2",{className:"text-center mb-4",style:{fontWeight:"600"},children:"Account Details"}),A.jsxs("div",{className:"list-group list-group-flush",children:[n.email&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(AN,{className:"me-3 text-primary",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Email"}),A.jsx("div",{children:n.email})]})]}),n.name&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(hq,{className:"me-3 text-success",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Name"}),A.jsx("div",{children:n.name})]})]}),n.enroll&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(AE,{className:"me-3 text-warning",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Enrollment No."}),A.jsx("div",{children:n.enroll})]})]}),n.address&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(oq,{className:"me-3 text-danger",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Address"}),A.jsx("div",{children:n.address})]})]}),n.stream&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(sq,{className:"me-3 text-warning",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Stream"}),A.jsx("div",{children:n.stream})]})]}),n.college&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(uq,{className:"me-3 text-info",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"College Name"}),A.jsx("div",{children:n.college})]})]}),n.cgpa&&A.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[A.jsx(AE,{className:"me-3 text-secondary",size:20}),A.jsxs("div",{children:[A.jsx("div",{className:"fw-bold",children:"Current CGPA"}),A.jsx("div",{children:n.cgpa})]})]})]}),A.jsx("button",{className:"btn btn-danger w-100 mt-4",onClick:w,style:{borderRadius:"10px",fontWeight:"500"},children:"Logout"}),A.jsxs("button",{className:"btn btn-primary w-100 mt-2",onClick:_,style:{borderRadius:"10px",fontWeight:"500"},children:[A.jsx(cq,{className:"me-2"})," Admin Panel"]}),i&&A.jsxs("div",{className:"mt-3",children:[A.jsx("input",{type:"text",placeholder:"Admin ID",value:l,onChange:N=>c(N.target.value),className:"form-control mb-2"}),A.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:N=>f(N.target.value),className:"form-control mb-2"}),A.jsx("button",{className:"btn btn-success w-100",onClick:v,children:"Login as Admin"})]})]})})},uF=()=>{const n=jh();return A.jsxs(Ba,{className:"my-5",children:[A.jsx("h1",{className:"text-center fw-bold mb-4 text-primary",children:"Admin Dashboard"}),A.jsxs(Qs,{className:"g-4",children:[A.jsx(Tr,{md:6,children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 h-100 p-4 hover-card",children:[A.jsx("h3",{className:"fw-bold text-success",children:"Add Question"}),A.jsx("p",{className:"text-muted fs-6",children:"Create and manage quiz or exam questions here. Keep your question bank updated easily."}),A.jsx(rr,{variant:"success",className:"px-4 py-2 rounded-pill shadow-sm",onClick:()=>n("/addquest"),children:"Add Question"})]})}),A.jsx(Tr,{md:6,children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 h-100 p-4 hover-card",children:[A.jsx("h3",{className:"fw-bold text-info",children:"Add Content"}),A.jsx("p",{className:"text-muted fs-6",children:"Upload learning materials, notes, and study content. Help your students with more resources."}),A.jsx(rr,{variant:"info",className:"px-4 py-2 rounded-pill shadow-sm",onClick:()=>n("/addcontent"),children:"Add Content"})]})}),A.jsx(Tr,{md:6,children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 h-100 p-4 hover-card",children:[A.jsx("h3",{className:"fw-bold text-warning",children:"Show Messages"}),A.jsx("p",{className:"text-muted fs-6",children:"View all contact messages submitted by users. Stay connected with your audience easily."}),A.jsx(rr,{variant:"warning",className:"px-4 py-2 rounded-pill shadow-sm",onClick:()=>n("/contactshow"),children:"Show Messages"})]})}),A.jsx(Tr,{md:6,children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 h-100 p-4 hover-card",children:[A.jsx("h3",{className:"fw-bold text-primary",children:"Student Details"}),A.jsx("p",{className:"text-muted fs-6",children:"View all registered students and their quiz history. Manage student information easily."}),A.jsx(rr,{variant:"primary",className:"px-4 py-2 rounded-pill shadow-sm",onClick:()=>n("/studentdetails"),children:"View Students"})]})})]})]})},cF=()=>{const{id:n}=rL(),[t,e]=Y.useState(null),[r,i]=Y.useState(!0),[a,l]=Y.useState(!1),[c,h]=Y.useState(!1),[f,p]=Y.useState(!1);Y.useEffect(()=>{(async()=>{try{i(!0);const N=ro(Wr,"features",n),I=await X1(N);I.exists()?e(I.data()):console.log(" No such document!")}catch(N){console.error("Error fetching content:",N)}finally{i(!1)}})()},[n]);const w=v=>{try{const N=new URL(v);if(N.hostname==="youtu.be")return N.pathname.slice(1);if(N.hostname.includes("youtube.com"))return N.searchParams.get("v")}catch{return null}return null};if(r)return A.jsx(Q0,{});if(!t)return A.jsx(Ba,{className:"my-5",children:A.jsx("h3",{className:"text-center text-danger",children:" Content not found!"})});const _=w(t.youtubeUrl);return A.jsx(Ba,{className:"my-5",children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 p-4",style:{backgroundColor:"#f8f9fa"},children:[A.jsxs(Qs,{className:"align-items-center mb-4",children:[A.jsx(Tr,{md:6,children:A.jsx("img",{src:t.image,alt:t.title,className:"img-fluid rounded shadow-sm",style:{width:"100%",maxHeight:"400px",objectFit:"cover"}})}),A.jsxs(Tr,{md:6,className:"d-flex flex-column justify-content-center align-items-start ps-4",children:[A.jsx("h2",{className:"fw-bold text-primary",children:t.title}),A.jsx("p",{className:"text-muted fs-5",children:t.shortDescription}),t.youtubeUrl&&_&&A.jsx(rr,{variant:f?"secondary":"danger",className:"px-4 py-2 rounded-pill mt-3",onClick:()=>p(!f),children:f?" Pause Video":" Play Video"})]})]}),f&&_&&A.jsx("div",{className:"text-center mb-4",children:A.jsx("iframe",{width:"100%",height:"600",src:`https://www.youtube.com/embed/${_}?autoplay=1`,title:"YouTube Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded shadow"})}),A.jsx("div",{className:"fs-5 text-dark mb-4",style:{lineHeight:"1.8"},dangerouslySetInnerHTML:{__html:t.fullDescription}}),t.exampleCode&&A.jsxs(A.Fragment,{children:[A.jsxs(rr,{variant:"outline-dark",onClick:()=>l(!a),"aria-controls":"example-code-collapse","aria-expanded":a,className:"mb-3",children:[" ",a?"Hide Example Code":"Show Example Code"]}),A.jsx(wh,{in:a,children:A.jsx("div",{id:"example-code-collapse",className:"p-3 bg-dark rounded shadow-sm mb-3",children:A.jsx("pre",{className:"text-white",style:{overflowX:"auto"},children:A.jsx("code",{children:t.exampleCode})})})})]}),t.outputType&&t.outputValue&&A.jsxs(A.Fragment,{children:[A.jsxs(rr,{variant:"outline-dark",onClick:()=>h(!c),"aria-controls":"output-collapse","aria-expanded":c,className:"mb-3",children:[" ",c?"Hide Output":"Show Output"]}),A.jsx(wh,{in:c,children:A.jsx("div",{id:"output-collapse",className:"text-center my-3",children:t.outputType==="image"?A.jsx("img",{src:t.outputValue,alt:"Output",className:"img-fluid rounded shadow-sm",style:{maxHeight:"250px",border:"2px solid #ddd"}}):A.jsx("pre",{className:"p-3 bg-light text-dark rounded shadow-sm text-start",style:{overflowX:"auto"},children:t.outputValue})})})]}),t.exampleCode&&A.jsxs("div",{className:"text-center mt-4 d-flex gap-3 flex-wrap justify-content-center",children:[A.jsx(rr,{variant:"warning",className:"px-4 py-2 rounded-pill shadow-sm",style:{background:"linear-gradient(90deg,#ffc107,#ffecb3)",border:"none"},onClick:()=>window.open("https://www.programiz.com/online-compiler","_blank"),children:" Run C/Java/Python Online"}),A.jsx(rr,{variant:"success",className:"px-4 py-2 rounded-pill shadow-sm",style:{background:"linear-gradient(90deg,#28a745,#71ff85)",border:"none"},onClick:()=>window.open("https://stackblitz.com/fork/react","_blank"),children:" Run React / Node Online"})]})]})})},hF=()=>{const[n,t]=Y.useState(""),[e,r]=Y.useState(""),[i,a]=Y.useState(["","","",""]),[l,c]=Y.useState(0),[h,f]=Y.useState(""),p=(_,v)=>{const N=[...i];N[_]=v,a(N)},w=async _=>{if(_.preventDefault(),!n||!e||i.some(v=>v.trim()==="")){alert("Fill all fields!");return}try{await H0(Sa(Wr,"questions"),{cat:n,q:e,options:i,a:parseInt(l,10)}),f("Question added successfully!"),r(""),a(["","","",""]),c(0),t("")}catch(v){console.error("Error adding question: ",v),f("Error adding question!")}};return A.jsx("div",{className:"container mt-5",children:A.jsxs("div",{className:"card shadow p-4",children:[A.jsx("h2",{className:"mb-4 text-center",children:"Admin - Add Question"}),A.jsxs("form",{onSubmit:w,children:[A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"form-label",children:"Category"}),A.jsx("input",{type:"text",className:"form-control",value:n,onChange:_=>t(_.target.value),placeholder:"e.g. DWDM, ML, React"})]}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"form-label",children:"Question"}),A.jsx("textarea",{className:"form-control",value:e,onChange:_=>r(_.target.value),placeholder:"Type your question here"})]}),i.map((_,v)=>A.jsxs("div",{className:"mb-2",children:[A.jsxs("label",{className:"form-label",children:["Option ",v+1]}),A.jsx("input",{type:"text",className:"form-control",value:_,onChange:N=>p(v,N.target.value)})]},v)),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"form-label",children:"Correct Option (0-3)"}),A.jsx("input",{type:"number",className:"form-control",value:l,onChange:_=>c(_.target.value),min:0,max:3})]}),A.jsx("button",{type:"submit",className:"btn btn-success w-100",children:"Add Question"})]}),h&&A.jsx("p",{className:"mt-3 text-center",children:h})]})})};var mC=typeof global=="object"&&global&&global.Object===Object&&global,fF=typeof self=="object"&&self&&self.Object===Object&&self,Hl=mC||fF||Function("return this")(),zc=Hl.Symbol,gC=Object.prototype,dF=gC.hasOwnProperty,pF=gC.toString,Ap=zc?zc.toStringTag:void 0;function mF(n){var t=dF.call(n,Ap),e=n[Ap];try{n[Ap]=void 0;var r=!0}catch{}var i=pF.call(n);return r&&(t?n[Ap]=e:delete n[Ap]),i}var gF=Object.prototype,yF=gF.toString;function vF(n){return yF.call(n)}var bF="[object Null]",_F="[object Undefined]",UA=zc?zc.toStringTag:void 0;function Sd(n){return n==null?n===void 0?_F:bF:UA&&UA in Object(n)?mF(n):vF(n)}function Lu(n){return n!=null&&typeof n=="object"}var kh=Array.isArray;function Wc(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function yC(n){return n}var wF="[object AsyncFunction]",EF="[object Function]",AF="[object GeneratorFunction]",xF="[object Proxy]";function Zb(n){if(!Wc(n))return!1;var t=Sd(n);return t==EF||t==AF||t==wF||t==xF}var fv=Hl["__core-js_shared__"],BA=(function(){var n=/[^.]+$/.exec(fv&&fv.keys&&fv.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function SF(n){return!!BA&&BA in n}var TF=Function.prototype,NF=TF.toString;function zh(n){if(n!=null){try{return NF.call(n)}catch{}try{return n+""}catch{}}return""}var CF=/[\\^$.*+?()[\]{}|]/g,RF=/^\[object .+?Constructor\]$/,LF=Function.prototype,IF=Object.prototype,OF=LF.toString,kF=IF.hasOwnProperty,DF=RegExp("^"+OF.call(kF).replace(CF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PF(n){if(!Wc(n)||SF(n))return!1;var t=Zb(n)?DF:RF;return t.test(zh(n))}function MF(n,t){return n?.[t]}function Hh(n,t){var e=MF(n,t);return PF(e)?e:void 0}var g5=Hh(Hl,"WeakMap"),FA=Object.create,jF=(function(){function n(){}return function(t){if(!Wc(t))return{};if(FA)return FA(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}})();function qF(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function UF(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var BF=800,FF=16,VF=Date.now;function zF(n){var t=0,e=0;return function(){var r=VF(),i=FF-(r-e);if(e=r,i>0){if(++t>=BF)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function HF(n){return function(){return n}}var u0=(function(){try{var n=Hh(Object,"defineProperty");return n({},"",{}),n}catch{}})(),$F=u0?function(n,t){return u0(n,"toString",{configurable:!0,enumerable:!1,value:HF(t),writable:!0})}:yC,GF=zF($F);function KF(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var WF=9007199254740991,YF=/^(?:0|[1-9]\d*)$/;function vC(n,t){var e=typeof n;return t=t??WF,!!t&&(e=="number"||e!="symbol"&&YF.test(n))&&n>-1&&n%1==0&&n<t}function Jb(n,t,e){t=="__proto__"&&u0?u0(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Om(n,t){return n===t||n!==n&&t!==t}var QF=Object.prototype,XF=QF.hasOwnProperty;function bC(n,t,e){var r=n[t];(!(XF.call(n,t)&&Om(r,e))||e===void 0&&!(t in n))&&Jb(n,t,e)}function ZF(n,t,e,r){var i=!e;e||(e={});for(var a=-1,l=t.length;++a<l;){var c=t[a],h=void 0;h===void 0&&(h=n[c]),i?Jb(e,c,h):bC(e,c,h)}return e}var VA=Math.max;function JF(n,t,e){return t=VA(t===void 0?n.length-1:t,0),function(){for(var r=arguments,i=-1,a=VA(r.length-t,0),l=Array(a);++i<a;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=e(l),qF(n,this,c)}}function tV(n,t){return GF(JF(n,t,yC),n+"")}var eV=9007199254740991;function _C(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=eV}function J0(n){return n!=null&&_C(n.length)&&!Zb(n)}function nV(n,t,e){if(!Wc(e))return!1;var r=typeof t;return(r=="number"?J0(e)&&vC(t,e.length):r=="string"&&t in e)?Om(e[t],n):!1}function rV(n){return tV(function(t,e){var r=-1,i=e.length,a=i>1?e[i-1]:void 0,l=i>2?e[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,l&&nV(e[0],e[1],l)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=e[r];c&&n(t,c,r,a)}return t})}var iV=Object.prototype;function t_(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||iV;return n===e}function sV(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var aV="[object Arguments]";function zA(n){return Lu(n)&&Sd(n)==aV}var wC=Object.prototype,oV=wC.hasOwnProperty,lV=wC.propertyIsEnumerable,y5=zA((function(){return arguments})())?zA:function(n){return Lu(n)&&oV.call(n,"callee")&&!lV.call(n,"callee")};function uV(){return!1}var EC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,HA=EC&&typeof module=="object"&&module&&!module.nodeType&&module,cV=HA&&HA.exports===EC,$A=cV?Hl.Buffer:void 0,hV=$A?$A.isBuffer:void 0,om=hV||uV,fV="[object Arguments]",dV="[object Array]",pV="[object Boolean]",mV="[object Date]",gV="[object Error]",yV="[object Function]",vV="[object Map]",bV="[object Number]",_V="[object Object]",wV="[object RegExp]",EV="[object Set]",AV="[object String]",xV="[object WeakMap]",SV="[object ArrayBuffer]",TV="[object DataView]",NV="[object Float32Array]",CV="[object Float64Array]",RV="[object Int8Array]",LV="[object Int16Array]",IV="[object Int32Array]",OV="[object Uint8Array]",kV="[object Uint8ClampedArray]",DV="[object Uint16Array]",PV="[object Uint32Array]",ti={};ti[NV]=ti[CV]=ti[RV]=ti[LV]=ti[IV]=ti[OV]=ti[kV]=ti[DV]=ti[PV]=!0;ti[fV]=ti[dV]=ti[SV]=ti[pV]=ti[TV]=ti[mV]=ti[gV]=ti[yV]=ti[vV]=ti[bV]=ti[_V]=ti[wV]=ti[EV]=ti[AV]=ti[xV]=!1;function MV(n){return Lu(n)&&_C(n.length)&&!!ti[Sd(n)]}function e_(n){return function(t){return n(t)}}var AC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hp=AC&&typeof module=="object"&&module&&!module.nodeType&&module,jV=Hp&&Hp.exports===AC,dv=jV&&mC.process,ud=(function(){try{var n=Hp&&Hp.require&&Hp.require("util").types;return n||dv&&dv.binding&&dv.binding("util")}catch{}})(),GA=ud&&ud.isTypedArray,n_=GA?e_(GA):MV,qV=Object.prototype,UV=qV.hasOwnProperty;function xC(n,t){var e=kh(n),r=!e&&y5(n),i=!e&&!r&&om(n),a=!e&&!r&&!i&&n_(n),l=e||r||i||a,c=l?sV(n.length,String):[],h=c.length;for(var f in n)(t||UV.call(n,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||vC(f,h)))&&c.push(f);return c}function SC(n,t){return function(e){return n(t(e))}}var BV=SC(Object.keys,Object),FV=Object.prototype,VV=FV.hasOwnProperty;function zV(n){if(!t_(n))return BV(n);var t=[];for(var e in Object(n))VV.call(n,e)&&e!="constructor"&&t.push(e);return t}function HV(n){return J0(n)?xC(n):zV(n)}function $V(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var GV=Object.prototype,KV=GV.hasOwnProperty;function WV(n){if(!Wc(n))return $V(n);var t=t_(n),e=[];for(var r in n)r=="constructor"&&(t||!KV.call(n,r))||e.push(r);return e}function TC(n){return J0(n)?xC(n,!0):WV(n)}var lm=Hh(Object,"create");function YV(){this.__data__=lm?lm(null):{},this.size=0}function QV(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var XV="__lodash_hash_undefined__",ZV=Object.prototype,JV=ZV.hasOwnProperty;function tz(n){var t=this.__data__;if(lm){var e=t[n];return e===XV?void 0:e}return JV.call(t,n)?t[n]:void 0}var ez=Object.prototype,nz=ez.hasOwnProperty;function rz(n){var t=this.__data__;return lm?t[n]!==void 0:nz.call(t,n)}var iz="__lodash_hash_undefined__";function sz(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=lm&&t===void 0?iz:t,this}function Dh(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Dh.prototype.clear=YV;Dh.prototype.delete=QV;Dh.prototype.get=tz;Dh.prototype.has=rz;Dh.prototype.set=sz;function az(){this.__data__=[],this.size=0}function t2(n,t){for(var e=n.length;e--;)if(Om(n[e][0],t))return e;return-1}var oz=Array.prototype,lz=oz.splice;function uz(n){var t=this.__data__,e=t2(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():lz.call(t,e,1),--this.size,!0}function cz(n){var t=this.__data__,e=t2(t,n);return e<0?void 0:t[e][1]}function hz(n){return t2(this.__data__,n)>-1}function fz(n,t){var e=this.__data__,r=t2(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}function Mu(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Mu.prototype.clear=az;Mu.prototype.delete=uz;Mu.prototype.get=cz;Mu.prototype.has=hz;Mu.prototype.set=fz;var um=Hh(Hl,"Map");function dz(){this.size=0,this.__data__={hash:new Dh,map:new(um||Mu),string:new Dh}}function pz(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function e2(n,t){var e=n.__data__;return pz(t)?e[typeof t=="string"?"string":"hash"]:e.map}function mz(n){var t=e2(this,n).delete(n);return this.size-=t?1:0,t}function gz(n){return e2(this,n).get(n)}function yz(n){return e2(this,n).has(n)}function vz(n,t){var e=e2(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}function $h(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}$h.prototype.clear=dz;$h.prototype.delete=mz;$h.prototype.get=gz;$h.prototype.has=yz;$h.prototype.set=vz;function bz(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}var NC=SC(Object.getPrototypeOf,Object),_z="[object Object]",wz=Function.prototype,Ez=Object.prototype,CC=wz.toString,Az=Ez.hasOwnProperty,xz=CC.call(Object);function Sz(n){if(!Lu(n)||Sd(n)!=_z)return!1;var t=NC(n);if(t===null)return!0;var e=Az.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&CC.call(e)==xz}function Tz(){this.__data__=new Mu,this.size=0}function Nz(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function Cz(n){return this.__data__.get(n)}function Rz(n){return this.__data__.has(n)}var Lz=200;function Iz(n,t){var e=this.__data__;if(e instanceof Mu){var r=e.__data__;if(!um||r.length<Lz-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new $h(r)}return e.set(n,t),this.size=e.size,this}function Bl(n){var t=this.__data__=new Mu(n);this.size=t.size}Bl.prototype.clear=Tz;Bl.prototype.delete=Nz;Bl.prototype.get=Cz;Bl.prototype.has=Rz;Bl.prototype.set=Iz;var RC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KA=RC&&typeof module=="object"&&module&&!module.nodeType&&module,Oz=KA&&KA.exports===RC,WA=Oz?Hl.Buffer:void 0,YA=WA?WA.allocUnsafe:void 0;function LC(n,t){if(t)return n.slice();var e=n.length,r=YA?YA(e):new n.constructor(e);return n.copy(r),r}function kz(n,t){for(var e=-1,r=n==null?0:n.length,i=0,a=[];++e<r;){var l=n[e];t(l,e,n)&&(a[i++]=l)}return a}function Dz(){return[]}var Pz=Object.prototype,Mz=Pz.propertyIsEnumerable,QA=Object.getOwnPropertySymbols,jz=QA?function(n){return n==null?[]:(n=Object(n),kz(QA(n),function(t){return Mz.call(n,t)}))}:Dz;function qz(n,t,e){var r=t(n);return kh(n)?r:bz(r,e(n))}function v5(n){return qz(n,HV,jz)}var b5=Hh(Hl,"DataView"),_5=Hh(Hl,"Promise"),w5=Hh(Hl,"Set"),XA="[object Map]",Uz="[object Object]",ZA="[object Promise]",JA="[object Set]",tx="[object WeakMap]",ex="[object DataView]",Bz=zh(b5),Fz=zh(um),Vz=zh(_5),zz=zh(w5),Hz=zh(g5),Jo=Sd;(b5&&Jo(new b5(new ArrayBuffer(1)))!=ex||um&&Jo(new um)!=XA||_5&&Jo(_5.resolve())!=ZA||w5&&Jo(new w5)!=JA||g5&&Jo(new g5)!=tx)&&(Jo=function(n){var t=Sd(n),e=t==Uz?n.constructor:void 0,r=e?zh(e):"";if(r)switch(r){case Bz:return ex;case Fz:return XA;case Vz:return ZA;case zz:return JA;case Hz:return tx}return t});var $z=Object.prototype,Gz=$z.hasOwnProperty;function Kz(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&Gz.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var c0=Hl.Uint8Array;function r_(n){var t=new n.constructor(n.byteLength);return new c0(t).set(new c0(n)),t}function Wz(n,t){var e=r_(n.buffer);return new n.constructor(e,n.byteOffset,n.byteLength)}var Yz=/\w*$/;function Qz(n){var t=new n.constructor(n.source,Yz.exec(n));return t.lastIndex=n.lastIndex,t}var nx=zc?zc.prototype:void 0,rx=nx?nx.valueOf:void 0;function Xz(n){return rx?Object(rx.call(n)):{}}function IC(n,t){var e=t?r_(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var Zz="[object Boolean]",Jz="[object Date]",tH="[object Map]",eH="[object Number]",nH="[object RegExp]",rH="[object Set]",iH="[object String]",sH="[object Symbol]",aH="[object ArrayBuffer]",oH="[object DataView]",lH="[object Float32Array]",uH="[object Float64Array]",cH="[object Int8Array]",hH="[object Int16Array]",fH="[object Int32Array]",dH="[object Uint8Array]",pH="[object Uint8ClampedArray]",mH="[object Uint16Array]",gH="[object Uint32Array]";function yH(n,t,e){var r=n.constructor;switch(t){case aH:return r_(n);case Zz:case Jz:return new r(+n);case oH:return Wz(n);case lH:case uH:case cH:case hH:case fH:case dH:case pH:case mH:case gH:return IC(n,e);case tH:return new r;case eH:case iH:return new r(n);case nH:return Qz(n);case rH:return new r;case sH:return Xz(n)}}function OC(n){return typeof n.constructor=="function"&&!t_(n)?jF(NC(n)):{}}var vH="[object Map]";function bH(n){return Lu(n)&&Jo(n)==vH}var ix=ud&&ud.isMap,_H=ix?e_(ix):bH,wH="[object Set]";function EH(n){return Lu(n)&&Jo(n)==wH}var sx=ud&&ud.isSet,AH=sx?e_(sx):EH,xH=1,kC="[object Arguments]",SH="[object Array]",TH="[object Boolean]",NH="[object Date]",CH="[object Error]",DC="[object Function]",RH="[object GeneratorFunction]",LH="[object Map]",IH="[object Number]",PC="[object Object]",OH="[object RegExp]",kH="[object Set]",DH="[object String]",PH="[object Symbol]",MH="[object WeakMap]",jH="[object ArrayBuffer]",qH="[object DataView]",UH="[object Float32Array]",BH="[object Float64Array]",FH="[object Int8Array]",VH="[object Int16Array]",zH="[object Int32Array]",HH="[object Uint8Array]",$H="[object Uint8ClampedArray]",GH="[object Uint16Array]",KH="[object Uint32Array]",$r={};$r[kC]=$r[SH]=$r[jH]=$r[qH]=$r[TH]=$r[NH]=$r[UH]=$r[BH]=$r[FH]=$r[VH]=$r[zH]=$r[LH]=$r[IH]=$r[PC]=$r[OH]=$r[kH]=$r[DH]=$r[PH]=$r[HH]=$r[$H]=$r[GH]=$r[KH]=!0;$r[CH]=$r[DC]=$r[MH]=!1;function R1(n,t,e,r,i,a){var l,c=t&xH;if(l!==void 0)return l;if(!Wc(n))return n;var h=kh(n);if(h)l=Kz(n);else{var f=Jo(n),p=f==DC||f==RH;if(om(n))return LC(n,c);if(f==PC||f==kC||p&&!i)l=p?{}:OC(n);else{if(!$r[f])return i?n:{};l=yH(n,f,c)}}a||(a=new Bl);var w=a.get(n);if(w)return w;a.set(n,l),AH(n)?n.forEach(function(N){l.add(R1(N,t,e,N,n,a))}):_H(n)&&n.forEach(function(N,I){l.set(I,R1(N,t,e,I,n,a))});var _=v5,v=h?void 0:_(n);return KF(v||n,function(N,I){v&&(I=N,N=n[I]),bC(l,I,R1(N,t,e,I,n,a))}),l}var WH=1,YH=4;function Jf(n){return R1(n,WH|YH)}var QH="__lodash_hash_undefined__";function XH(n){return this.__data__.set(n,QH),this}function ZH(n){return this.__data__.has(n)}function h0(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new $h;++t<e;)this.add(n[t])}h0.prototype.add=h0.prototype.push=XH;h0.prototype.has=ZH;function JH(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}function t$(n,t){return n.has(t)}var e$=1,n$=2;function MC(n,t,e,r,i,a){var l=e&e$,c=n.length,h=t.length;if(c!=h&&!(l&&h>c))return!1;var f=a.get(n),p=a.get(t);if(f&&p)return f==t&&p==n;var w=-1,_=!0,v=e&n$?new h0:void 0;for(a.set(n,t),a.set(t,n);++w<c;){var N=n[w],I=t[w];if(r)var k=l?r(I,N,w,t,n,a):r(N,I,w,n,t,a);if(k!==void 0){if(k)continue;_=!1;break}if(v){if(!JH(t,function(P,H){if(!t$(v,H)&&(N===P||i(N,P,e,r,a)))return v.push(H)})){_=!1;break}}else if(!(N===I||i(N,I,e,r,a))){_=!1;break}}return a.delete(n),a.delete(t),_}function r$(n){var t=-1,e=Array(n.size);return n.forEach(function(r,i){e[++t]=[i,r]}),e}function i$(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var s$=1,a$=2,o$="[object Boolean]",l$="[object Date]",u$="[object Error]",c$="[object Map]",h$="[object Number]",f$="[object RegExp]",d$="[object Set]",p$="[object String]",m$="[object Symbol]",g$="[object ArrayBuffer]",y$="[object DataView]",ax=zc?zc.prototype:void 0,pv=ax?ax.valueOf:void 0;function v$(n,t,e,r,i,a,l){switch(e){case y$:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case g$:return!(n.byteLength!=t.byteLength||!a(new c0(n),new c0(t)));case o$:case l$:case h$:return Om(+n,+t);case u$:return n.name==t.name&&n.message==t.message;case f$:case p$:return n==t+"";case c$:var c=r$;case d$:var h=r&s$;if(c||(c=i$),n.size!=t.size&&!h)return!1;var f=l.get(n);if(f)return f==t;r|=a$,l.set(n,t);var p=MC(c(n),c(t),r,i,a,l);return l.delete(n),p;case m$:if(pv)return pv.call(n)==pv.call(t)}return!1}var b$=1,_$=Object.prototype,w$=_$.hasOwnProperty;function E$(n,t,e,r,i,a){var l=e&b$,c=v5(n),h=c.length,f=v5(t),p=f.length;if(h!=p&&!l)return!1;for(var w=h;w--;){var _=c[w];if(!(l?_ in t:w$.call(t,_)))return!1}var v=a.get(n),N=a.get(t);if(v&&N)return v==t&&N==n;var I=!0;a.set(n,t),a.set(t,n);for(var k=l;++w<h;){_=c[w];var P=n[_],H=t[_];if(r)var X=l?r(H,P,_,t,n,a):r(P,H,_,n,t,a);if(!(X===void 0?P===H||i(P,H,e,r,a):X)){I=!1;break}k||(k=_=="constructor")}if(I&&!k){var Z=n.constructor,pt=t.constructor;Z!=pt&&"constructor"in n&&"constructor"in t&&!(typeof Z=="function"&&Z instanceof Z&&typeof pt=="function"&&pt instanceof pt)&&(I=!1)}return a.delete(n),a.delete(t),I}var A$=1,ox="[object Arguments]",lx="[object Array]",e1="[object Object]",x$=Object.prototype,ux=x$.hasOwnProperty;function S$(n,t,e,r,i,a){var l=kh(n),c=kh(t),h=l?lx:Jo(n),f=c?lx:Jo(t);h=h==ox?e1:h,f=f==ox?e1:f;var p=h==e1,w=f==e1,_=h==f;if(_&&om(n)){if(!om(t))return!1;l=!0,p=!1}if(_&&!p)return a||(a=new Bl),l||n_(n)?MC(n,t,e,r,i,a):v$(n,t,h,e,r,i,a);if(!(e&A$)){var v=p&&ux.call(n,"__wrapped__"),N=w&&ux.call(t,"__wrapped__");if(v||N){var I=v?n.value():n,k=N?t.value():t;return a||(a=new Bl),i(I,k,e,r,a)}}return _?(a||(a=new Bl),E$(n,t,e,r,i,a)):!1}function jC(n,t,e,r,i){return n===t?!0:n==null||t==null||!Lu(n)&&!Lu(t)?n!==n&&t!==t:S$(n,t,e,r,jC,i)}function T$(n){return function(t,e,r){for(var i=-1,a=Object(t),l=r(t),c=l.length;c--;){var h=l[++i];if(e(a[h],h,a)===!1)break}return t}}var N$=T$();function E5(n,t,e){(e!==void 0&&!Om(n[t],e)||e===void 0&&!(t in n))&&Jb(n,t,e)}function C$(n){return Lu(n)&&J0(n)}function A5(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function R$(n){return ZF(n,TC(n))}function L$(n,t,e,r,i,a,l){var c=A5(n,e),h=A5(t,e),f=l.get(h);if(f){E5(n,e,f);return}var p=a?a(c,h,e+"",n,t,l):void 0,w=p===void 0;if(w){var _=kh(h),v=!_&&om(h),N=!_&&!v&&n_(h);p=h,_||v||N?kh(c)?p=c:C$(c)?p=UF(c):v?(w=!1,p=LC(h,!0)):N?(w=!1,p=IC(h,!0)):p=[]:Sz(h)||y5(h)?(p=c,y5(c)?p=R$(c):(!Wc(c)||Zb(c))&&(p=OC(h))):w=!1}w&&(l.set(h,p),i(p,h,r,a,l),l.delete(h)),E5(n,e,p)}function qC(n,t,e,r,i){n!==t&&N$(t,function(a,l){if(i||(i=new Bl),Wc(a))L$(n,t,l,e,qC,r,i);else{var c=r?r(A5(n,l),a,l+"",n,t,i):void 0;c===void 0&&(c=a),E5(n,l,c)}},TC)}function xc(n,t){return jC(n,t)}var Dc=rV(function(n,t,e){qC(n,t,e)}),Fe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Fe||{});class Vl{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const i=Fe.TYPE&Fe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Fe.LEVEL|i:Fe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class td extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const UC=class x5{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(t,e,r){const i=this.query(e);if(i==null)throw new td(`Unable to create ${e} blot`);const a=i,l=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(r),c=new a(t,l,r);return x5.blots.set(c.domNode,c),c}find(t,e=!1){return x5.find(t,e)}query(t,e=Fe.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&Fe.LEVEL&Fe.BLOCK?r=this.types.block:t&Fe.LEVEL&Fe.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&e&Fe.LEVEL&r.scope&&e&Fe.TYPE&r.scope?r:null}register(...t){return t.map(e=>{const r="blotName"in e,i="attrName"in e;if(!r&&!i)throw new td("Invalid definition");if(r&&e.blotName==="abstract")throw new td("Cannot register abstract class");const a=r?e.blotName:i?e.attrName:void 0;return this.types[a]=e,i?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):r&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(l=>l.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(l=>{(this.tags[l]==null||e.className==null)&&(this.tags[l]=e)}))),e})}};UC.blots=new WeakMap;let cd=UC;function cx(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class I$ extends Vl{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){cx(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(cx(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const dl=I$;function mv(n){const t=n.split("-"),e=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+e}class O$ extends Vl{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[mv(this.keyName)]=e,!0):!1}remove(t){t.style[mv(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[mv(this.keyName)];return this.canAdd(t,e)?e:""}}const Yc=O$;class k${constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=cd.find(this.domNode);if(t==null)return;const e=Vl.keys(this.domNode),r=dl.keys(this.domNode),i=Yc.keys(this.domNode);e.concat(r).concat(i).forEach(a=>{const l=t.scroll.query(a,Fe.ATTRIBUTE);l instanceof Vl&&(this.attributes[l.attrName]=l)})}copy(t){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const n2=k$,BC=class{constructor(t,e){this.scroll=t,this.domNode=e,cd.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new td("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?e=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?e=document.createElement(r):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),cd.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,i){const a=this.isolate(t,e);if(this.scroll.query(r,Fe.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Fe.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);a.wrap(l),l.format(r,i)}}insertAt(t,e,r){const i=r==null?this.scroll.create("text",e):this.scroll.create(e,r),a=this.split(t);this.parent.insertBefore(i,a||void 0)}isolate(t,e){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new td(`Cannot wrap ${t}`);return r.appendChild(this),r}};BC.blotName="abstract";let FC=BC;const VC=class extends FC{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};VC.scope=Fe.INLINE_BLOT;let D$=VC;const ca=D$;class P${constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),i=0;for(;r;){if(r===t)return i;i+=1,r=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;r!=null;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(t<a||e&&t===a&&(i.next==null||i.next.length()!==0))return[i,t];t-=a,i=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[i,a]=this.find(t);let l=t-a;const c=this.iterator(i);let h=c();for(;h&&l<t+e;){const f=h.length();t>l?r(h,t-l,Math.min(e,l+f-t)):r(h,0,Math.min(f,t+e-l)),l+=f,h=c()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){const r=this.iterator();let i=r();for(;i;)e=t(e,i),i=r();return e}}function hx(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const r=t.create(Fe.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const zC=class gc extends FC{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,gc.uiClass&&this.uiNode.classList.add(gc.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new P$,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=hx(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof td)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(r,i,a)=>{r.deleteAt(i,a)})}descendant(t,e=0){const[r,i]=this.children.find(e);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,i]:r instanceof gc?r.descendant(t,i):[null,-1]}descendants(t,e=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(e,r,(l,c,h)=>{(t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t)&&i.push(l),l instanceof gc&&(i=i.concat(l.descendants(t,c,a))),a-=h}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(r=>e instanceof r)||(e.statics.scope===Fe.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof gc?e.unwrap():e.remove())})}formatAt(t,e,r,i){this.children.forEachAt(t,e,(a,l,c)=>{a.formatAt(l,c,r,i)})}insertAt(t,e,r){const[i,a]=this.children.find(t);if(i)i.insertAt(a,e,r);else{const l=r==null?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(l)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[r,i]=this.children.find(t,e),a=[[this,t]];return r instanceof gc?a.concat(r.path(i,e)):(r!=null&&a.push([r,i]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const r=typeof t=="string"?this.scroll.create(t,e):t;return r instanceof gc&&this.moveChildren(r),super.replaceWith(r)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(i,a,l)=>{const c=i.split(a,e);c!=null&&r.appendChild(c)}),r}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],i=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(a);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,l)=>a===l?0:a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let l=null;a.nextSibling!=null&&(l=this.scroll.find(a.nextSibling));const c=hx(a,this.scroll);(c.next!==l||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,l||void 0))}),this.enforceAllowedChildren()}};zC.uiClass="";let M$=zC;const rl=M$;function j$(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const jf=class qf extends rl{static create(t){return super.create(t)}static formats(t,e){const r=e.query(qf.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new n2(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(r=>{r instanceof qf||(r=r.wrap(qf.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,Fe.INLINE);if(r==null)return;r instanceof Vl?this.attributes.attribute(r,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,i){this.formats()[r]!=null||this.scroll.query(r,Fe.ATTRIBUTE)?this.isolate(t,e).format(r,i):super.formatAt(t,e,r,i)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const r=this.next;r instanceof qf&&r.prev===this&&j$(e,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,e){const r=super.wrap(t,e);return r instanceof qf&&this.attributes.move(r),r}};jf.allowedChildren=[jf,ca],jf.blotName="inline",jf.scope=Fe.INLINE_BLOT,jf.tagName="SPAN";let q$=jf;const i_=q$,Uf=class S5 extends rl{static create(t){return super.create(t)}static formats(t,e){const r=e.query(S5.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new n2(this.domNode)}format(t,e){const r=this.scroll.query(t,Fe.BLOCK);r!=null&&(r instanceof Vl?this.attributes.attribute(r,e):t===this.statics.blotName&&!e?this.replaceWith(S5.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,i){this.scroll.query(r,Fe.BLOCK)!=null?this.format(r,i):super.formatAt(t,e,r,i)}insertAt(t,e,r){if(r==null||this.scroll.query(e,Fe.INLINE)!=null)super.insertAt(t,e,r);else{const i=this.split(t);if(i!=null){const a=this.scroll.create(e,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Uf.blotName="block",Uf.scope=Fe.BLOCK_BLOT,Uf.tagName="P",Uf.allowedChildren=[i_,Uf,ca];let U$=Uf;const cm=U$,T5=class extends rl{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,i){super.formatAt(t,e,r,i),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};T5.blotName="container",T5.scope=Fe.BLOCK_BLOT;let B$=T5;const r2=B$;class F$ extends ca{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,i){t===0&&e===this.length()?this.format(r,i):super.formatAt(t,e,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const so=F$,V$={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},z$=100,Bf=class extends rl{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,V$),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=Fe.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,i){this.update(),super.formatAt(t,e,r,i)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const a=(h,f=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(r.has(h.domNode)||r.set(h.domNode,[]),f&&a(h.parent))},l=h=>{r.has(h.domNode)&&(h instanceof rl&&h.children.forEach(l),r.delete(h.domNode),h.optimize(e))};let c=t;for(let h=0;c.length>0;h+=1){if(h>=z$)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(f=>{const p=this.find(f.target,!0);p!=null&&(p.domNode===f.target&&(f.type==="childList"?(a(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(w=>{const _=this.find(w,!1);a(_,!1),_ instanceof rl&&_.children.forEach(v=>{a(v,!1)})})):f.type==="attributes"&&a(p.prev)),a(p))}),this.children.forEach(l),c=Array.from(this.observer.takeRecords()),i=c.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};Bf.blotName="scroll",Bf.defaultChild=cm,Bf.allowedChildren=[cm,r2],Bf.scope=Fe.BLOCK_BLOT,Bf.tagName="DIV";let H$=Bf;const s_=H$,N5=class HC extends ca{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){r==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof HC&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};N5.blotName="text",N5.scope=Fe.INLINE_BLOT;let $$=N5;const f0=$$,G$=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Vl,AttributorStore:n2,BlockBlot:cm,ClassAttributor:dl,ContainerBlot:r2,EmbedBlot:so,InlineBlot:i_,LeafBlot:ca,ParentBlot:rl,Registry:cd,Scope:Fe,ScrollBlot:s_,StyleAttributor:Yc,TextBlot:f0},Symbol.toStringTag,{value:"Module"}));var n1={exports:{}},gv,fx;function K$(){if(fx)return gv;fx=1;var n=-1,t=1,e=0;function r(S,O,R,at,vt){if(S===O)return S?[[e,S]]:[];if(R!=null){var Q=M(S,O,R);if(Q)return Q}var ut=c(S,O),ct=S.substring(0,ut);S=S.substring(ut),O=O.substring(ut),ut=f(S,O);var Et=S.substring(S.length-ut);S=S.substring(0,S.length-ut),O=O.substring(0,O.length-ut);var W=i(S,O);return ct&&W.unshift([e,ct]),Et&&W.push([e,Et]),H(W,vt),at&&w(W),W}function i(S,O){var R;if(!S)return[[t,O]];if(!O)return[[n,S]];var at=S.length>O.length?S:O,vt=S.length>O.length?O:S,Q=at.indexOf(vt);if(Q!==-1)return R=[[t,at.substring(0,Q)],[e,vt],[t,at.substring(Q+vt.length)]],S.length>O.length&&(R[0][0]=R[2][0]=n),R;if(vt.length===1)return[[n,S],[t,O]];var ut=p(S,O);if(ut){var ct=ut[0],Et=ut[1],W=ut[2],gt=ut[3],q=ut[4],z=r(ct,W),nt=r(Et,gt);return z.concat([[e,q]],nt)}return a(S,O)}function a(S,O){for(var R=S.length,at=O.length,vt=Math.ceil((R+at)/2),Q=vt,ut=2*vt,ct=new Array(ut),Et=new Array(ut),W=0;W<ut;W++)ct[W]=-1,Et[W]=-1;ct[Q+1]=0,Et[Q+1]=0;for(var gt=R-at,q=gt%2!==0,z=0,nt=0,lt=0,mt=0,At=0;At<vt;At++){for(var St=-At+z;St<=At-nt;St+=2){var Rt=Q+St,Mt;St===-At||St!==At&&ct[Rt-1]<ct[Rt+1]?Mt=ct[Rt+1]:Mt=ct[Rt-1]+1;for(var zt=Mt-St;Mt<R&&zt<at&&S.charAt(Mt)===O.charAt(zt);)Mt++,zt++;if(ct[Rt]=Mt,Mt>R)nt+=2;else if(zt>at)z+=2;else if(q){var Qt=Q+gt-St;if(Qt>=0&&Qt<ut&&Et[Qt]!==-1){var Bt=R-Et[Qt];if(Mt>=Bt)return l(S,O,Mt,zt)}}}for(var Nt=-At+lt;Nt<=At-mt;Nt+=2){var Qt=Q+Nt,Bt;Nt===-At||Nt!==At&&Et[Qt-1]<Et[Qt+1]?Bt=Et[Qt+1]:Bt=Et[Qt-1]+1;for(var st=Bt-Nt;Bt<R&&st<at&&S.charAt(R-Bt-1)===O.charAt(at-st-1);)Bt++,st++;if(Et[Qt]=Bt,Bt>R)mt+=2;else if(st>at)lt+=2;else if(!q){var Rt=Q+gt-Nt;if(Rt>=0&&Rt<ut&&ct[Rt]!==-1){var Mt=ct[Rt],zt=Q+Mt-Rt;if(Bt=R-Bt,Mt>=Bt)return l(S,O,Mt,zt)}}}}return[[n,S],[t,O]]}function l(S,O,R,at){var vt=S.substring(0,R),Q=O.substring(0,at),ut=S.substring(R),ct=O.substring(at),Et=r(vt,Q),W=r(ut,ct);return Et.concat(W)}function c(S,O){if(!S||!O||S.charAt(0)!==O.charAt(0))return 0;for(var R=0,at=Math.min(S.length,O.length),vt=at,Q=0;R<vt;)S.substring(Q,vt)==O.substring(Q,vt)?(R=vt,Q=R):at=vt,vt=Math.floor((at-R)/2+R);return X(S.charCodeAt(vt-1))&&vt--,vt}function h(S,O){var R=S.length,at=O.length;if(R==0||at==0)return 0;R>at?S=S.substring(R-at):R<at&&(O=O.substring(0,R));var vt=Math.min(R,at);if(S==O)return vt;for(var Q=0,ut=1;;){var ct=S.substring(vt-ut),Et=O.indexOf(ct);if(Et==-1)return Q;ut+=Et,(Et==0||S.substring(vt-ut)==O.substring(0,ut))&&(Q=ut,ut++)}}function f(S,O){if(!S||!O||S.slice(-1)!==O.slice(-1))return 0;for(var R=0,at=Math.min(S.length,O.length),vt=at,Q=0;R<vt;)S.substring(S.length-vt,S.length-Q)==O.substring(O.length-vt,O.length-Q)?(R=vt,Q=R):at=vt,vt=Math.floor((at-R)/2+R);return Z(S.charCodeAt(S.length-vt))&&vt--,vt}function p(S,O){var R=S.length>O.length?S:O,at=S.length>O.length?O:S;if(R.length<4||at.length*2<R.length)return null;function vt(nt,lt,mt){for(var At=nt.substring(mt,mt+Math.floor(nt.length/4)),St=-1,Rt="",Mt,zt,Qt,Bt;(St=lt.indexOf(At,St+1))!==-1;){var Nt=c(nt.substring(mt),lt.substring(St)),st=f(nt.substring(0,mt),lt.substring(0,St));Rt.length<st+Nt&&(Rt=lt.substring(St-st,St)+lt.substring(St,St+Nt),Mt=nt.substring(0,mt-st),zt=nt.substring(mt+Nt),Qt=lt.substring(0,St-st),Bt=lt.substring(St+Nt))}return Rt.length*2>=nt.length?[Mt,zt,Qt,Bt,Rt]:null}var Q=vt(R,at,Math.ceil(R.length/4)),ut=vt(R,at,Math.ceil(R.length/2)),ct;if(!Q&&!ut)return null;ut?Q?ct=Q[4].length>ut[4].length?Q:ut:ct=ut:ct=Q;var Et,W,gt,q;S.length>O.length?(Et=ct[0],W=ct[1],gt=ct[2],q=ct[3]):(gt=ct[0],q=ct[1],Et=ct[2],W=ct[3]);var z=ct[4];return[Et,W,gt,q,z]}function w(S){for(var O=!1,R=[],at=0,vt=null,Q=0,ut=0,ct=0,Et=0,W=0;Q<S.length;)S[Q][0]==e?(R[at++]=Q,ut=Et,ct=W,Et=0,W=0,vt=S[Q][1]):(S[Q][0]==t?Et+=S[Q][1].length:W+=S[Q][1].length,vt&&vt.length<=Math.max(ut,ct)&&vt.length<=Math.max(Et,W)&&(S.splice(R[at-1],0,[n,vt]),S[R[at-1]+1][0]=t,at--,at--,Q=at>0?R[at-1]:-1,ut=0,ct=0,Et=0,W=0,vt=null,O=!0)),Q++;for(O&&H(S),P(S),Q=1;Q<S.length;){if(S[Q-1][0]==n&&S[Q][0]==t){var gt=S[Q-1][1],q=S[Q][1],z=h(gt,q),nt=h(q,gt);z>=nt?(z>=gt.length/2||z>=q.length/2)&&(S.splice(Q,0,[e,q.substring(0,z)]),S[Q-1][1]=gt.substring(0,gt.length-z),S[Q+1][1]=q.substring(z),Q++):(nt>=gt.length/2||nt>=q.length/2)&&(S.splice(Q,0,[e,gt.substring(0,nt)]),S[Q-1][0]=t,S[Q-1][1]=q.substring(0,q.length-nt),S[Q+1][0]=n,S[Q+1][1]=gt.substring(nt),Q++),Q++}Q++}}var _=/[^a-zA-Z0-9]/,v=/\s/,N=/[\r\n]/,I=/\n\r?\n$/,k=/^\r?\n\r?\n/;function P(S){function O(nt,lt){if(!nt||!lt)return 6;var mt=nt.charAt(nt.length-1),At=lt.charAt(0),St=mt.match(_),Rt=At.match(_),Mt=St&&mt.match(v),zt=Rt&&At.match(v),Qt=Mt&&mt.match(N),Bt=zt&&At.match(N),Nt=Qt&&nt.match(I),st=Bt&&lt.match(k);return Nt||st?5:Qt||Bt?4:St&&!Mt&&zt?3:Mt||zt?2:St||Rt?1:0}for(var R=1;R<S.length-1;){if(S[R-1][0]==e&&S[R+1][0]==e){var at=S[R-1][1],vt=S[R][1],Q=S[R+1][1],ut=f(at,vt);if(ut){var ct=vt.substring(vt.length-ut);at=at.substring(0,at.length-ut),vt=ct+vt.substring(0,vt.length-ut),Q=ct+Q}for(var Et=at,W=vt,gt=Q,q=O(at,vt)+O(vt,Q);vt.charAt(0)===Q.charAt(0);){at+=vt.charAt(0),vt=vt.substring(1)+Q.charAt(0),Q=Q.substring(1);var z=O(at,vt)+O(vt,Q);z>=q&&(q=z,Et=at,W=vt,gt=Q)}S[R-1][1]!=Et&&(Et?S[R-1][1]=Et:(S.splice(R-1,1),R--),S[R][1]=W,gt?S[R+1][1]=gt:(S.splice(R+1,1),R--))}R++}}function H(S,O){S.push([e,""]);for(var R=0,at=0,vt=0,Q="",ut="",ct;R<S.length;){if(R<S.length-1&&!S[R][1]){S.splice(R,1);continue}switch(S[R][0]){case t:vt++,ut+=S[R][1],R++;break;case n:at++,Q+=S[R][1],R++;break;case e:var Et=R-vt-at-1;if(O){if(Et>=0&&wt(S[Et][1])){var W=S[Et][1].slice(-1);if(S[Et][1]=S[Et][1].slice(0,-1),Q=W+Q,ut=W+ut,!S[Et][1]){S.splice(Et,1),R--;var gt=Et-1;S[gt]&&S[gt][0]===t&&(vt++,ut=S[gt][1]+ut,gt--),S[gt]&&S[gt][0]===n&&(at++,Q=S[gt][1]+Q,gt--),Et=gt}}if(pt(S[R][1])){var W=S[R][1].charAt(0);S[R][1]=S[R][1].slice(1),Q+=W,ut+=W}}if(R<S.length-1&&!S[R][1]){S.splice(R,1);break}if(Q.length>0||ut.length>0){Q.length>0&&ut.length>0&&(ct=c(ut,Q),ct!==0&&(Et>=0?S[Et][1]+=ut.substring(0,ct):(S.splice(0,0,[e,ut.substring(0,ct)]),R++),ut=ut.substring(ct),Q=Q.substring(ct)),ct=f(ut,Q),ct!==0&&(S[R][1]=ut.substring(ut.length-ct)+S[R][1],ut=ut.substring(0,ut.length-ct),Q=Q.substring(0,Q.length-ct)));var q=vt+at;Q.length===0&&ut.length===0?(S.splice(R-q,q),R=R-q):Q.length===0?(S.splice(R-q,q,[t,ut]),R=R-q+1):ut.length===0?(S.splice(R-q,q,[n,Q]),R=R-q+1):(S.splice(R-q,q,[n,Q],[t,ut]),R=R-q+2)}R!==0&&S[R-1][0]===e?(S[R-1][1]+=S[R][1],S.splice(R,1)):R++,vt=0,at=0,Q="",ut="";break}}S[S.length-1][1]===""&&S.pop();var z=!1;for(R=1;R<S.length-1;)S[R-1][0]===e&&S[R+1][0]===e&&(S[R][1].substring(S[R][1].length-S[R-1][1].length)===S[R-1][1]?(S[R][1]=S[R-1][1]+S[R][1].substring(0,S[R][1].length-S[R-1][1].length),S[R+1][1]=S[R-1][1]+S[R+1][1],S.splice(R-1,1),z=!0):S[R][1].substring(0,S[R+1][1].length)==S[R+1][1]&&(S[R-1][1]+=S[R+1][1],S[R][1]=S[R][1].substring(S[R+1][1].length)+S[R+1][1],S.splice(R+1,1),z=!0)),R++;z&&H(S,O)}function X(S){return S>=55296&&S<=56319}function Z(S){return S>=56320&&S<=57343}function pt(S){return Z(S.charCodeAt(0))}function wt(S){return X(S.charCodeAt(S.length-1))}function K(S){for(var O=[],R=0;R<S.length;R++)S[R][1].length>0&&O.push(S[R]);return O}function U(S,O,R,at){return wt(S)||pt(at)?null:K([[e,S],[n,O],[t,R],[e,at]])}function M(S,O,R){var at=typeof R=="number"?{index:R,length:0}:R.oldRange,vt=typeof R=="number"?null:R.newRange,Q=S.length,ut=O.length;if(at.length===0&&(vt===null||vt.length===0)){var ct=at.index,Et=S.slice(0,ct),W=S.slice(ct),gt=vt?vt.index:null;t:{var q=ct+ut-Q;if(gt!==null&&gt!==q||q<0||q>ut)break t;var z=O.slice(0,q),nt=O.slice(q);if(nt!==W)break t;var lt=Math.min(ct,q),mt=Et.slice(0,lt),At=z.slice(0,lt);if(mt!==At)break t;var St=Et.slice(lt),Rt=z.slice(lt);return U(mt,St,Rt,W)}t:{if(gt!==null&&gt!==ct)break t;var Mt=ct,z=O.slice(0,Mt),nt=O.slice(Mt);if(z!==Et)break t;var zt=Math.min(Q-Mt,ut-Mt),Qt=W.slice(W.length-zt),Bt=nt.slice(nt.length-zt);if(Qt!==Bt)break t;var St=W.slice(0,W.length-zt),Rt=nt.slice(0,nt.length-zt);return U(Et,St,Rt,Qt)}}if(at.length>0&&vt&&vt.length===0)t:{var mt=S.slice(0,at.index),Qt=S.slice(at.index+at.length),lt=mt.length,zt=Qt.length;if(ut<lt+zt)break t;var At=O.slice(0,lt),Bt=O.slice(ut-zt);if(mt!==At||Qt!==Bt)break t;var St=S.slice(lt,Q-zt),Rt=O.slice(lt,ut-zt);return U(mt,St,Rt,Qt)}return null}function G(S,O,R,at){return r(S,O,R,at,!0)}return G.INSERT=t,G.DELETE=n,G.EQUAL=e,gv=G,gv}var kp={exports:{}};kp.exports;var dx;function $C(){return dx||(dx=1,(function(n,t){var e=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",w="[object GeneratorFunction]",_="[object Map]",v="[object Number]",N="[object Object]",I="[object Promise]",k="[object RegExp]",P="[object Set]",H="[object String]",X="[object Symbol]",Z="[object WeakMap]",pt="[object ArrayBuffer]",wt="[object DataView]",K="[object Float32Array]",U="[object Float64Array]",M="[object Int8Array]",G="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",R="[object Uint8ClampedArray]",at="[object Uint16Array]",vt="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,ut=/\w*$/,ct=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,W={};W[a]=W[l]=W[pt]=W[wt]=W[c]=W[h]=W[K]=W[U]=W[M]=W[G]=W[S]=W[_]=W[v]=W[N]=W[k]=W[P]=W[H]=W[X]=W[O]=W[R]=W[at]=W[vt]=!0,W[f]=W[p]=W[Z]=!1;var gt=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc,q=typeof self=="object"&&self&&self.Object===Object&&self,z=gt||q||Function("return this")(),nt=t&&!t.nodeType&&t,lt=nt&&!0&&n&&!n.nodeType&&n,mt=lt&&lt.exports===nt;function At(L,tt){return L.set(tt[0],tt[1]),L}function St(L,tt){return L.add(tt),L}function Rt(L,tt){for(var yt=-1,Ht=L?L.length:0;++yt<Ht&&tt(L[yt],yt,L)!==!1;);return L}function Mt(L,tt){for(var yt=-1,Ht=tt.length,Ve=L.length;++yt<Ht;)L[Ve+yt]=tt[yt];return L}function zt(L,tt,yt,Ht){for(var Ve=-1,Ee=L?L.length:0;++Ve<Ee;)yt=tt(yt,L[Ve],Ve,L);return yt}function Qt(L,tt){for(var yt=-1,Ht=Array(L);++yt<L;)Ht[yt]=tt(yt);return Ht}function Bt(L,tt){return L?.[tt]}function Nt(L){var tt=!1;if(L!=null&&typeof L.toString!="function")try{tt=!!(L+"")}catch{}return tt}function st(L){var tt=-1,yt=Array(L.size);return L.forEach(function(Ht,Ve){yt[++tt]=[Ve,Ht]}),yt}function we(L,tt){return function(yt){return L(tt(yt))}}function he(L){var tt=-1,yt=Array(L.size);return L.forEach(function(Ht){yt[++tt]=Ht}),yt}var xe=Array.prototype,ee=Function.prototype,de=Object.prototype,ue=z["__core-js_shared__"],Ge=(function(){var L=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""})(),ge=ee.toString,Ye=de.hasOwnProperty,Pe=de.toString,oe=RegExp("^"+ge.call(Ye).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=mt?z.Buffer:void 0,se=z.Symbol,ce=z.Uint8Array,ve=we(Object.getPrototypeOf,Object),Ne=Object.create,Rn=de.propertyIsEnumerable,xn=xe.splice,ye=Object.getOwnPropertySymbols,Me=pe?pe.isBuffer:void 0,Ln=we(Object.keys,Object),Re=Er(z,"DataView"),tn=Er(z,"Map"),qe=Er(z,"Promise"),Jn=Er(z,"Set"),Qn=Er(z,"WeakMap"),gn=Er(Object,"create"),He=or(Re),en=or(tn),us=or(qe),pr=or(Jn),Si=or(Qn),Cr=se?se.prototype:void 0,Be=Cr?Cr.valueOf:void 0;function _n(L){var tt=-1,yt=L?L.length:0;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function ir(){this.__data__=gn?gn(null):{}}function Un(L){return this.has(L)&&delete this.__data__[L]}function wr(L){var tt=this.__data__;if(gn){var yt=tt[L];return yt===r?void 0:yt}return Ye.call(tt,L)?tt[L]:void 0}function sr(L){var tt=this.__data__;return gn?tt[L]!==void 0:Ye.call(tt,L)}function Rr(L,tt){var yt=this.__data__;return yt[L]=gn&&tt===void 0?r:tt,this}_n.prototype.clear=ir,_n.prototype.delete=Un,_n.prototype.get=wr,_n.prototype.has=sr,_n.prototype.set=Rr;function wn(L){var tt=-1,yt=L?L.length:0;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function Js(){this.__data__=[]}function Qi(L){var tt=this.__data__,yt=cs(tt,L);if(yt<0)return!1;var Ht=tt.length-1;return yt==Ht?tt.pop():xn.call(tt,yt,1),!0}function ri(L){var tt=this.__data__,yt=cs(tt,L);return yt<0?void 0:tt[yt][1]}function ii(L){return cs(this.__data__,L)>-1}function Fr(L,tt){var yt=this.__data__,Ht=cs(yt,L);return Ht<0?yt.push([L,tt]):yt[Ht][1]=tt,this}wn.prototype.clear=Js,wn.prototype.delete=Qi,wn.prototype.get=ri,wn.prototype.has=ii,wn.prototype.set=Fr;function In(L){var tt=-1,yt=L?L.length:0;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function hr(){this.__data__={hash:new _n,map:new(tn||wn),string:new _n}}function ar(L){return Ji(this,L).delete(L)}function Xi(L){return Ji(this,L).get(L)}function bs(L){return Ji(this,L).has(L)}function Ti(L,tt){return Ji(this,L).set(L,tt),this}In.prototype.clear=hr,In.prototype.delete=ar,In.prototype.get=Xi,In.prototype.has=bs,In.prototype.set=Ti;function mr(L){this.__data__=new wn(L)}function fa(){this.__data__=new wn}function ao(L){return this.__data__.delete(L)}function Os(L){return this.__data__.get(L)}function za(L){return this.__data__.has(L)}function ks(L,tt){var yt=this.__data__;if(yt instanceof wn){var Ht=yt.__data__;if(!tn||Ht.length<e-1)return Ht.push([L,tt]),this;yt=this.__data__=new In(Ht)}return yt.set(L,tt),this}mr.prototype.clear=fa,mr.prototype.delete=ao,mr.prototype.get=Os,mr.prototype.has=za,mr.prototype.set=ks;function yr(L,tt){var yt=Ra(L)||Mi(L)?Qt(L.length,String):[],Ht=yt.length,Ve=!!Ht;for(var Ee in L)Ye.call(L,Ee)&&!(Ve&&(Ee=="length"||$a(Ee,Ht)))&&yt.push(Ee);return yt}function Lr(L,tt,yt){var Ht=L[tt];(!(Ye.call(L,tt)&&Ke(Ht,yt))||yt===void 0&&!(tt in L))&&(L[tt]=yt)}function cs(L,tt){for(var yt=L.length;yt--;)if(Ke(L[yt][0],tt))return yt;return-1}function Di(L,tt){return L&&ws(tt,Ms(tt),L)}function Zi(L,tt,yt,Ht,Ve,Ee,yn){var ln;if(Ht&&(ln=Ee?Ht(L,Ve,Ee,yn):Ht(L)),ln!==void 0)return ln;if(!yi(L))return L;var Bn=Ra(L);if(Bn){if(ln=Ha(L),!tt)return ga(L,ln)}else{var dn=ts(L),Xn=dn==p||dn==w;if(Pr(L))return Ds(L,tt);if(dn==N||dn==a||Xn&&!Ee){if(Nt(L))return Ee?L:{};if(ln=es(Xn?{}:L),!tt)return Ps(L,Di(ln,L))}else{if(!W[dn])return Ee?L:{};ln=Do(L,dn,Zi,tt)}}yn||(yn=new mr);var Yr=yn.get(L);if(Yr)return Yr;if(yn.set(L,ln),!Bn)var Fn=yt?Sn(L):Ms(L);return Rt(Fn||L,function(Zn,x){Fn&&(x=Zn,Zn=L[x]),Lr(ln,x,Zi(Zn,tt,yt,Ht,x,L,yn))}),ln}function da(L){return yi(L)?Ne(L):{}}function pa(L,tt,yt){var Ht=tt(L);return Ra(L)?Ht:Mt(Ht,yt(L))}function ta(L){return Pe.call(L)}function Na(L){if(!yi(L)||Ni(L))return!1;var tt=gi(L)||Nt(L)?oe:ct;return tt.test(or(L))}function Cn(L){if(!Pi(L))return Ln(L);var tt=[];for(var yt in Object(L))Ye.call(L,yt)&&yt!="constructor"&&tt.push(yt);return tt}function Ds(L,tt){if(tt)return L.slice();var yt=new L.constructor(L.length);return L.copy(yt),yt}function Ca(L){var tt=new L.constructor(L.byteLength);return new ce(tt).set(new ce(L)),tt}function si(L,tt){var yt=tt?Ca(L.buffer):L.buffer;return new L.constructor(yt,L.byteOffset,L.byteLength)}function _s(L,tt,yt){var Ht=tt?yt(st(L),!0):st(L);return zt(Ht,At,new L.constructor)}function ai(L){var tt=new L.constructor(L.source,ut.exec(L));return tt.lastIndex=L.lastIndex,tt}function ma(L,tt,yt){var Ht=tt?yt(he(L),!0):he(L);return zt(Ht,St,new L.constructor)}function fn(L){return Be?Object(Be.call(L)):{}}function mi(L,tt){var yt=tt?Ca(L.buffer):L.buffer;return new L.constructor(yt,L.byteOffset,L.length)}function ga(L,tt){var yt=-1,Ht=L.length;for(tt||(tt=Array(Ht));++yt<Ht;)tt[yt]=L[yt];return tt}function ws(L,tt,yt,Ht){yt||(yt={});for(var Ve=-1,Ee=tt.length;++Ve<Ee;){var yn=tt[Ve],ln=void 0;Lr(yt,yn,ln===void 0?L[yn]:ln)}return yt}function Ps(L,tt){return ws(L,Vr(L),tt)}function Sn(L){return pa(L,Ms,Vr)}function Ji(L,tt){var yt=L.__data__;return Es(tt)?yt[typeof tt=="string"?"string":"hash"]:yt.map}function Er(L,tt){var yt=Bt(L,tt);return Na(yt)?yt:void 0}var Vr=ye?we(ye,Object):Ci,ts=ta;(Re&&ts(new Re(new ArrayBuffer(1)))!=wt||tn&&ts(new tn)!=_||qe&&ts(qe.resolve())!=I||Jn&&ts(new Jn)!=P||Qn&&ts(new Qn)!=Z)&&(ts=function(L){var tt=Pe.call(L),yt=tt==N?L.constructor:void 0,Ht=yt?or(yt):void 0;if(Ht)switch(Ht){case He:return wt;case en:return _;case us:return I;case pr:return P;case Si:return Z}return tt});function Ha(L){var tt=L.length,yt=L.constructor(tt);return tt&&typeof L[0]=="string"&&Ye.call(L,"index")&&(yt.index=L.index,yt.input=L.input),yt}function es(L){return typeof L.constructor=="function"&&!Pi(L)?da(ve(L)):{}}function Do(L,tt,yt,Ht){var Ve=L.constructor;switch(tt){case pt:return Ca(L);case c:case h:return new Ve(+L);case wt:return si(L,Ht);case K:case U:case M:case G:case S:case O:case R:case at:case vt:return mi(L,Ht);case _:return _s(L,Ht,yt);case v:case H:return new Ve(L);case k:return ai(L);case P:return ma(L,Ht,yt);case X:return fn(L)}}function $a(L,tt){return tt=tt??i,!!tt&&(typeof L=="number"||Et.test(L))&&L>-1&&L%1==0&&L<tt}function Es(L){var tt=typeof L;return tt=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?L!=="__proto__":L===null}function Ni(L){return!!Ge&&Ge in L}function Pi(L){var tt=L&&L.constructor,yt=typeof tt=="function"&&tt.prototype||de;return L===yt}function or(L){if(L!=null){try{return ge.call(L)}catch{}try{return L+""}catch{}}return""}function ns(L){return Zi(L,!0,!0)}function Ke(L,tt){return L===tt||L!==L&&tt!==tt}function Mi(L){return hs(L)&&Ye.call(L,"callee")&&(!Rn.call(L,"callee")||Pe.call(L)==a)}var Ra=Array.isArray;function As(L){return L!=null&&fs(L.length)&&!gi(L)}function hs(L){return ji(L)&&As(L)}var Pr=Me||qi;function gi(L){var tt=yi(L)?Pe.call(L):"";return tt==p||tt==w}function fs(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function yi(L){var tt=typeof L;return!!L&&(tt=="object"||tt=="function")}function ji(L){return!!L&&typeof L=="object"}function Ms(L){return As(L)?yr(L):Cn(L)}function Ci(){return[]}function qi(){return!1}n.exports=ns})(kp,kp.exports)),kp.exports}var Dp={exports:{}};Dp.exports;var px;function GC(){return px||(px=1,(function(n,t){var e=200,r="__lodash_hash_undefined__",i=1,a=2,l=9007199254740991,c="[object Arguments]",h="[object Array]",f="[object AsyncFunction]",p="[object Boolean]",w="[object Date]",_="[object Error]",v="[object Function]",N="[object GeneratorFunction]",I="[object Map]",k="[object Number]",P="[object Null]",H="[object Object]",X="[object Promise]",Z="[object Proxy]",pt="[object RegExp]",wt="[object Set]",K="[object String]",U="[object Symbol]",M="[object Undefined]",G="[object WeakMap]",S="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",at="[object Float64Array]",vt="[object Int8Array]",Q="[object Int16Array]",ut="[object Int32Array]",ct="[object Uint8Array]",Et="[object Uint8ClampedArray]",W="[object Uint16Array]",gt="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,lt={};lt[R]=lt[at]=lt[vt]=lt[Q]=lt[ut]=lt[ct]=lt[Et]=lt[W]=lt[gt]=!0,lt[c]=lt[h]=lt[S]=lt[p]=lt[O]=lt[w]=lt[_]=lt[v]=lt[I]=lt[k]=lt[H]=lt[pt]=lt[wt]=lt[K]=lt[G]=!1;var mt=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc,At=typeof self=="object"&&self&&self.Object===Object&&self,St=mt||At||Function("return this")(),Rt=t&&!t.nodeType&&t,Mt=Rt&&!0&&n&&!n.nodeType&&n,zt=Mt&&Mt.exports===Rt,Qt=zt&&mt.process,Bt=(function(){try{return Qt&&Qt.binding&&Qt.binding("util")}catch{}})(),Nt=Bt&&Bt.isTypedArray;function st(L,tt){for(var yt=-1,Ht=L==null?0:L.length,Ve=0,Ee=[];++yt<Ht;){var yn=L[yt];tt(yn,yt,L)&&(Ee[Ve++]=yn)}return Ee}function we(L,tt){for(var yt=-1,Ht=tt.length,Ve=L.length;++yt<Ht;)L[Ve+yt]=tt[yt];return L}function he(L,tt){for(var yt=-1,Ht=L==null?0:L.length;++yt<Ht;)if(tt(L[yt],yt,L))return!0;return!1}function xe(L,tt){for(var yt=-1,Ht=Array(L);++yt<L;)Ht[yt]=tt(yt);return Ht}function ee(L){return function(tt){return L(tt)}}function de(L,tt){return L.has(tt)}function ue(L,tt){return L?.[tt]}function Ge(L){var tt=-1,yt=Array(L.size);return L.forEach(function(Ht,Ve){yt[++tt]=[Ve,Ht]}),yt}function ge(L,tt){return function(yt){return L(tt(yt))}}function Ye(L){var tt=-1,yt=Array(L.size);return L.forEach(function(Ht){yt[++tt]=Ht}),yt}var Pe=Array.prototype,oe=Function.prototype,pe=Object.prototype,se=St["__core-js_shared__"],ce=oe.toString,ve=pe.hasOwnProperty,Ne=(function(){var L=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""})(),Rn=pe.toString,xn=RegExp("^"+ce.call(ve).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=zt?St.Buffer:void 0,Me=St.Symbol,Ln=St.Uint8Array,Re=pe.propertyIsEnumerable,tn=Pe.splice,qe=Me?Me.toStringTag:void 0,Jn=Object.getOwnPropertySymbols,Qn=ye?ye.isBuffer:void 0,gn=ge(Object.keys,Object),He=Vr(St,"DataView"),en=Vr(St,"Map"),us=Vr(St,"Promise"),pr=Vr(St,"Set"),Si=Vr(St,"WeakMap"),Cr=Vr(Object,"create"),Be=or(He),_n=or(en),ir=or(us),Un=or(pr),wr=or(Si),sr=Me?Me.prototype:void 0,Rr=sr?sr.valueOf:void 0;function wn(L){var tt=-1,yt=L==null?0:L.length;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function Js(){this.__data__=Cr?Cr(null):{},this.size=0}function Qi(L){var tt=this.has(L)&&delete this.__data__[L];return this.size-=tt?1:0,tt}function ri(L){var tt=this.__data__;if(Cr){var yt=tt[L];return yt===r?void 0:yt}return ve.call(tt,L)?tt[L]:void 0}function ii(L){var tt=this.__data__;return Cr?tt[L]!==void 0:ve.call(tt,L)}function Fr(L,tt){var yt=this.__data__;return this.size+=this.has(L)?0:1,yt[L]=Cr&&tt===void 0?r:tt,this}wn.prototype.clear=Js,wn.prototype.delete=Qi,wn.prototype.get=ri,wn.prototype.has=ii,wn.prototype.set=Fr;function In(L){var tt=-1,yt=L==null?0:L.length;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function hr(){this.__data__=[],this.size=0}function ar(L){var tt=this.__data__,yt=Ds(tt,L);if(yt<0)return!1;var Ht=tt.length-1;return yt==Ht?tt.pop():tn.call(tt,yt,1),--this.size,!0}function Xi(L){var tt=this.__data__,yt=Ds(tt,L);return yt<0?void 0:tt[yt][1]}function bs(L){return Ds(this.__data__,L)>-1}function Ti(L,tt){var yt=this.__data__,Ht=Ds(yt,L);return Ht<0?(++this.size,yt.push([L,tt])):yt[Ht][1]=tt,this}In.prototype.clear=hr,In.prototype.delete=ar,In.prototype.get=Xi,In.prototype.has=bs,In.prototype.set=Ti;function mr(L){var tt=-1,yt=L==null?0:L.length;for(this.clear();++tt<yt;){var Ht=L[tt];this.set(Ht[0],Ht[1])}}function fa(){this.size=0,this.__data__={hash:new wn,map:new(en||In),string:new wn}}function ao(L){var tt=Er(this,L).delete(L);return this.size-=tt?1:0,tt}function Os(L){return Er(this,L).get(L)}function za(L){return Er(this,L).has(L)}function ks(L,tt){var yt=Er(this,L),Ht=yt.size;return yt.set(L,tt),this.size+=yt.size==Ht?0:1,this}mr.prototype.clear=fa,mr.prototype.delete=ao,mr.prototype.get=Os,mr.prototype.has=za,mr.prototype.set=ks;function yr(L){var tt=-1,yt=L==null?0:L.length;for(this.__data__=new mr;++tt<yt;)this.add(L[tt])}function Lr(L){return this.__data__.set(L,r),this}function cs(L){return this.__data__.has(L)}yr.prototype.add=yr.prototype.push=Lr,yr.prototype.has=cs;function Di(L){var tt=this.__data__=new In(L);this.size=tt.size}function Zi(){this.__data__=new In,this.size=0}function da(L){var tt=this.__data__,yt=tt.delete(L);return this.size=tt.size,yt}function pa(L){return this.__data__.get(L)}function ta(L){return this.__data__.has(L)}function Na(L,tt){var yt=this.__data__;if(yt instanceof In){var Ht=yt.__data__;if(!en||Ht.length<e-1)return Ht.push([L,tt]),this.size=++yt.size,this;yt=this.__data__=new mr(Ht)}return yt.set(L,tt),this.size=yt.size,this}Di.prototype.clear=Zi,Di.prototype.delete=da,Di.prototype.get=pa,Di.prototype.has=ta,Di.prototype.set=Na;function Cn(L,tt){var yt=Mi(L),Ht=!yt&&Ke(L),Ve=!yt&&!Ht&&As(L),Ee=!yt&&!Ht&&!Ve&&ji(L),yn=yt||Ht||Ve||Ee,ln=yn?xe(L.length,String):[],Bn=ln.length;for(var dn in L)ve.call(L,dn)&&!(yn&&(dn=="length"||Ve&&(dn=="offset"||dn=="parent")||Ee&&(dn=="buffer"||dn=="byteLength"||dn=="byteOffset")||Do(dn,Bn)))&&ln.push(dn);return ln}function Ds(L,tt){for(var yt=L.length;yt--;)if(ns(L[yt][0],tt))return yt;return-1}function Ca(L,tt,yt){var Ht=tt(L);return Mi(L)?Ht:we(Ht,yt(L))}function si(L){return L==null?L===void 0?M:P:qe&&qe in Object(L)?ts(L):Pi(L)}function _s(L){return yi(L)&&si(L)==c}function ai(L,tt,yt,Ht,Ve){return L===tt?!0:L==null||tt==null||!yi(L)&&!yi(tt)?L!==L&&tt!==tt:ma(L,tt,yt,Ht,ai,Ve)}function ma(L,tt,yt,Ht,Ve,Ee){var yn=Mi(L),ln=Mi(tt),Bn=yn?h:es(L),dn=ln?h:es(tt);Bn=Bn==c?H:Bn,dn=dn==c?H:dn;var Xn=Bn==H,Yr=dn==H,Fn=Bn==dn;if(Fn&&As(L)){if(!As(tt))return!1;yn=!0,Xn=!1}if(Fn&&!Xn)return Ee||(Ee=new Di),yn||ji(L)?ws(L,tt,yt,Ht,Ve,Ee):Ps(L,tt,Bn,yt,Ht,Ve,Ee);if(!(yt&i)){var Zn=Xn&&ve.call(L,"__wrapped__"),x=Yr&&ve.call(tt,"__wrapped__");if(Zn||x){var F=Zn?L.value():L,ht=x?tt.value():tt;return Ee||(Ee=new Di),Ve(F,ht,yt,Ht,Ee)}}return Fn?(Ee||(Ee=new Di),Sn(L,tt,yt,Ht,Ve,Ee)):!1}function fn(L){if(!fs(L)||Es(L))return!1;var tt=Pr(L)?xn:z;return tt.test(or(L))}function mi(L){return yi(L)&&gi(L.length)&&!!lt[si(L)]}function ga(L){if(!Ni(L))return gn(L);var tt=[];for(var yt in Object(L))ve.call(L,yt)&&yt!="constructor"&&tt.push(yt);return tt}function ws(L,tt,yt,Ht,Ve,Ee){var yn=yt&i,ln=L.length,Bn=tt.length;if(ln!=Bn&&!(yn&&Bn>ln))return!1;var dn=Ee.get(L);if(dn&&Ee.get(tt))return dn==tt;var Xn=-1,Yr=!0,Fn=yt&a?new yr:void 0;for(Ee.set(L,tt),Ee.set(tt,L);++Xn<ln;){var Zn=L[Xn],x=tt[Xn];if(Ht)var F=yn?Ht(x,Zn,Xn,tt,L,Ee):Ht(Zn,x,Xn,L,tt,Ee);if(F!==void 0){if(F)continue;Yr=!1;break}if(Fn){if(!he(tt,function(ht,_t){if(!de(Fn,_t)&&(Zn===ht||Ve(Zn,ht,yt,Ht,Ee)))return Fn.push(_t)})){Yr=!1;break}}else if(!(Zn===x||Ve(Zn,x,yt,Ht,Ee))){Yr=!1;break}}return Ee.delete(L),Ee.delete(tt),Yr}function Ps(L,tt,yt,Ht,Ve,Ee,yn){switch(yt){case O:if(L.byteLength!=tt.byteLength||L.byteOffset!=tt.byteOffset)return!1;L=L.buffer,tt=tt.buffer;case S:return!(L.byteLength!=tt.byteLength||!Ee(new Ln(L),new Ln(tt)));case p:case w:case k:return ns(+L,+tt);case _:return L.name==tt.name&&L.message==tt.message;case pt:case K:return L==tt+"";case I:var ln=Ge;case wt:var Bn=Ht&i;if(ln||(ln=Ye),L.size!=tt.size&&!Bn)return!1;var dn=yn.get(L);if(dn)return dn==tt;Ht|=a,yn.set(L,tt);var Xn=ws(ln(L),ln(tt),Ht,Ve,Ee,yn);return yn.delete(L),Xn;case U:if(Rr)return Rr.call(L)==Rr.call(tt)}return!1}function Sn(L,tt,yt,Ht,Ve,Ee){var yn=yt&i,ln=Ji(L),Bn=ln.length,dn=Ji(tt),Xn=dn.length;if(Bn!=Xn&&!yn)return!1;for(var Yr=Bn;Yr--;){var Fn=ln[Yr];if(!(yn?Fn in tt:ve.call(tt,Fn)))return!1}var Zn=Ee.get(L);if(Zn&&Ee.get(tt))return Zn==tt;var x=!0;Ee.set(L,tt),Ee.set(tt,L);for(var F=yn;++Yr<Bn;){Fn=ln[Yr];var ht=L[Fn],_t=tt[Fn];if(Ht)var Lt=yn?Ht(_t,ht,Fn,tt,L,Ee):Ht(ht,_t,Fn,L,tt,Ee);if(!(Lt===void 0?ht===_t||Ve(ht,_t,yt,Ht,Ee):Lt)){x=!1;break}F||(F=Fn=="constructor")}if(x&&!F){var Gt=L.constructor,te=tt.constructor;Gt!=te&&"constructor"in L&&"constructor"in tt&&!(typeof Gt=="function"&&Gt instanceof Gt&&typeof te=="function"&&te instanceof te)&&(x=!1)}return Ee.delete(L),Ee.delete(tt),x}function Ji(L){return Ca(L,Ms,Ha)}function Er(L,tt){var yt=L.__data__;return $a(tt)?yt[typeof tt=="string"?"string":"hash"]:yt.map}function Vr(L,tt){var yt=ue(L,tt);return fn(yt)?yt:void 0}function ts(L){var tt=ve.call(L,qe),yt=L[qe];try{L[qe]=void 0;var Ht=!0}catch{}var Ve=Rn.call(L);return Ht&&(tt?L[qe]=yt:delete L[qe]),Ve}var Ha=Jn?function(L){return L==null?[]:(L=Object(L),st(Jn(L),function(tt){return Re.call(L,tt)}))}:Ci,es=si;(He&&es(new He(new ArrayBuffer(1)))!=O||en&&es(new en)!=I||us&&es(us.resolve())!=X||pr&&es(new pr)!=wt||Si&&es(new Si)!=G)&&(es=function(L){var tt=si(L),yt=tt==H?L.constructor:void 0,Ht=yt?or(yt):"";if(Ht)switch(Ht){case Be:return O;case _n:return I;case ir:return X;case Un:return wt;case wr:return G}return tt});function Do(L,tt){return tt=tt??l,!!tt&&(typeof L=="number"||nt.test(L))&&L>-1&&L%1==0&&L<tt}function $a(L){var tt=typeof L;return tt=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?L!=="__proto__":L===null}function Es(L){return!!Ne&&Ne in L}function Ni(L){var tt=L&&L.constructor,yt=typeof tt=="function"&&tt.prototype||pe;return L===yt}function Pi(L){return Rn.call(L)}function or(L){if(L!=null){try{return ce.call(L)}catch{}try{return L+""}catch{}}return""}function ns(L,tt){return L===tt||L!==L&&tt!==tt}var Ke=_s((function(){return arguments})())?_s:function(L){return yi(L)&&ve.call(L,"callee")&&!Re.call(L,"callee")},Mi=Array.isArray;function Ra(L){return L!=null&&gi(L.length)&&!Pr(L)}var As=Qn||qi;function hs(L,tt){return ai(L,tt)}function Pr(L){if(!fs(L))return!1;var tt=si(L);return tt==v||tt==N||tt==f||tt==Z}function gi(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=l}function fs(L){var tt=typeof L;return L!=null&&(tt=="object"||tt=="function")}function yi(L){return L!=null&&typeof L=="object"}var ji=Nt?ee(Nt):mi;function Ms(L){return Ra(L)?Cn(L):ga(L)}function Ci(){return[]}function qi(){return!1}n.exports=hs})(Dp,Dp.exports)),Dp.exports}var r1={},mx;function W$(){if(mx)return r1;mx=1,Object.defineProperty(r1,"__esModule",{value:!0});const n=$C(),t=GC();var e;return(function(r){function i(h={},f={},p=!1){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});let w=n(f);p||(w=Object.keys(w).reduce((_,v)=>(w[v]!=null&&(_[v]=w[v]),_),{}));for(const _ in h)h[_]!==void 0&&f[_]===void 0&&(w[_]=h[_]);return Object.keys(w).length>0?w:void 0}r.compose=i;function a(h={},f={}){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});const p=Object.keys(h).concat(Object.keys(f)).reduce((w,_)=>(t(h[_],f[_])||(w[_]=f[_]===void 0?null:f[_]),w),{});return Object.keys(p).length>0?p:void 0}r.diff=a;function l(h={},f={}){h=h||{};const p=Object.keys(f).reduce((w,_)=>(f[_]!==h[_]&&h[_]!==void 0&&(w[_]=f[_]),w),{});return Object.keys(h).reduce((w,_)=>(h[_]!==f[_]&&f[_]===void 0&&(w[_]=null),w),p)}r.invert=l;function c(h,f,p=!1){if(typeof h!="object")return f;if(typeof f!="object")return;if(!p)return f;const w=Object.keys(f).reduce((_,v)=>(h[v]===void 0&&(_[v]=f[v]),_),{});return Object.keys(w).length>0?w:void 0}r.transform=c})(e||(e={})),r1.default=e,r1}var i1={},gx;function KC(){if(gx)return i1;gx=1,Object.defineProperty(i1,"__esModule",{value:!0});var n;return(function(t){function e(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}t.length=e})(n||(n={})),i1.default=n,i1}var s1={},yx;function Y$(){if(yx)return s1;yx=1,Object.defineProperty(s1,"__esModule",{value:!0});const n=KC();class t{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,l=n.default.length(i);if(r>=l-a?(r=l-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const c={};return i.attributes&&(c.attributes=i.attributes),typeof i.retain=="number"?c.retain=r:typeof i.retain=="object"&&i.retain!==null?c.retain=i.retain:typeof i.insert=="string"?c.insert=i.insert.substr(a,r):c.insert=i.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(l)}}else return[]}}return s1.default=t,s1}var vx;function Q$(){return vx||(vx=1,(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=K$(),r=$C(),i=GC(),a=W$();t.AttributeMap=a.default;const l=KC();t.Op=l.default;const c=Y$();t.OpIterator=c.default;const h="\0",f=(w,_)=>{if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);if(typeof _!="object"||_===null)throw new Error(`cannot retain a ${typeof _}`);const v=Object.keys(w)[0];if(!v||v!==Object.keys(_)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(_)[0]}`);return[v,w[v],_[v]]};class p{constructor(_){Array.isArray(_)?this.ops=_:_!=null&&Array.isArray(_.ops)?this.ops=_.ops:this.ops=[]}static registerEmbed(_,v){this.handlers[_]=v}static unregisterEmbed(_){delete this.handlers[_]}static getHandler(_){const v=this.handlers[_];if(!v)throw new Error(`no handlers for embed type "${_}"`);return v}insert(_,v){const N={};return typeof _=="string"&&_.length===0?this:(N.insert=_,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(N.attributes=v),this.push(N))}delete(_){return _<=0?this:this.push({delete:_})}retain(_,v){if(typeof _=="number"&&_<=0)return this;const N={retain:_};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(N.attributes=v),this.push(N)}push(_){let v=this.ops.length,N=this.ops[v-1];if(_=r(_),typeof N=="object"){if(typeof _.delete=="number"&&typeof N.delete=="number")return this.ops[v-1]={delete:N.delete+_.delete},this;if(typeof N.delete=="number"&&_.insert!=null&&(v-=1,N=this.ops[v-1],typeof N!="object"))return this.ops.unshift(_),this;if(i(_.attributes,N.attributes)){if(typeof _.insert=="string"&&typeof N.insert=="string")return this.ops[v-1]={insert:N.insert+_.insert},typeof _.attributes=="object"&&(this.ops[v-1].attributes=_.attributes),this;if(typeof _.retain=="number"&&typeof N.retain=="number")return this.ops[v-1]={retain:N.retain+_.retain},typeof _.attributes=="object"&&(this.ops[v-1].attributes=_.attributes),this}}return v===this.ops.length?this.ops.push(_):this.ops.splice(v,0,_),this}chop(){const _=this.ops[this.ops.length-1];return _&&typeof _.retain=="number"&&!_.attributes&&this.ops.pop(),this}filter(_){return this.ops.filter(_)}forEach(_){this.ops.forEach(_)}map(_){return this.ops.map(_)}partition(_){const v=[],N=[];return this.forEach(I=>{(_(I)?v:N).push(I)}),[v,N]}reduce(_,v){return this.ops.reduce(_,v)}changeLength(){return this.reduce((_,v)=>v.insert?_+l.default.length(v):v.delete?_-v.delete:_,0)}length(){return this.reduce((_,v)=>_+l.default.length(v),0)}slice(_=0,v=1/0){const N=[],I=new c.default(this.ops);let k=0;for(;k<v&&I.hasNext();){let P;k<_?P=I.next(_-k):(P=I.next(v-k),N.push(P)),k+=l.default.length(P)}return new p(N)}compose(_){const v=new c.default(this.ops),N=new c.default(_.ops),I=[],k=N.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let H=k.retain;for(;v.peekType()==="insert"&&v.peekLength()<=H;)H-=v.peekLength(),I.push(v.next());k.retain-H>0&&N.next(k.retain-H)}const P=new p(I);for(;v.hasNext()||N.hasNext();)if(N.peekType()==="insert")P.push(N.next());else if(v.peekType()==="delete")P.push(v.next());else{const H=Math.min(v.peekLength(),N.peekLength()),X=v.next(H),Z=N.next(H);if(Z.retain){const pt={};if(typeof X.retain=="number")pt.retain=typeof Z.retain=="number"?H:Z.retain;else if(typeof Z.retain=="number")X.retain==null?pt.insert=X.insert:pt.retain=X.retain;else{const K=X.retain==null?"insert":"retain",[U,M,G]=f(X[K],Z.retain),S=p.getHandler(U);pt[K]={[U]:S.compose(M,G,K==="retain")}}const wt=a.default.compose(X.attributes,Z.attributes,typeof X.retain=="number");if(wt&&(pt.attributes=wt),P.push(pt),!N.hasNext()&&i(P.ops[P.ops.length-1],pt)){const K=new p(v.rest());return P.concat(K).chop()}}else typeof Z.delete=="number"&&(typeof X.retain=="number"||typeof X.retain=="object"&&X.retain!==null)&&P.push(Z)}return P.chop()}concat(_){const v=new p(this.ops.slice());return _.ops.length>0&&(v.push(_.ops[0]),v.ops=v.ops.concat(_.ops.slice(1))),v}diff(_,v){if(this.ops===_.ops)return new p;const N=[this,_].map(X=>X.map(Z=>{if(Z.insert!=null)return typeof Z.insert=="string"?Z.insert:h;const pt=X===_?"on":"with";throw new Error("diff() called "+pt+" non-document")}).join("")),I=new p,k=e(N[0],N[1],v,!0),P=new c.default(this.ops),H=new c.default(_.ops);return k.forEach(X=>{let Z=X[1].length;for(;Z>0;){let pt=0;switch(X[0]){case e.INSERT:pt=Math.min(H.peekLength(),Z),I.push(H.next(pt));break;case e.DELETE:pt=Math.min(Z,P.peekLength()),P.next(pt),I.delete(pt);break;case e.EQUAL:pt=Math.min(P.peekLength(),H.peekLength(),Z);const wt=P.next(pt),K=H.next(pt);i(wt.insert,K.insert)?I.retain(pt,a.default.diff(wt.attributes,K.attributes)):I.push(K).delete(pt);break}Z-=pt}}),I.chop()}eachLine(_,v=`
`){const N=new c.default(this.ops);let I=new p,k=0;for(;N.hasNext();){if(N.peekType()!=="insert")return;const P=N.peek(),H=l.default.length(P)-N.peekLength(),X=typeof P.insert=="string"?P.insert.indexOf(v,H)-H:-1;if(X<0)I.push(N.next());else if(X>0)I.push(N.next(X));else{if(_(I,N.next(1).attributes||{},k)===!1)return;k+=1,I=new p}}I.length()>0&&_(I,{},k)}invert(_){const v=new p;return this.reduce((N,I)=>{if(I.insert)v.delete(l.default.length(I));else{if(typeof I.retain=="number"&&I.attributes==null)return v.retain(I.retain),N+I.retain;if(I.delete||typeof I.retain=="number"){const k=I.delete||I.retain;return _.slice(N,N+k).forEach(H=>{I.delete?v.push(H):I.retain&&I.attributes&&v.retain(l.default.length(H),a.default.invert(I.attributes,H.attributes))}),N+k}else if(typeof I.retain=="object"&&I.retain!==null){const k=_.slice(N,N+1),P=new c.default(k.ops).next(),[H,X,Z]=f(I.retain,P.insert),pt=p.getHandler(H);return v.retain({[H]:pt.invert(X,Z)},a.default.invert(I.attributes,P.attributes)),N+1}}return N},0),v.chop()}transform(_,v=!1){if(v=!!v,typeof _=="number")return this.transformPosition(_,v);const N=_,I=new c.default(this.ops),k=new c.default(N.ops),P=new p;for(;I.hasNext()||k.hasNext();)if(I.peekType()==="insert"&&(v||k.peekType()!=="insert"))P.retain(l.default.length(I.next()));else if(k.peekType()==="insert")P.push(k.next());else{const H=Math.min(I.peekLength(),k.peekLength()),X=I.next(H),Z=k.next(H);if(X.delete)continue;if(Z.delete)P.push(Z);else{const pt=X.retain,wt=Z.retain;let K=typeof wt=="object"&&wt!==null?wt:H;if(typeof pt=="object"&&pt!==null&&typeof wt=="object"&&wt!==null){const U=Object.keys(pt)[0];if(U===Object.keys(wt)[0]){const M=p.getHandler(U);M&&(K={[U]:M.transform(pt[U],wt[U],v)})}}P.retain(K,a.default.transform(X.attributes,Z.attributes,v))}}return P.chop()}transformPosition(_,v=!1){v=!!v;const N=new c.default(this.ops);let I=0;for(;N.hasNext()&&I<=_;){const k=N.peekLength(),P=N.peekType();if(N.next(),P==="delete"){_-=Math.min(k,_-I);continue}else P==="insert"&&(I<_||!v)&&(_+=k);I+=k}return _}}p.Op=l.default,p.OpIterator=c.default,p.AttributeMap=a.default,p.handlers={},t.default=p,n.exports=p,n.exports.default=p})(n1,n1.exports)),n1.exports}var Io=Q$();const Ue=hd(Io);class pl extends so{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}pl.blotName="break";pl.tagName="BR";let ll=class extends f0{};const X$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function i2(n){return n.replace(/[&<>"']/g,t=>X$[t])}class xa extends i_{static allowedChildren=[xa,pl,so,ll];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const r=xa.order.indexOf(t),i=xa.order.indexOf(e);return r>=0||i>=0?r-i:t===e?0:t<e?-1:1}formatAt(t,e,r,i){if(xa.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Fe.BLOT)){const a=this.isolate(t,e);i&&a.wrap(r,i)}else super.formatAt(t,e,r,i)}optimize(t){if(super.optimize(t),this.parent instanceof xa&&xa.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}const bx=1;class Xs extends cm{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=WC(this)),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,e,r,i){e<=0||(this.scroll.query(r,Fe.BLOCK)?t+e===this.length()&&this.format(r,i):super.formatAt(t,Math.min(e,this.length()-t-1),r,i),this.cache={})}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r),this.cache={};return}if(e.length===0)return;const i=e.split(`
`),a=i.shift();a.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let l=this;i.reduce((c,h)=>(l=l.split(c,!0),l.insertAt(0,h),h.length),t+a.length)}insertBefore(t,e){const{head:r}=this.children;super.insertBefore(t,e),r instanceof pl&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+bx),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e&&(t===0||t>=this.length()-bx)){const i=this.clone();return t===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(t,e);return this.cache={},r}}Xs.blotName="block";Xs.tagName="P";Xs.defaultChild=pl;Xs.allowedChildren=[pl,xa,so,ll];class Lo extends so{attach(){super.attach(),this.attributes=new n2(this.domNode)}delta(){return new Ue().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,Fe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,e)}formatAt(t,e,r,i){this.format(r,i)}insertAt(t,e,r){if(r!=null){super.insertAt(t,e,r);return}const i=e.split(`
`),a=i.pop(),l=i.map(h=>{const f=this.scroll.create(Xs.blotName);return f.insertAt(0,h),f}),c=this.split(t);l.forEach(h=>{this.parent.insertBefore(h,c)}),a&&this.parent.insertBefore(this.scroll.create("text",a),c)}}Lo.scope=Fe.BLOCK_BLOT;function WC(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ca).reduce((e,r)=>r.length()===0?e:e.insert(r.value(),To(r,{},t)),new Ue).insert(`
`,To(n))}function To(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:To(n.parent,t,e)}class tl extends so{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(tl.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Fe.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=tl.CONTENTS.length,r.optimize(),r.formatAt(i,tl.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof ll?this.prev:null,r=e?e.length():0,i=this.next instanceof ll?this.next:null,a=i?i.text:"",{textNode:l}=this,c=l.data.split(tl.CONTENTS).join("");l.data=tl.CONTENTS;let h;if(e)h=e,(c||i)&&(e.insertAt(e.length(),c+a),i&&i.remove());else if(i)h=i,i.insertAt(0,c);else{const f=document.createTextNode(c);h=this.scroll.create(f),this.parent.insertBefore(h,this)}if(this.remove(),t){const f=(_,v)=>e&&_===e.domNode?v:_===l?r+v-1:i&&_===i.domNode?r+c.length+v:null,p=f(t.start.node,t.start.offset),w=f(t.end.node,t.end.offset);if(p!==null&&w!==null)return{startNode:h.domNode,startOffset:p,endNode:h.domNode,endOffset:w}}return null}update(t,e){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(e.range=r)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=tl.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}}var yv={exports:{}},_x;function Z$(){return _x||(_x=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function a(h,f,p,w,_){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,w||h,_),N=e?e+f:f;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],v]:h._events[N].push(v):(h._events[N]=v,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,w;if(this._eventsCount===0)return f;for(w in p=this._events)t.call(p,w)&&f.push(e?w.slice(1):w);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=e?e+f:f,w=this._events[p];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,v=w.length,N=new Array(v);_<v;_++)N[_]=w[_].fn;return N},c.prototype.listenerCount=function(f){var p=e?e+f:f,w=this._events[p];return w?w.fn?1:w.length:0},c.prototype.emit=function(f,p,w,_,v,N){var I=e?e+f:f;if(!this._events[I])return!1;var k=this._events[I],P=arguments.length,H,X;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),P){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,p),!0;case 3:return k.fn.call(k.context,p,w),!0;case 4:return k.fn.call(k.context,p,w,_),!0;case 5:return k.fn.call(k.context,p,w,_,v),!0;case 6:return k.fn.call(k.context,p,w,_,v,N),!0}for(X=1,H=new Array(P-1);X<P;X++)H[X-1]=arguments[X];k.fn.apply(k.context,H)}else{var Z=k.length,pt;for(X=0;X<Z;X++)switch(k[X].once&&this.removeListener(f,k[X].fn,void 0,!0),P){case 1:k[X].fn.call(k[X].context);break;case 2:k[X].fn.call(k[X].context,p);break;case 3:k[X].fn.call(k[X].context,p,w);break;case 4:k[X].fn.call(k[X].context,p,w,_);break;default:if(!H)for(pt=1,H=new Array(P-1);pt<P;pt++)H[pt-1]=arguments[pt];k[X].fn.apply(k[X].context,H)}}return!0},c.prototype.on=function(f,p,w){return a(this,f,p,w,!1)},c.prototype.once=function(f,p,w){return a(this,f,p,w,!0)},c.prototype.removeListener=function(f,p,w,_){var v=e?e+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var N=this._events[v];if(N.fn)N.fn===p&&(!_||N.once)&&(!w||N.context===w)&&l(this,v);else{for(var I=0,k=[],P=N.length;I<P;I++)(N[I].fn!==p||_&&!N[I].once||w&&N[I].context!==w)&&k.push(N[I]);k.length?this._events[v]=k.length===1?k[0]:k:l(this,v)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=e?e+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,n.exports=c})(yv)),yv.exports}var J$=Z$();const tG=hd(J$),C5=new WeakMap,R5=["error","warn","log","info"];let L5="warn";function YC(n){if(L5&&R5.indexOf(n)<=R5.indexOf(L5)){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];console[n](...e)}}function ju(n){return R5.reduce((t,e)=>(t[e]=YC.bind(console,e,n),t),{})}ju.level=n=>{L5=n};YC.level=ju.level;const vv=ju("quill:events"),eG=["selectionchange","mousedown","mouseup","click"];eG.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=C5.get(i);a&&a.emitter&&a.emitter.handleDOM(...e)})})});class De extends tG{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",vv.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return vv.log.call(vv,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(a=>{let{node:l,handler:c}=a;(t.target===l||l.contains(t.target))&&c(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}}const bv=ju("quill:selection");class Ph{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class nG{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ph(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,De.sources.USER),1)}),this.emitter.on(De.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(De.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=a.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(l?De.sources.SILENT:i)}catch{}})}),this.emitter.on(De.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:l,endNode:c,endOffset:h}=i.range;this.setNativeRange(a,l,c,h),this.update(De.sources.SILENT)}}),this.update(De.sources.SILENT)}handleComposition(){this.emitter.on(De.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(De.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(De.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,Fe.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof ca){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let i,[a,l]=this.scroll.leaf(t);if(a==null)return null;if(e>0&&l===a.length()){const[p]=this.scroll.leaf(t+1);if(p){const[w]=this.scroll.line(t),[_]=this.scroll.line(t+1);w===_&&(a=p,l=0)}}[i,l]=a.position(l,!0);const c=document.createRange();if(e>0)return c.setStart(i,l),[a,l]=this.scroll.leaf(t+e),a==null?null:([i,l]=a.position(l,!0),c.setEnd(i,l),c.getBoundingClientRect());let h="left",f;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(c.setStart(i,l),c.setEnd(i,l+1)):(c.setStart(i,l-1),c.setEnd(i,l),h="right"),f=c.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;f=a.domNode.getBoundingClientRect(),l>0&&(h="right")}return{bottom:f.top+f.height,height:f.height,left:f[h],right:f[h],top:f.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const r=this.normalizeNative(e);return bv.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&_v(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map(l=>{const[c,h]=l,f=this.scroll.find(c,!0),p=f.offset(this.scroll);return h===0?p:f instanceof ca?p+f.index(c,h):p+f.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new Ph(a,i-a)}normalizeNative(t){if(!_v(this.root,t.startContainer)||!t.collapsed&&!_v(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),e}rangeToNative(t){const e=this.scroll.length(),r=(i,a)=>{i=Math.min(e-1,i);const[l,c]=this.scroll.leaf(i);return l?l.position(c,a):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(bv.info("setNativeRange",t,e,r,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||a||t!==c.startContainer||e!==c.startOffset||r!==c.endContainer||i!==c.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const h=document.createRange();h.setStart(t,e),h.setEnd(r,i),l.removeAllRanges(),l.addRange(h)}}else l.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De.sources.API;if(typeof e=="string"&&(r=e,e=!1),bv.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De.sources.USER;const e=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!xc(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const a=[De.events.SELECTION_CHANGE,Jf(this.lastRange),Jf(e),t];this.emitter.emit(De.events.EDITOR_CHANGE,...a),t!==De.sources.SILENT&&this.emitter.emit(...a)}}}function _v(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const rG=/^[ -~]*$/;class iG{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=wx(t),i=new Ue;return aG(r.ops.slice()).reduce((l,c)=>{const h=Io.Op.length(c);let f=c.attributes||{},p=!1,w=!1;if(c.insert!=null){if(i.retain(h),typeof c.insert=="string"){const N=c.insert;w=!N.endsWith(`
`)&&(e<=l||!!this.scroll.descendant(Lo,l)[0]),this.scroll.insertAt(l,N);const[I,k]=this.scroll.line(l);let P=Dc({},To(I));if(I instanceof Xs){const[H]=I.descendant(ca,k);H&&(P=Dc(P,To(H)))}f=Io.AttributeMap.diff(P,f)||{}}else if(typeof c.insert=="object"){const N=Object.keys(c.insert)[0];if(N==null)return l;const I=this.scroll.query(N,Fe.INLINE)!=null;if(I)(e<=l||this.scroll.descendant(Lo,l)[0])&&(w=!0);else if(l>0){const[k,P]=this.scroll.descendant(ca,l-1);k instanceof ll?k.value()[P]!==`
`&&(p=!0):k instanceof so&&k.statics.scope===Fe.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(l,N,c.insert[N]),I){const[k]=this.scroll.descendant(ca,l);if(k){const P=Dc({},To(k));f=Io.AttributeMap.diff(P,f)||{}}}}e+=h}else if(i.push(c),c.retain!==null&&typeof c.retain=="object"){const N=Object.keys(c.retain)[0];if(N==null)return l;this.scroll.updateEmbedAt(l,N,c.retain[N])}Object.keys(f).forEach(N=>{this.scroll.formatAt(l,h,N,f[N])});const _=p?1:0,v=w?1:0;return e+=_+v,i.retain(_),i.delete(v),l+h+_+v},0),i.reduce((l,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(l,c.delete),l):l+Io.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new Ue().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(t,Math.max(e,1)).forEach(l=>{l.format(a,r[a])})}),this.scroll.optimize();const i=new Ue().retain(t).retain(e,Jf(r));return this.update(i)}formatText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(t,e,a,r[a])});const i=new Ue().retain(t).retain(e,Jf(r));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new Ue)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];e===0?this.scroll.path(t).forEach(c=>{const[h]=c;h instanceof Xs?r.push(h):h instanceof ca&&i.push(h)}):(r=this.scroll.lines(t,e),i=this.scroll.descendants(ca,t,e));const[a,l]=[r,i].map(c=>{const h=c.shift();if(h==null)return{};let f=To(h);for(;Object.keys(f).length>0;){const p=c.shift();if(p==null)return f;f=sG(To(p),f)}return f});return{...a,...l}}getHTML(t,e){const[r,i]=this.scroll.line(t);if(r){const a=r.length();return r.length()>=i+e&&!(i===0&&e===a)?hm(r,i,e,!0):hm(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,e){const r=wx(e),i=new Ue().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(i)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new Ue().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(r).forEach(i=>{this.scroll.formatAt(t,e.length,i,r[i])}),this.update(new Ue().retain(t).insert(e,Jf(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if(t?.statics.blotName!==Xs.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof pl}removeFormat(t,e){const r=this.getText(t,e),[i,a]=this.scroll.line(t+e);let l=0,c=new Ue;i!=null&&(l=i.length()-a,c=i.delta().slice(a,a+l-1).insert(`
`));const f=this.getContents(t,e+l).diff(new Ue().insert(r).concat(c)),p=new Ue().retain(t).concat(f);return this.applyDelta(p)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(rG)&&this.scroll.find(e[0].target)){const a=this.scroll.find(e[0].target),l=To(a),c=a.offset(this.scroll),h=e[0].oldValue.replace(tl.CONTENTS,""),f=new Ue().insert(h),p=new Ue().insert(a.value()),w=r&&{oldRange:Ex(r.oldRange,-c),newRange:Ex(r.newRange,-c)};t=new Ue().retain(c).concat(f.diff(p,w)).reduce((v,N)=>N.insert?v.insert(N.insert,l):v.push(N),new Ue),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!xc(i.compose(t),this.delta))&&(t=i.diff(this.delta,r));return t}}function Ff(n,t,e){if(n.length===0){const[v]=wv(e.pop());return t<=0?`</li></${v}>`:`</li></${v}>${Ff([],t-1,e)}`}const[{child:r,offset:i,length:a,indent:l,type:c},...h]=n,[f,p]=wv(c);if(l>t)return e.push(c),l===t+1?`<${f}><li${p}>${hm(r,i,a)}${Ff(h,l,e)}`:`<${f}><li>${Ff(n,t+1,e)}`;const w=e[e.length-1];if(l===t&&c===w)return`</li><li${p}>${hm(r,i,a)}${Ff(h,l,e)}`;const[_]=wv(e.pop());return`</li></${_}>${Ff(n,t-1,e)}`}function hm(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof ll)return i2(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof rl){if(n.statics.blotName==="list-container"){const f=[];return n.children.forEachAt(t,e,(p,w,_)=>{const v="formats"in p&&typeof p.formats=="function"?p.formats():{};f.push({child:p,offset:w,length:_,indent:v.indent||0,type:v.list})}),Ff(f,-1,[])}const i=[];if(n.children.forEachAt(t,e,(f,p,w)=>{i.push(hm(f,p,w))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:l}=n.domNode,[c,h]=a.split(`>${l}<`);return c==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${h}`:`${c}>${i.join("")}<${h}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function sG(n,t){return Object.keys(t).reduce((e,r)=>{if(n[r]==null)return e;const i=t[r];return i===n[r]?e[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?e[r]=i.concat([n[r]]):e[r]=i:e[r]=[i,n[r]],e},{})}function wv(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function wx(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const r=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,e.attributes)}return t.push(e)},new Ue)}function Ex(n,t){let{index:e,length:r}=n;return new Ph(e+t,r)}function aG(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((i,a)=>{a&&t.push({insert:`
`,attributes:e.attributes}),i&&t.push({insert:i,attributes:e.attributes})}):t.push(e)}),t}class $l{static DEFAULTS={};constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}const a1="\uFEFF";class a_ extends so{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(a1),this.rightGuard=document.createTextNode(a1),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,r;const i=t.data.split(a1).join("");if(t===this.leftGuard)if(this.prev instanceof ll){const a=this.prev.length();this.prev.insertAt(a,i),e={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),e={startNode:r,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof ll?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),e={startNode:r,startOffset:i.length}));return t.data=a1,e}update(t,e){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(e.range=i)}})}}class oG{isComposing=!1;constructor(t,e){this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof a_)&&(this.emitter.emit(De.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(De.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(De.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(De.events.COMPOSITION_END,t),this.isComposing=!1}}class Td{static DEFAULTS={modules:{}};static themes={default:Td};modules={};constructor(t,e){this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}const lG=n=>n.parentElement||n.getRootNode().host||null,uG=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*r,left:t.left}},o1=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},Ax=(n,t,e,r,i,a)=>n<e&&t>r?0:n<e?-(e-n+i):t>r?t-n>r-e?n+i-e:t-r+a:0,cG=(n,t)=>{const e=n.ownerDocument;let r=t,i=n;for(;i;){const a=i===e.body,l=a?{top:0,right:window.visualViewport?.width??e.documentElement.clientWidth,bottom:window.visualViewport?.height??e.documentElement.clientHeight,left:0}:uG(i),c=getComputedStyle(i),h=Ax(r.left,r.right,l.left,l.right,o1(c.scrollPaddingLeft),o1(c.scrollPaddingRight)),f=Ax(r.top,r.bottom,l.top,l.bottom,o1(c.scrollPaddingTop),o1(c.scrollPaddingBottom));if(h||f)if(a)e.defaultView?.scrollBy(h,f);else{const{scrollLeft:p,scrollTop:w}=i;f&&(i.scrollTop+=f),h&&(i.scrollLeft+=h);const _=i.scrollLeft-p,v=i.scrollTop-w;r={left:r.left-_,top:r.top-v,right:r.right-_,bottom:r.bottom-v}}i=a||c.position==="fixed"?null:lG(i)}},hG=100,fG=["block","break","cursor","inline","scroll","text"],dG=(n,t,e)=>{const r=new cd;return fG.forEach(i=>{const a=t.query(i);a&&r.register(a)}),n.forEach(i=>{let a=t.query(i);a||e.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,l+=1,l>hG){e.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},ed=ju("quill"),l1=new cd;rl.uiClass="ql-ui";class Xt{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:l1,theme:"default"};static events=De.events;static sources=De.sources;static version="2.0.3";static imports={delta:Ue,parchment:G$,"core/module":$l,"core/theme":Td};static debug(t){t===!0&&(t="log"),ju.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C5.get(t)||l1.find(t,e)}static import(t){return this.imports[t]==null&&ed.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&ed.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&l1.register(e),typeof e.register=="function"&&e.register(l1)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=pG(t,e),this.container=this.options.container,this.container==null){ed.error("Invalid Quill container",t);return}this.options.debug&&Xt.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",C5.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new De;const i=s_.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new iG(this.scroll),this.selection=new nG(this.scroll,this.emitter),this.composition=new oG(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(De.events.EDITOR_CHANGE,l=>{l===De.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(De.events.SCROLL_UPDATE,(l,c)=>{const h=this.selection.lastRange,[f]=this.selection.getRange(),p=h&&f?{oldRange:h,newRange:f}:void 0;Zo.call(this,()=>this.editor.update(null,c,p),l)}),this.emitter.on(De.events.SCROLL_EMBED_UPDATE,(l,c)=>{const h=this.selection.lastRange,[f]=this.selection.getRange(),p=h&&f?{oldRange:h,newRange:f}:void 0;Zo.call(this,()=>{const w=new Ue().retain(l.offset(this)).retain({[l.statics.blotName]:c});return this.editor.update(w,[],p)},Xt.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=fu(t,e,r),Zo.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De.sources.API;return Zo.call(this,()=>{const i=this.getSelection(!0);let a=new Ue;if(i==null)return a;if(this.scroll.query(t,Fe.BLOCK))a=this.editor.formatLine(i.index,i.length,{[t]:e});else{if(i.length===0)return this.selection.format(t,e),a;a=this.editor.formatText(i.index,i.length,{[t]:e})}return this.setSelection(i,De.sources.SILENT),a},r)}formatLine(t,e,r,i,a){let l;return[t,e,l,a]=fu(t,e,r,i,a),Zo.call(this,()=>this.editor.formatLine(t,e,l),a,t,0)}formatText(t,e,r,i,a){let l;return[t,e,l,a]=fu(t,e,r,i,a),Zo.call(this,()=>this.editor.formatText(t,e,l),a,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,e):r=this.selection.getBounds(t.index,t.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=fu(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=fu(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=fu(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xt.sources.API;return Zo.call(this,()=>this.editor.insertEmbed(t,e,r),i,t)}insertText(t,e,r,i,a){let l;return[t,,l,a]=fu(t,0,r,i,a),Zo.call(this,()=>this.editor.insertText(t,e,l),a,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=fu(t,e,r),Zo.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){cG(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;return Zo.call(this,()=>{t=new Ue(t);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,t),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(l)},e)}setSelection(t,e,r){t==null?this.selection.setRange(null,e||Xt.sources.API):([t,e,,r]=fu(t,e,r),this.selection.setRange(new Ph(Math.max(0,t),e),r),r!==De.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;const r=new Ue().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:De.sources.API;return Zo.call(this,()=>(t=new Ue(t),this.editor.applyDelta(t)),e,!0)}}function xx(n){return typeof n=="string"?document.querySelector(n):n}function Ev(n){return Object.entries(n??{}).reduce((t,e)=>{let[r,i]=e;return{...t,[r]:i===!0?{}:i}},{})}function Sx(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function pG(n,t){const e=xx(n);if(!e)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===Xt.DEFAULTS.theme?Td:Xt.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...l}=Xt.DEFAULTS,{modules:c,...h}=i.DEFAULTS;let f=Ev(t.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const p=Dc({},Ev(a),Ev(c),f),w={...l,...Sx(h),...Sx(t)};let _=t.registry;return _?t.formats&&ed.warn('Ignoring "formats" option because "registry" is specified'):_=t.formats?dG(t.formats,w.registry,ed):w.registry,{...w,registry:_,container:e,theme:i,modules:Object.entries(p).reduce((v,N)=>{let[I,k]=N;if(!k)return v;const P=Xt.import(`modules/${I}`);return P==null?(ed.error(`Cannot load ${I} module. Are you sure you registered it?`),v):{...v,[I]:Dc({},P.DEFAULTS||{},k)}},{}),bounds:xx(w.bounds)}}function Zo(n,t,e,r){if(!this.isEnabled()&&t===De.sources.USER&&!this.allowReadOnlyEdits)return new Ue;let i=e==null?null:this.getSelection();const a=this.editor.delta,l=n();if(i!=null&&(e===!0&&(e=i.index),r==null?i=Tx(i,l,t):r!==0&&(i=Tx(i,e,r,t)),this.setSelection(i,De.sources.SILENT)),l.length()>0){const c=[De.events.TEXT_CHANGE,l,a,t];this.emitter.emit(De.events.EDITOR_CHANGE,...c),t!==De.sources.SILENT&&this.emitter.emit(...c)}return l}function fu(n,t,e,r,i){let a={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(i=r,r=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(i=r,r=e,e=t,t=0),typeof e=="object"?(a=e,i=r):typeof e=="string"&&(r!=null?a[e]=r:i=e),i=i||De.sources.API,[n,t,a,i]}function Tx(n,t,e,r){const i=typeof e=="number"?e:0;if(n==null)return null;let a,l;return t&&typeof t.transformPosition=="function"?[a,l]=[n.index,n.index+n.length].map(c=>t.transformPosition(c,r!==De.sources.USER)):[a,l]=[n.index,n.index+n.length].map(c=>c<t||c===t&&r===De.sources.USER?c:i>=0?c+i:Math.max(t,c+i)),new Ph(a,l-a)}class Gh extends r2{}function Nx(n){return n instanceof Xs||n instanceof Lo}function Cx(n){return typeof n.updateContent=="function"}class mG extends s_{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Xs;static allowedChildren=[Xs,Lo,Gh];constructor(t,e,r){let{emitter:i}=r;super(t,e),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(De.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(De.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(De.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,i]=this.line(t),[a]=this.line(t+e);if(super.deleteAt(t,e),a!=null&&r!==a&&i>0){if(r instanceof Lo||a instanceof Lo){this.optimize();return}const l=a.children.head instanceof pl?null:a.children.head;r.moveChildren(a,l),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,i){super.formatAt(t,e,r,i),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(r==null||this.scroll.query(e,Fe.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&e.endsWith(`
`)?i.insertAt(0,e.slice(0,-1),r):i.insertAt(0,e,r)}else{const i=this.scroll.create(e,r);this.appendChild(i)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===Fe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat(new Ue().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const h=a.type==="block"&&(a.delta.length()===0||!this.descendant(Lo,t)[0]&&t<this.length()),f=a.type==="block"?a.delta:new Ue().insert({[a.key]:a.value});Av(this,t,f);const p=a.type==="block"?1:0,w=t+f.length()+p;h&&this.insertAt(w-1,`
`);const _=To(this.line(t)[0]),v=Io.AttributeMap.diff(_,a.attributes)||{};Object.keys(v).forEach(N=>{this.formatAt(w-1,1,N,v[N])}),t=w}let[l,c]=this.children.find(t);if(r.length&&(l&&(l=l.split(c),c=0),r.forEach(h=>{if(h.type==="block"){const f=this.createBlock(h.attributes,l||void 0);Av(f,0,h.delta)}else{const f=this.create(h.key,h.value);this.insertBefore(f,l||void 0),Object.keys(h.attributes).forEach(p=>{f.format(p,h.attributes[p])})}})),i.type==="block"&&i.delta.length()){const h=l?l.offset(l.scroll)+c:this.length();Av(this,h,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,i]=e;return r instanceof ca?[r,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Nx,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,l)=>{let c=[],h=l;return i.children.forEachAt(a,l,(f,p,w)=>{Nx(f)?c.push(f):f instanceof r2&&(c=c.concat(r(f,p,h))),h-=w}),c};return r(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(De.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=De.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!Cx(a)}),t.length>0&&this.emitter.emit(De.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(De.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[i]=this.descendant(a=>a instanceof Lo,t);i&&i.statics.blotName===e&&Cx(i)&&i.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new Ue;return t.forEach(i=>{const a=i?.insert;if(a)if(typeof a=="string"){const l=a.split(`
`);l.slice(0,-1).forEach(h=>{r.insert(h,i.attributes),e.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Ue});const c=l[l.length-1];c&&r.insert(c,i.attributes)}else{const l=Object.keys(a)[0];if(!l)return;this.query(l,Fe.INLINE)?r.push(i):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new Ue,e.push({type:"blockEmbed",key:l,value:a[l],attributes:i.attributes??{}}))}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const i={};Object.entries(t).forEach(c=>{let[h,f]=c;this.query(h,Fe.BLOCK&Fe.BLOT)!=null?r=h:i[h]=f});const a=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(a,e||void 0);const l=a.length();return Object.entries(i).forEach(c=>{let[h,f]=c;a.formatAt(0,l,h,f)}),a}}function Av(n,t,e){e.reduce((r,i)=>{const a=Io.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const c=i.insert;n.insertAt(r,c);const[h]=n.descendant(ca,r),f=To(h);l=Io.AttributeMap.diff(f,l)||{}}else if(typeof i.insert=="object"){const c=Object.keys(i.insert)[0];if(c==null)return r;if(n.insertAt(r,c,i.insert[c]),n.scroll.query(c,Fe.INLINE)!=null){const[f]=n.descendant(ca,r),p=To(f);l=Io.AttributeMap.diff(p,l)||{}}}}return Object.keys(l).forEach(c=>{n.formatAt(r,a,c,l[c])}),r+a},t)}const o_={scope:Fe.BLOCK,whitelist:["right","center","justify"]},gG=new Vl("align","align",o_),QC=new dl("align","ql-align",o_),XC=new Yc("align","text-align",o_);class ZC extends Yc{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):e}}const yG=new dl("color","ql-color",{scope:Fe.INLINE}),l_=new ZC("color","color",{scope:Fe.INLINE}),vG=new dl("background","ql-bg",{scope:Fe.INLINE}),u_=new ZC("background","background-color",{scope:Fe.INLINE});class Kh extends Gh{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${i2(this.code(t,e))}
</pre>`}}class Ta extends Xs{static TAB="  ";static register(){Xt.register(Kh)}}class c_ extends xa{}c_.blotName="code";c_.tagName="CODE";Ta.blotName="code-block";Ta.className="ql-code-block";Ta.tagName="DIV";Kh.blotName="code-block-container";Kh.className="ql-code-block-container";Kh.tagName="DIV";Kh.allowedChildren=[Ta];Ta.allowedChildren=[ll,pl,tl];Ta.requiredContainer=Kh;const h_={scope:Fe.BLOCK,whitelist:["rtl"]},JC=new Vl("direction","dir",h_),t8=new dl("direction","ql-direction",h_),e8=new Yc("direction","direction",h_),n8={scope:Fe.INLINE,whitelist:["serif","monospace"]},r8=new dl("font","ql-font",n8);class bG extends Yc{value(t){return super.value(t).replace(/["']/g,"")}}const i8=new bG("font","font-family",n8),s8=new dl("size","ql-size",{scope:Fe.INLINE,whitelist:["small","large","huge"]}),a8=new Yc("size","font-size",{scope:Fe.INLINE,whitelist:["10px","18px","32px"]}),_G=ju("quill:keyboard"),wG=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class s2 extends $l{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&e[r]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=AG(t);if(i==null){_G.warn("Attempted to add invalid keyboard binding",i);return}typeof e=="function"&&(e={handler:e}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const c={...i,key:l,...e,...r};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(P=>s2.match(t,P));if(i.length===0)return;const a=Xt.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[c,h]=this.quill.getLine(l.index),[f,p]=this.quill.getLeaf(l.index),[w,_]=l.length===0?[f,p]:this.quill.getLeaf(l.index+l.length),v=f instanceof f0?f.value().slice(0,p):"",N=w instanceof f0?w.value().slice(_):"",I={collapsed:l.length===0,empty:l.length===0&&c.length()<=1,format:this.quill.getFormat(l),line:c,offset:h,prefix:v,suffix:N,event:t};i.some(P=>{if(P.collapsed!=null&&P.collapsed!==I.collapsed||P.empty!=null&&P.empty!==I.empty||P.offset!=null&&P.offset!==I.offset)return!1;if(Array.isArray(P.format)){if(P.format.every(H=>I.format[H]==null))return!1}else if(typeof P.format=="object"&&!Object.keys(P.format).every(H=>P.format[H]===!0?I.format[H]!=null:P.format[H]===!1?I.format[H]==null:xc(P.format[H],I.format[H])))return!1;return P.prefix!=null&&!P.prefix.test(I.prefix)||P.suffix!=null&&!P.suffix.test(I.suffix)?!1:P.handler.call(this,l,I,P)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(t.index);let l=new Ue().retain(t.index-r).delete(r);if(e.offset===0){const[c]=this.quill.getLine(t.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const f=a.formats(),p=this.quill.getFormat(t.index-1,1);if(i=Io.AttributeMap.diff(f,p)||{},Object.keys(i).length>0){const w=new Ue().retain(t.index+a.length()-2).retain(1,i);l=l.compose(w)}}}this.quill.updateContents(l,Xt.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(t.index);let l=new Ue().retain(t.index).delete(r);if(e.offset>=a.length()-1){const[c]=this.quill.getLine(t.index+1);if(c){const h=a.formats(),f=this.quill.getFormat(t.index,1);i=Io.AttributeMap.diff(h,f)||{},Object.keys(i).length>0&&(l=l.retain(c.length()-1).retain(1,i))}}this.quill.updateContents(l,Xt.sources.USER),this.quill.focus()}handleDeleteRange(t){f_({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce((a,l)=>(this.quill.scroll.query(l,Fe.BLOCK)&&!Array.isArray(e.format[l])&&(a[l]=e.format[l]),a),{}),i=new Ue().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(i,Xt.sources.USER),this.quill.setSelection(t.index+1,Xt.sources.SILENT),this.quill.focus()}}const EG={bindings:{bold:xv("bold"),italic:xv("italic"),underline:xv("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",Xt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",Xt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",Xt.sources.USER):t.format.list!=null&&this.quill.format("list",!1,Xt.sources.USER)}},"indent code-block":Rx(!0),"outdent code-block":Rx(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,Xt.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new Ue().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,Xt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,Xt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Xt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,Xt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),r={...t.formats(),list:"checked"},i=new Ue().retain(n.index).insert(`
`,r).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,Xt.sources.USER),this.quill.setSelection(n.index+1,Xt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,r]=this.quill.getLine(n.index),i=new Ue().retain(n.index).insert(`
`,t.format).retain(e.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,Xt.sources.USER),this.quill.setSelection(n.index+1,Xt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,r,i,a]=t.getTable(n),l=xG(e,r,i,a);if(l==null)return;let c=e.offset();if(l<0){const h=new Ue().retain(c).insert(`
`);this.quill.updateContents(h,Xt.sources.USER),this.quill.setSelection(n.index+1,n.length,Xt.sources.SILENT)}else if(l>0){c+=e.length();const h=new Ue().retain(c).insert(`
`);this.quill.updateContents(h,Xt.sources.USER),this.quill.setSelection(c,Xt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:r}=t,i=r.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(i-1,Xt.sources.USER):this.quill.setSelection(i+r.length(),Xt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[r,i]=this.quill.getLine(n.index);if(i>e)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(n.index," ",Xt.sources.USER),this.quill.history.cutoff();const l=new Ue().retain(n.index-i).delete(e+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(l,Xt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,Xt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let r=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Ue().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,Xt.sources.USER),this.quill.setSelection(n.index-1,Xt.sources.SILENT),!1}return!0}},"embed left":u1("ArrowLeft",!1),"embed left shift":u1("ArrowLeft",!0),"embed right":u1("ArrowRight",!1),"embed right shift":u1("ArrowRight",!0),"table down":Lx(!1),"table up":Lx(!0)}};s2.DEFAULTS=EG;function Rx(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:r}=e;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,a,Xt.sources.USER),this.quill.setSelection(t.index+a.length,Xt.sources.SILENT);return}const l=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:c,length:h}=t;l.forEach((f,p)=>{n?(f.insertAt(0,a),p===0?c+=a.length:h+=a.length):f.domNode.textContent.startsWith(a)&&(f.deleteAt(0,a.length),p===0?c-=a.length:h-=a.length)}),this.quill.update(Xt.sources.USER),this.quill.setSelection(c,h,Xt.sources.SILENT)}}}function u1(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof so?(n==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,Xt.sources.USER):this.quill.setSelection(r.index-1,Xt.sources.USER):t?this.quill.setSelection(r.index,r.length+1,Xt.sources.USER):this.quill.setSelection(r.index+r.length+1,Xt.sources.USER),!1):!0}}}function xv(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],Xt.sources.USER)}}}function Lx(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const r=n?"prev":"next",i=e.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let l=a.children.head,c=i;for(;c.prev!=null;)c=c.prev,l=l.next;const h=l.offset(this.quill.scroll)+Math.min(e.offset,l.length()-1);this.quill.setSelection(h,0,Xt.sources.USER)}}else{const l=i.table()[r];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,Xt.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,Xt.sources.USER))}return!1}}}function AG(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Jf(n);else return null;return n.shortKey&&(n[wG]=n.shortKey,delete n.shortKey),n}function f_(n){let{quill:t,range:e}=n;const r=t.getLines(e);let i={};if(r.length>1){const a=r[0].formats(),l=r[r.length-1].formats();i=Io.AttributeMap.diff(l,a)||{}}t.deleteText(e,Xt.sources.USER),Object.keys(i).length>0&&t.formatLine(e.index,1,i,Xt.sources.USER),t.setSelection(e.index,Xt.sources.SILENT)}function xG(n,t,e,r){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?r===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const SG=/font-weight:\s*normal/,TG=["P","OL","UL"],Ix=n=>n&&TG.includes(n.tagName),NG=n=>{Array.from(n.querySelectorAll("br")).filter(t=>Ix(t.previousElementSibling)&&Ix(t.nextElementSibling)).forEach(t=>{t.parentNode?.removeChild(t)})},CG=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>t.getAttribute("style")?.match(SG)).forEach(t=>{const e=n.createDocumentFragment();e.append(...t.childNodes),t.parentNode?.replaceChild(e,t)})};function RG(n){n.querySelector('[id^="docs-internal-guid-"]')&&(CG(n),NG(n))}const LG=/\bmso-list:[^;]*ignore/i,IG=/\bmso-list:[^;]*\bl(\d+)/i,OG=/\bmso-list:[^;]*\blevel(\d+)/i,kG=(n,t)=>{const e=n.getAttribute("style"),r=e?.match(IG);if(!r)return null;const i=Number(r[1]),a=e?.match(OG),l=a?Number(a[1]):1,c=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=t.match(c),f=h&&h[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:f,element:n}},DG=n=>{const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],r=[];t.forEach(l=>{(l.getAttribute("style")||"").match(LG)?e.push(l):r.push(l)}),e.forEach(l=>l.parentNode?.removeChild(l));const i=n.documentElement.innerHTML,a=r.map(l=>kG(l,i)).filter(l=>l);for(;a.length;){const l=[];let c=a.shift();for(;c;)l.push(c),c=a.length&&a[0]?.element===c.element.nextElementSibling&&a[0].id===c.id?a.shift():null;const h=document.createElement("ul");l.forEach(w=>{const _=document.createElement("li");_.setAttribute("data-list",w.type),w.indent>1&&_.setAttribute("class",`ql-indent-${w.indent-1}`),_.innerHTML=w.element.innerHTML,h.appendChild(_)});const f=l[0]?.element,{parentNode:p}=f??{};f&&p?.replaceChild(h,f),l.slice(1).forEach(w=>{let{element:_}=w;p?.removeChild(_)})}};function PG(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&DG(n)}const MG=[PG,RG],jG=n=>{n.documentElement&&MG.forEach(t=>{t(n)})},qG=ju("quill:clipboard"),UG=[[Node.TEXT_NODE,ZG],[Node.TEXT_NODE,kx],["br",$G],[Node.ELEMENT_NODE,kx],[Node.ELEMENT_NODE,HG],[Node.ELEMENT_NODE,zG],[Node.ELEMENT_NODE,QG],["li",WG],["ol, ul",YG],["pre",GG],["tr",XG],["b",Sv("bold")],["i",Sv("italic")],["strike",Sv("strike")],["style",KG]],BG=[gG,JC].reduce((n,t)=>(n[t.keyName]=t,n),{}),Ox=[XC,u_,l_,e8,i8,a8].reduce((n,t)=>(n[t.keyName]=t,n),{});class FG extends $l{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],UG.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ta.blotName])return new Ue().insert(r||"",{[Ta.blotName]:i[Ta.blotName]});if(!e)return new Ue().insert(r||"",i);const a=this.convertHTML(e);return km(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Ue().retain(a.length()-1).delete(1)):a}normalizeHTML(t){jG(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,i=new WeakMap,[a,l]=this.prepareMatching(r,i);return d_(this.quill.scroll,r,a,l,i)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xt.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,Xt.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents(new Ue().retain(t).concat(i),r),this.quill.setSelection(t+i.length(),Xt.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,e);t.clipboardData?.setData("text/plain",a),t.clipboardData?.setData("text/html",i),e&&f_({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const r=t.clipboardData?.getData("text/html");let i=t.clipboardData?.getData("text/plain");if(!r&&!i){const l=t.clipboardData?.getData("text/uri-list");l&&(i=this.normalizeURIList(l))}const a=Array.from(t.clipboardData?.files||[]);if(!r&&a.length>0){this.quill.uploader.upload(e,a);return}if(r&&a.length>0){const l=new DOMParser().parseFromString(r,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(e,a);return}}this.onPaste(e,{html:r,text:i})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:i}=e;const a=this.quill.getFormat(t.index),l=this.convert({text:r,html:i},a);qG.log("onPaste",l,{text:r,html:i});const c=new Ue().retain(t.index).delete(t.length).concat(l);this.quill.updateContents(c,Xt.sources.USER),this.quill.setSelection(c.length()-t.length,Xt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],i=[];return this.matchers.forEach(a=>{const[l,c]=a;switch(l){case Node.TEXT_NODE:i.push(c);break;case Node.ELEMENT_NODE:r.push(c);break;default:Array.from(t.querySelectorAll(l)).forEach(h=>{e.has(h)?e.get(h)?.push(c):e.set(h,[c])});break}}),[r,i]}}function Wh(n,t,e,r){return r.query(t)?n.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[t])return i.push(a);const l=e?{[t]:e}:{};return i.insert(a.insert,{...l,...a.attributes})},new Ue):n}function km(n,t){let e="";for(let r=n.ops.length-1;r>=0&&e.length<t.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;e=i.insert+e}return e.slice(-1*t.length)===t}function Cc(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof so?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function VG(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Cc(n.previousElementSibling,t)&&!Cc(n.nextElementSibling,t)}const c1=new WeakMap;function o8(n){return n==null?!1:(c1.has(n)||(n.tagName==="PRE"?c1.set(n,!0):c1.set(n,o8(n.parentNode))),c1.get(n))}function d_(n,t,e,r,i){return t.nodeType===t.TEXT_NODE?r.reduce((a,l)=>l(t,a,n),new Ue):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,l)=>{let c=d_(n,l,e,r,i);return l.nodeType===t.ELEMENT_NODE&&(c=e.reduce((h,f)=>f(l,h,n),c),c=(i.get(l)||[]).reduce((h,f)=>f(l,h,n),c)),a.concat(c)},new Ue):new Ue}function Sv(n){return(t,e,r)=>Wh(e,n,!0,r)}function zG(n,t,e){const r=Vl.keys(n),i=dl.keys(n),a=Yc.keys(n),l={};return r.concat(i).concat(a).forEach(c=>{let h=e.query(c,Fe.ATTRIBUTE);h!=null&&(l[h.attrName]=h.value(n),l[h.attrName])||(h=BG[c],h!=null&&(h.attrName===c||h.keyName===c)&&(l[h.attrName]=h.value(n)||void 0),h=Ox[c],h!=null&&(h.attrName===c||h.keyName===c)&&(h=Ox[c],l[h.attrName]=h.value(n)||void 0))}),Object.entries(l).reduce((c,h)=>{let[f,p]=h;return Wh(c,f,p,e)},t)}function HG(n,t,e){const r=e.query(n);if(r==null)return t;if(r.prototype instanceof so){const i={},a=r.value(n);if(a!=null)return i[r.blotName]=a,new Ue().insert(i,r.formats(n,e))}else if(r.prototype instanceof cm&&!km(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Wh(t,r.blotName,r.formats(n,e),e);return t}function $G(n,t){return km(t,`
`)||t.insert(`
`),t}function GG(n,t,e){const r=e.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,e):!0;return Wh(t,"code-block",i,e)}function KG(){return new Ue}function WG(n,t,e){const r=e.query(n);if(r==null||r.blotName!=="list"||!km(t,`
`))return t;let i=-1,a=n.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?t:t.reduce((l,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?l.push(c):l.insert(c.insert,{indent:i,...c.attributes||{}}):l,new Ue)}function YG(n,t,e){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Wh(t,"list",i,e)}function kx(n,t,e){if(!km(t,`
`)){if(Cc(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(Cc(r,e))return t.insert(`
`);const i=e.query(r);if(i&&i.prototype instanceof Lo)return t.insert(`
`);r=r.firstChild}}}return t}function QG(n,t,e){const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((a,l)=>{let[c,h]=l;return Wh(a,c,h,e)},t),parseFloat(i.textIndent||0)>0?new Ue().insert("	").concat(t):t}function XG(n,t,e){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const a=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Wh(t,"table",a,e)}return t}function ZG(n,t,e){let r=n.data;if(n.parentElement?.tagName==="O:P")return t.insert(r.trim());if(!o8(n)){if(r.trim().length===0&&r.includes(`
`)&&!VG(n,e))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Cc(n.parentElement,e)||n.previousSibling instanceof Element&&Cc(n.previousSibling,e))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Cc(n.parentElement,e)||n.nextSibling instanceof Element&&Cc(n.nextSibling,e))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return t.insert(r)}class JG extends $l{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e),this.quill.on(Xt.events.EDITOR_CHANGE,(r,i,a,l)=>{r===Xt.events.SELECTION_CHANGE?i&&l!==Xt.sources.SILENT&&(this.currentRange=i):r===Xt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===Xt.sources.USER?this.record(i,a):this.transform(i)),this.currentRange=I5(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(t,e){if(this.stack[t].length===0)return;const r=this.stack[t].pop();if(!r)return;const i=this.quill.getContents(),a=r.delta.invert(i);this.stack[e].push({delta:a,range:I5(r.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,Xt.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(t.ops.length===0)return;this.stack.redo=[];let r=t.invert(e),i=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(r=r.compose(l.delta),i=l.range)}else this.lastRecorded=a;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Dx(this.stack.undo,t),Dx(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Xt.sources.USER);else{const e=eK(this.quill.scroll,t.delta);this.quill.setSelection(e,Xt.sources.USER)}}}function Dx(n,t){let e=t;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:e.transform(i.delta,!0),range:i.range&&I5(i.range,e)},e=i.delta.transform(e),n[r].delta.length()===0&&n.splice(r,1)}}function tK(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(r=>n.query(r,Fe.BLOCK)!=null):!1}function eK(n,t){const e=t.reduce((i,a)=>i+(a.delete||0),0);let r=t.length()-e;return tK(n,t)&&(r-=1),r}function I5(n,t){if(!n)return n;const e=t.transformPosition(n.index),r=t.transformPosition(n.index+n.length);return{index:e,length:r-e}}class l8 extends $l{constructor(t,e){super(t,e),t.root.addEventListener("drop",r=>{r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&t.selection.normalizeNative(i);if(a){const l=t.selection.normalizedToRange(a);r.dataTransfer?.files&&this.upload(l,r.dataTransfer.files)}})}upload(t,e){const r=[];Array.from(e).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&r.push(i)}),r.length>0&&this.options.handler.call(this,t,r)}}l8.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(e).then(r=>{const i=r.reduce((a,l)=>a.insert({image:l}),new Ue().retain(n.index).delete(n.length));this.quill.updateContents(i,De.sources.USER),this.quill.setSelection(n.index+r.length,De.sources.SILENT)})}};const nK=["insertText","insertReplacementText"];class rK extends $l{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(Xt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){f_({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Ue().retain(t.index).insert(e,r),Xt.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,Xt.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!nK.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const r=iK(t);if(r==null)return;const i=this.quill.selection.normalizeNative(e),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function iK(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const sK=/Mac/i.test(navigator.platform),aK=100,oK=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||sK&&n.key==="a"&&n.ctrlKey===!0);class lK extends $l{isListening=!1;selectionChangeDeadline=0;constructor(t,e){super(t,e),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:r,event:i}=e;if(!(r instanceof rl)||!r.uiNode)return!0;const a=getComputedStyle(r.domNode).direction==="rtl";return a&&i.key!=="ArrowRight"||!a&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(i.shiftKey?1:0),Xt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&oK(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+aK,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(e.collapsed!==!0||e.startOffset!==0)return;const r=this.quill.scroll.find(e.startContainer);if(!(r instanceof rl)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),t.removeAllRanges(),t.addRange(i)}}Xt.register({"blots/block":Xs,"blots/block/embed":Lo,"blots/break":pl,"blots/container":Gh,"blots/cursor":tl,"blots/embed":a_,"blots/inline":xa,"blots/scroll":mG,"blots/text":ll,"modules/clipboard":FG,"modules/history":JG,"modules/keyboard":s2,"modules/uploader":l8,"modules/input":rK,"modules/uiNode":lK});class uK extends dl{add(t,e){let r=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;r=e==="+1"?i+1:i-1}else typeof e=="number"&&(r=e);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const cK=new uK("indent","ql-indent",{scope:Fe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class hK extends Xs{static blotName="blockquote";static tagName="blockquote"}class fK extends Xs{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}}class Dm extends Gh{}Dm.blotName="list-container";Dm.tagName="OL";class Pm extends Xs{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){Xt.register(Dm)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),i=a=>{if(!t.isEnabled())return;const l=this.statics.formats(e,t);l==="checked"?(this.format("list","unchecked"),a.preventDefault()):l==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Pm.blotName="list";Pm.tagName="LI";Dm.allowedChildren=[Pm];Pm.requiredContainer=Dm;class p_ extends xa{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class dK extends p_{static blotName="italic";static tagName=["EM","I"]}class d0 extends xa{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return u8(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}function u8(n,t){const e=document.createElement("a");e.href=n;const r=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(r)>-1}class pK extends xa{static blotName="script";static tagName=["SUB","SUP"];static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}class mK extends p_{static blotName="strike";static tagName=["S","STRIKE"]}class gK extends xa{static blotName="underline";static tagName="U"}class yK extends a_{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}const Px=["alt","height","width"];let vK=class extends so{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Px.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return u8(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Px.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}};const Mx=["height","width"];class bK extends Lo{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Mx.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return d0.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Mx.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}const Pp=new dl("code-token","hljs",{scope:Fe.INLINE});class Iu extends xa{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Ta.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),Pp.add(this.domNode,r)}format(t,e){t!==Iu.blotName?super.format(t,e):e?Pp.add(this.domNode,e):(Pp.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Pp.value(this.domNode)||this.unwrap()}}Iu.blotName="code-token";Iu.className="ql-token";class No extends Ta{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Iu.blotName,!1),super.replaceWith(t,e)}}class $p extends Kh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===No.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,i){r===No.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,a=No.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((h,f)=>h.concat(WC(f,!1)),new Ue),c=t(i,a);l.diff(c).reduce((h,f)=>{let{retain:p,attributes:w}=f;return p?(w&&Object.keys(w).forEach(_=>{[No.blotName,Iu.blotName].includes(_)&&this.formatAt(h,p,_,w[_])}),h+p):h},0)}this.cachedText=i,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?No.formats(r.domNode):"plain"}">
${i2(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=No.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}$p.allowedChildren=[No];No.requiredContainer=$p;No.allowedChildren=[Iu,tl,ll,pl];const _K=(n,t,e)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class c8 extends $l{static register(){Xt.register(Iu,!0),Xt.register(No,!0),Xt.register($p,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Xt.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof $p))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const l=e.ownerDocument.createElement("option");l.textContent=a,l.setAttribute("value",i),e.appendChild(l)}),e.addEventListener("change",()=>{t.format(No.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=No.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(Xt.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Xt.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants($p):[t]).forEach(a=>{a.highlight(this.highlightBlot,e)}),this.quill.update(Xt.sources.SILENT),r!=null&&this.quill.setSelection(r,Xt.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return i2(t).split(`
`).reduce((i,a,l)=>(l!==0&&i.insert(`
`,{[Ta.blotName]:e}),i.insert(a)),new Ue);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ta.className),r.innerHTML=_K(this.options.hljs,e,t),d_(this.quill.scroll,r,[(i,a)=>{const l=Pp.value(i);return l?a.compose(new Ue().retain(a.length(),{[Iu.blotName]:l})):a}],[(i,a)=>i.data.split(`
`).reduce((l,c,h)=>(h!==0&&l.insert(`
`,{[Ta.blotName]:e}),l.insert(c)),a)],new WeakMap)}}c8.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class el extends Xs{static blotName="table";static tagName="TD";static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",m_()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===el.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Mh extends Gh{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const r=e.formats(),i=e.next.formats();if(r.table!==i.table){const a=this.splitAfter(e);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Pc extends Gh{static blotName="table-body";static tagName="TBODY"}class p0 extends Gh{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(Mh),e=t.reduce((r,i)=>Math.max(i.children.length,r),0);t.forEach(r=>{new Array(e-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=el.formats(r.children.head.domNode));const a=this.scroll.create(el.blotName,i);r.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(Pc);e==null||e.children.head==null||e.children.forEach(r=>{const i=r.children.at(t);i?.remove()})}insertColumn(t){const[e]=this.descendant(Pc);e==null||e.children.head==null||e.children.forEach(r=>{const i=r.children.at(t),a=el.formats(r.children.head.domNode),l=this.scroll.create(el.blotName,a);r.insertBefore(l,i)})}insertRow(t){const[e]=this.descendant(Pc);if(e==null||e.children.head==null)return;const r=m_(),i=this.scroll.create(Mh.blotName);e.children.head.children.forEach(()=>{const l=this.scroll.create(el.blotName,r);i.appendChild(l)});const a=e.children.at(t);e.insertBefore(i,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}p0.allowedChildren=[Pc];Pc.requiredContainer=p0;Pc.allowedChildren=[Mh];Mh.requiredContainer=Pc;Mh.allowedChildren=[el];el.requiredContainer=Mh;function m_(){return`row-${Math.random().toString(36).slice(2,6)}`}class wK extends $l{static register(){Xt.register(el),Xt.register(Mh),Xt.register(Pc),Xt.register(p0)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(p0).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(Xt.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(Xt.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(Xt.sources.USER),this.quill.setSelection(e,Xt.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==el.blotName)return[null,null,null,-1];const i=e.parent;return[i.parent.parent,i,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,i,a]=this.getTable(e);if(a==null)return;const l=a.cellOffset();r.insertColumn(l+t),this.quill.update(Xt.sources.USER);let c=i.rowOffset();t===0&&(c+=1),this.quill.setSelection(e.index+c,e.length,Xt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,i,a]=this.getTable(e);if(a==null)return;const l=i.rowOffset();r.insertRow(l+t),this.quill.update(Xt.sources.USER),t>0?this.quill.setSelection(e,Xt.sources.SILENT):this.quill.setSelection(e.index+i.children.length,e.length,Xt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(r==null)return;const i=new Array(t).fill(0).reduce(a=>{const l=new Array(e).fill(`
`).join("");return a.insert(l,{table:m_()})},new Ue().retain(r.index));this.quill.updateContents(i,Xt.sources.USER),this.quill.setSelection(r.index,Xt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Xt.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(Xt.events.TEXT_CHANGE,(r,i,a)=>{a===Xt.sources.USER&&this.balanceTables()}),!0):!1)})}}const jx=ju("quill:toolbar");class g_ extends $l{constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),EK(r,this.options.container),t.container?.parentNode?.insertBefore(r,t.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){jx.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const i=this.options.handlers?.[r];i&&this.addHandler(r,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(Xt.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){jx.warn("ignoring attaching to nonexistent format",e,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,i=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const c=t.options[t.selectedIndex];c.hasAttribute("selected")?a=!1:a=c.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,a);else if(this.quill.scroll.query(e).prototype instanceof so){if(a=prompt(`Enter ${e}`),!a)return;this.quill.updateContents(new Ue().retain(l.index).delete(l.length).insert({[e]:a}),Xt.sources.USER)}else this.quill.format(e,a,Xt.sources.USER);this.update(l)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let l=null;if(t==null)l=null;else if(e[i]==null)l=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){let c=e[i];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),l=a.querySelector(`option[value="${c}"]`)}l==null?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const l=e[i],c=l===a.getAttribute("value")||l!=null&&l.toString()===a.getAttribute("value")||l==null&&!a.getAttribute("value");a.classList.toggle("ql-active",c),a.setAttribute("aria-pressed",c.toString())}else{const l=e[i]!=null;a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}})}}g_.DEFAULTS={};function qx(n,t,e){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),e!=null?(r.value=e,r.setAttribute("aria-label",`${t}: ${e}`)):r.setAttribute("aria-label",t),n.appendChild(r)}function EK(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach(i=>{if(typeof i=="string")qx(r,i);else{const a=Object.keys(i)[0],l=i[a];Array.isArray(l)?AK(r,a,l):qx(r,a,l)}}),n.appendChild(r)})}function AK(n,t,e){const r=document.createElement("select");r.classList.add(`ql-${t}`),e.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),n.appendChild(r)}g_.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,Fe.INLINE)!=null&&this.quill.format(e,!1,Xt.sources.USER)})}else this.quill.removeFormat(n.index,n.length,Xt.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",Xt.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,Xt.sources.USER),this.quill.format("direction",n,Xt.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),r=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;e.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,Xt.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,Xt.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,Xt.sources.USER):this.quill.format("list","unchecked",Xt.sources.USER):this.quill.format("list",n,Xt.sources.USER)}}};const xK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',SK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',TK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',NK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',CK='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',RK='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',LK='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',IK='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Ux='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',OK='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',kK='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',DK='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',PK='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',MK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',jK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',qK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',UK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',BK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',FK='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',VK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',zK='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',HK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',$K='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',GK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',KK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',WK='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',YK='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',QK='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',XK='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',ZK='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',JK='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',tW='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',eW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',fm={align:{"":xK,center:SK,right:TK,justify:NK},background:CK,blockquote:RK,bold:LK,clean:IK,code:Ux,"code-block":Ux,color:OK,direction:{"":kK,rtl:DK},formula:PK,header:{1:MK,2:jK,3:qK,4:UK,5:BK,6:FK},italic:VK,image:zK,indent:{"+1":HK,"-1":$K},link:GK,list:{bullet:KK,check:WK,ordered:YK},script:{sub:QK,super:XK},strike:ZK,table:JK,underline:tW,video:eW},nW='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Bx=0;function Fx(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class a2{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Fx(this.label,"aria-expanded"),Fx(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(e,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=nW,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Bx}`,Bx+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const r=this.buildItem(e);t.appendChild(r),e.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r?.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class h8 extends a2{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class f8 extends a2{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=e[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const rW=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class d8{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,rW(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let l=0;if(a.right>i.right&&(l=i.right-a.right,this.root.style.left=`${e+l}px`),a.left<i.left&&(l=i.left-a.left,this.root.style.left=`${e+l}px`),a.bottom>i.bottom){const c=a.bottom-a.top,h=t.bottom-t.top+c;this.root.style.top=`${r-h}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const iW=[!1,"center","right","justify"],sW=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],aW=[!1,"serif","monospace"],oW=["1","2","3",!1],lW=["small",!1,"large","huge"];class Mm extends Td{constructor(t,e){super(t,e);const r=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),e[a]!=null))if(a==="direction")r.innerHTML=e[a][""]+e[a].rtl;else if(typeof e[a]=="string")r.innerHTML=e[a];else{const l=r.value||"";l!=null&&e[a][l]&&(r.innerHTML=e[a][l])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&xp(i,iW),typeof e.align=="object"))return new f8(i,e.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&xp(i,sW,a==="background"?"#ffffff":"#000000"),new h8(i,e[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?xp(i,aW):i.classList.contains("ql-header")?xp(i,oW):i.classList.contains("ql-size")&&xp(i,lW)),new a2(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(De.events.EDITOR_CHANGE,r)}}Mm.DEFAULTS=Dc({},Td.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class p8 extends d8{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,De.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,De.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=uW(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,De.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",De.sources.USER),this.quill.setSelection(r+2,De.sources.USER)}break}}this.textbox.value="",this.hide()}}function uW(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function xp(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const i=document.createElement("option");r===e?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const cW=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class hW extends p8{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e),this.quill.on(De.events.EDITOR_CHANGE,(r,i,a,l)=>{if(r===De.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===De.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(i.index,i.length);if(c.length===1){const h=this.quill.getBounds(i);h!=null&&this.position(h)}else{const h=c[c.length-1],f=this.quill.getIndex(h),p=Math.min(h.length()-1,i.index+i.length-f),w=this.quill.getBounds(new Ph(f,p));w!=null&&this.position(w)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(De.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",e!==0&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}}class m8 extends Mm{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=cW),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new hW(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),fm),this.buildPickers(t.container.querySelectorAll("select"),fm))}}m8.DEFAULTS=Dc({},Mm.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Xt.sources.USER)}}}}});const fW=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class dW extends p8{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,De.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(De.events.SELECTION_CHANGE,(t,e,r)=>{if(t!=null){if(t.length===0&&r===De.sources.USER){const[i,a]=this.quill.scroll.descendant(d0,t.index);if(i!=null){this.linkRange=new Ph(t.index-a,i.length());const l=d0.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class g8 extends Mm{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=fW),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),fm),this.buildPickers(t.container.querySelectorAll("select"),fm),this.tooltip=new dW(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}}g8.DEFAULTS=Dc({},Mm.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1,Xt.sources.USER)}}}}});Xt.register({"attributors/attribute/direction":JC,"attributors/class/align":QC,"attributors/class/background":vG,"attributors/class/color":yG,"attributors/class/direction":t8,"attributors/class/font":r8,"attributors/class/size":s8,"attributors/style/align":XC,"attributors/style/background":u_,"attributors/style/color":l_,"attributors/style/direction":e8,"attributors/style/font":i8,"attributors/style/size":a8},!0);Xt.register({"formats/align":QC,"formats/direction":t8,"formats/indent":cK,"formats/background":u_,"formats/color":l_,"formats/font":r8,"formats/size":s8,"formats/blockquote":hK,"formats/code-block":Ta,"formats/header":fK,"formats/list":Pm,"formats/bold":p_,"formats/code":c_,"formats/italic":dK,"formats/link":d0,"formats/script":pK,"formats/strike":mK,"formats/underline":gK,"formats/formula":yK,"formats/image":vK,"formats/video":bK,"modules/syntax":c8,"modules/table":wK,"modules/toolbar":g_,"themes/bubble":m8,"themes/snow":g8,"ui/icons":fm,"ui/picker":a2,"ui/icon-picker":f8,"ui/color-picker":h8,"ui/tooltip":d8},!0);class o2 extends Gr.Component{constructor(t){super(t),this.editingAreaRef=Y.createRef(),this.containerRef=Y.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,l)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.root.innerHTML,i,l,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(i,l,this.unprivilegedEditor)};const e=this.isControlled()?t.value:t.defaultValue;this.value=e??""}validateProps(t){if(Gr.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Gr.Children.count(t.children)&&Gr.Children.only(t.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,e){if(this.validateProps(t),!this.editor||this.state.generation!==e.generation)return!0;if("value"in t){const r=this.getEditorContents(),i=t.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!xc(t[r],this.props[r]))}shouldComponentRegenerate(t){return this.dirtyProps.some(e=>!xc(t[e],this.props[e]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,e){if(this.editor&&this.shouldComponentRegenerate(t)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==e.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),Vx(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const t=this.props.modules?.toolbar;if(!(typeof t=="object"&&t&&"container"in t&&typeof t.container=="string"||typeof t=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,e){const r=new Xt(t,e);return e.tabIndex!=null&&this.setEditorTabIndex(r,e.tabIndex),this.hookEditor(r),r}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,e){return this.isDelta(t)&&this.isDelta(e)?xc(t.ops,e.ops):xc(t,e)}setEditorContents(t,e){this.value=e;const r=this.getEditorSelection();typeof e=="string"?t.setContents(t.clipboard.convert({html:e})):t.setContents(e),Vx(()=>this.setEditorSelection(t,r))}setEditorSelection(t,e){if(this.selection=e,e){const r=t.getLength();e.index=Math.max(0,Math.min(e.index,r-1)),e.length=Math.max(0,Math.min(e.length,r-1-e.index)),t.setSelection(e)}}setEditorTabIndex(t,e){t?.scroll?.domNode&&(t.scroll.domNode.tabIndex=e)}setEditorReadOnly(t,e){e?t.disable():t.enable()}makeUnprivilegedEditor(t){const e=t;return{getHTML:()=>e.root.innerHTML,getSemanticHTML:e.getSemanticHTML.bind(e),getLength:e.getLength.bind(e),getText:e.getText.bind(e),getContents:e.getContents.bind(e),getSelection:e.getSelection.bind(e),getBounds:e.getBounds.bind(e)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:e}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return Gr.Children.count(t)?Gr.cloneElement(Gr.Children.only(t),i):e?Gr.createElement("pre",{...i}):Gr.createElement("div",{...i})}render(){return Gr.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,e,r,i){if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=e,this.value=a,this.props.onChange?.(t,e,r,i))}onEditorChangeSelection(t,e,r){if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&t,l=i&&!t;xc(t,i)||(this.selection=t,this.props.onChangeSelection?.(t,e,r),a?this.props.onFocus?.(t,e,r):l&&this.props.onBlur?.(i,e,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}o2.displayName="React Quill";o2.Quill=Xt;o2.defaultProps={theme:"snow",modules:{},readOnly:!1};function Vx(n){Promise.resolve().then(n)}const pW=()=>{const[n,t]=Y.useState({youtubeUrl:"",title:"",shortDescription:"",fullDescription:"",image:"",exampleCode:"",outputType:"image",outputValue:"",category:""}),[e,r]=Y.useState(!1),[i,a]=Y.useState(""),l=p=>{t({...n,[p.target.name]:p.target.value})},c=p=>{t({...n,outputType:p.target.value,outputValue:""})},h=p=>{try{const w=new URL(p);if(w.hostname==="youtu.be")return w.pathname.slice(1);if(w.hostname.includes("youtube.com"))return w.searchParams.get("v")}catch{return null}return null},f=async p=>{p.preventDefault(),r(!0),a("");try{const w=ro(Sa(Wr,"features"));await N6(w,{...n,id:w.id,createdAt:Mb()}),a(" Feature added successfully!"),t({youtubeUrl:"",title:"",shortDescription:"",fullDescription:"",image:"",exampleCode:"",outputType:"image",outputValue:"",category:""})}catch(w){console.error("Error uploading feature:",w),a(" Upload failed, try again!")}r(!1)};return A.jsx(Ba,{className:"my-5",children:A.jsxs(vn,{className:"shadow-lg border-0 rounded-4 overflow-hidden",children:[A.jsx("div",{className:"p-4 text-white",style:{background:"linear-gradient(90deg,#28a745,#20c997)"},children:A.jsx("h2",{className:"fw-bold text-center mb-0",children:" Add Feature"})}),A.jsx("div",{className:"p-4 bg-light",children:A.jsxs(_e,{onSubmit:f,children:[A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" YouTube Video Link"}),A.jsx(_e.Control,{type:"text",placeholder:"Paste YouTube video link",name:"youtubeUrl",value:n.youtubeUrl,onChange:l})]}),n.youtubeUrl&&h(n.youtubeUrl)&&A.jsx("div",{className:"mb-4 text-center",children:A.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${h(n.youtubeUrl)}`,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded shadow"})}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Title"}),A.jsx(_e.Control,{type:"text",placeholder:"Enter title",name:"title",value:n.title,onChange:l,required:!0})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Short Description"}),A.jsx(_e.Control,{as:"textarea",rows:2,placeholder:"Small intro for feature card",name:"shortDescription",value:n.shortDescription,onChange:l,required:!0})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Full Description"}),A.jsx(o2,{theme:"snow",value:n.fullDescription,onChange:p=>t({...n,fullDescription:p}),placeholder:"Write detailed content here...",style:{background:"white",borderRadius:"8px"}})]}),A.jsxs(Qs,{className:"mb-4",children:[A.jsx(Tr,{md:8,children:A.jsxs(_e.Group,{children:[A.jsx(_e.Label,{className:"fw-bold",children:" Banner Image URL"}),A.jsx(_e.Control,{type:"text",placeholder:"Enter banner image URL",name:"image",value:n.image,onChange:l,required:!0})]})}),A.jsx(Tr,{md:4,className:"d-flex justify-content-center align-items-center",children:n.image?A.jsx("img",{src:n.image,alt:"Preview",className:"img-fluid rounded shadow-lg",style:{maxHeight:"120px",border:"3px solid #fff"}}):A.jsx("div",{className:"text-muted",children:"Image Preview"})})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Example Code"}),A.jsx(_e.Control,{as:"textarea",rows:5,placeholder:"Write example code here...",name:"exampleCode",value:n.exampleCode,onChange:l})]}),A.jsxs(_e.Group,{className:"mb-3",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Output Type"}),A.jsxs("div",{children:[A.jsx(_e.Check,{inline:!0,label:"Image",type:"radio",name:"outputType",value:"image",checked:n.outputType==="image",onChange:c}),A.jsx(_e.Check,{inline:!0,label:"Text",type:"radio",name:"outputType",value:"text",checked:n.outputType==="text",onChange:c})]})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:n.outputType==="image"?" Output Image URL":" Output Text"}),A.jsx(_e.Control,{type:"text",placeholder:n.outputType==="image"?"Enter image URL":"Enter text output",name:"outputValue",value:n.outputValue,onChange:l})]}),A.jsxs(_e.Group,{className:"mb-4",children:[A.jsx(_e.Label,{className:"fw-bold",children:" Category"}),A.jsx(_e.Control,{type:"text",placeholder:"Type category name",name:"category",value:n.category,onChange:l,required:!0})]}),A.jsx("div",{className:"text-center",children:A.jsx(rr,{variant:"success",type:"submit",disabled:e,className:"px-5 py-2 rounded-pill shadow-sm fw-bold",style:{background:"linear-gradient(90deg,#28a745,#20c997)",border:"none"},children:e?" Uploading...":" Add Feature"})}),i&&A.jsx("p",{className:"text-center mt-3 fw-bold",children:i})]})})]})})},mW=()=>{const[n,t]=Y.useState([]),[e,r]=Y.useState(!0),[i,a]=Y.useState(null),[l,c]=Y.useState("");Y.useEffect(()=>{const w=Nm(Sa(Wr,"contacts"),V0("timestamp","desc")),_=R6(w,v=>{const N=v.docs.map(I=>({id:I.id,...I.data()}));t(N),r(!1)},v=>{console.error("Error fetching messages:",v),r(!1)});return()=>_()},[]);const h=async w=>{try{await C6(ro(Wr,"contacts",w)),alert("Message deleted successfully!")}catch(_){console.error("Error deleting message:",_)}},f=w=>{a(w),c("")},p=async w=>{if(!l.trim()){alert("Reply cannot be empty!");return}try{const _=ro(Wr,"contacts",w);await z0(_,{reply:l,replyAt:new Date}),a(null),alert("Reply saved successfully!")}catch(_){console.error("Error saving reply:",_)}};return A.jsxs(Ba,{className:"my-5",children:[A.jsx("h2",{className:"text-center fw-bold text-primary mb-4",children:" User Messages"}),e?A.jsx("div",{className:"text-center",children:A.jsx(Lm,{animation:"border",variant:"primary"})}):n.length===0?A.jsx("p",{className:"text-center text-muted",children:"No messages found!"}):A.jsx(Qs,{className:"g-3",children:n.map((w,_)=>A.jsx(Tr,{md:6,lg:4,children:A.jsxs(vn,{className:"shadow-sm h-100",children:[A.jsxs(vn.Body,{children:[A.jsx(vn.Title,{children:w.name}),A.jsx(vn.Subtitle,{className:"mb-2 text-muted",children:w.email}),A.jsx(vn.Text,{children:w.message}),A.jsx(vn.Text,{children:A.jsxs("small",{className:"text-muted",children:["Submitted On: ",w.timestamp?.toDate().toLocaleString()]})}),w.reply?A.jsxs(vn.Text,{className:"mt-2 p-2 bg-light rounded",children:[A.jsx("strong",{children:"Reply:"})," ",w.reply,A.jsx("br",{}),A.jsx("small",{className:"text-muted",children:w.replyAt?new Date(w.replyAt.seconds*1e3).toLocaleString():""})]}):i===w.id?A.jsxs("div",{className:"mt-2",children:[A.jsx(_e.Control,{as:"textarea",rows:2,value:l,onChange:v=>c(v.target.value),placeholder:"Type your reply...",className:"mb-2"}),A.jsx(rr,{variant:"success",size:"sm",className:"me-2",onClick:()=>p(w.id),children:"Save"}),A.jsx(rr,{variant:"secondary",size:"sm",onClick:()=>a(null),children:"Cancel"})]}):A.jsx(rr,{variant:"info",size:"sm",onClick:()=>f(w.id),className:"mt-2",children:"Reply"})]}),A.jsx(vn.Footer,{className:"text-end",children:A.jsx(rr,{variant:"danger",size:"sm",onClick:()=>h(w.id),children:"Delete"})})]})},w.id))})]})},gW=()=>{const[n,t]=Y.useState(!0),[e,r]=Y.useState([]),[i,a]=Y.useState([]),[l,c]=Y.useState([]),[h,f]=Y.useState([]),[p,w]=Y.useState(!1),[_,v]=Y.useState(!1),[N,I]=Y.useState(!1),[k,P]=Y.useState(!1);Y.useEffect(()=>{(async()=>{t(!0);try{const pt=await yu(Sa(Wr,"users"));r(pt.docs.map(M=>({id:M.id,...M.data()})));const wt=await yu(Sa(Wr,"questions"));a(wt.docs.map(M=>({id:M.id,...M.data()})));const K=await yu(Sa(Wr,"features"));c(K.docs.map(M=>({id:M.id,...M.data()})));const U=await yu(Sa(Wr,"quizHistory"));f(U.docs.map(M=>({id:M.id,...M.data()})))}catch(pt){console.error("Error fetching data:",pt)}finally{t(!1)}})()},[]);const H=async(Z,pt,wt)=>{window.confirm("Are you sure?")&&(await C6(ro(Wr,Z,pt)),wt(K=>K.filter(U=>U.id!==pt)))},X=async Z=>{const pt=ro(Wr,"users",Z),wt=e.find(U=>U.id===Z);if(!wt)return;const K=!wt.disabled;await z0(pt,{disabled:K}),r(U=>U.map(M=>M.id===Z?{...M,disabled:K}:M))};return n?A.jsxs("div",{className:"text-center my-5",children:[A.jsx(Lm,{animation:"border"})," Loading..."]}):A.jsxs(Ba,{className:"my-5",children:[A.jsx("h1",{className:"text-center fw-bold mb-4 text-primary",children:"Admin Dashboard"}),A.jsxs(Qs,{className:"mb-4 text-center",children:[A.jsx(Tr,{md:3,className:"mb-2",children:A.jsx(vn,{bg:"info",text:"white",className:"p-3 shadow-sm",children:A.jsxs(vn.Body,{children:[A.jsx(vn.Title,{children:"Total Users"}),A.jsx("h2",{children:e.length})]})})}),A.jsx(Tr,{md:3,className:"mb-2",children:A.jsx(vn,{bg:"warning",text:"white",className:"p-3 shadow-sm",children:A.jsxs(vn.Body,{children:[A.jsx(vn.Title,{children:"Total Questions"}),A.jsx("h2",{children:i.length})]})})}),A.jsx(Tr,{md:3,className:"mb-2",children:A.jsx(vn,{bg:"secondary",text:"white",className:"p-3 shadow-sm",children:A.jsxs(vn.Body,{children:[A.jsx(vn.Title,{children:"Total Study Material"}),A.jsx("h2",{children:l.length})]})})}),A.jsx(Tr,{md:3,className:"mb-2",children:A.jsx(vn,{bg:"success",text:"white",className:"p-3 shadow-sm",children:A.jsxs(vn.Body,{children:[A.jsx(vn.Title,{children:"Total Quiz Attempts"}),A.jsx("h2",{children:h.length})]})})})]}),A.jsxs(Qs,{className:"g-4",children:[A.jsxs(Tr,{md:12,children:[A.jsxs(rr,{className:"w-100 mb-2",variant:"info",onClick:()=>w(!p),children:["Users (",e.length,")"]}),A.jsx(wh,{in:p,children:A.jsx(vn,{className:"p-3 mb-4 shadow-sm",children:A.jsxs(Op,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Name"}),A.jsx("th",{children:"Enroll"}),A.jsx("th",{children:"Email"}),A.jsx("th",{children:"Disabled"}),A.jsx("th",{children:"Actions"})]})}),A.jsx("tbody",{children:e.map(Z=>A.jsxs("tr",{children:[A.jsx("td",{children:Z.name}),A.jsx("td",{children:Z.enroll}),A.jsx("td",{children:Z.email}),A.jsx("td",{children:Z.disabled?"Yes":"No"}),A.jsxs("td",{className:"d-flex gap-2",children:[A.jsx(rr,{size:"sm",variant:"danger",onClick:()=>H("users",Z.id,r),children:"Delete"}),A.jsx(rr,{size:"sm",variant:Z.disabled?"success":"secondary",onClick:()=>X(Z.id),children:Z.disabled?"Enable":"Disable"})]})]},Z.id))})]})})})]}),A.jsxs(Tr,{md:12,children:[A.jsxs(rr,{className:"w-100 mb-2",variant:"warning",onClick:()=>v(!_),children:["Questions (",i.length,")"]}),A.jsx(wh,{in:_,children:A.jsx(vn,{className:"p-3 mb-4 shadow-sm",children:A.jsxs(Op,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Sr. No"}),A.jsx("th",{children:"Question"}),A.jsx("th",{children:"Category"}),A.jsx("th",{children:"Action"})]})}),A.jsx("tbody",{children:i.map((Z,pt)=>A.jsx(yW,{q:Z,idx:pt,setQuestions:a,handleDelete:H},Z.id))})]})})})]}),A.jsxs(Tr,{md:12,children:[A.jsxs(rr,{className:"w-100 mb-2",variant:"secondary",onClick:()=>I(!N),children:["Study Material (",l.length,")"]}),A.jsx(wh,{in:N,children:A.jsx(vn,{className:"p-3 mb-4 shadow-sm",children:A.jsxs(Op,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Sr. No"}),A.jsx("th",{children:"Title"}),A.jsx("th",{children:"Category"}),A.jsx("th",{children:"Content"}),A.jsx("th",{children:"Action"})]})}),A.jsx("tbody",{children:l.map((Z,pt)=>A.jsx(vW,{c:Z,idx:pt,setContents:c,handleDelete:H},Z.id))})]})})})]}),A.jsxs(Tr,{md:12,children:[A.jsxs(rr,{className:"w-100 mb-2",variant:"success",onClick:()=>P(!k),children:["Quiz History (",h.length,")"]}),A.jsx(wh,{in:k,children:A.jsx(vn,{className:"p-3 mb-4 shadow-sm",children:A.jsxs(Op,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Name"}),A.jsx("th",{children:"Enroll"}),A.jsx("th",{children:"Category"}),A.jsx("th",{children:"Score"}),A.jsx("th",{children:"Correct"}),A.jsx("th",{children:"Wrong"}),A.jsx("th",{children:"Skipped"}),A.jsx("th",{children:"Action"})]})}),A.jsx("tbody",{children:h.map((Z,pt)=>A.jsxs("tr",{children:[A.jsx("td",{children:Z.name}),A.jsx("td",{children:Z.enroll}),A.jsx("td",{children:Z.category}),A.jsx("td",{children:Z.score}),A.jsx("td",{children:Z.correct}),A.jsx("td",{children:Z.wrong}),A.jsx("td",{children:Z.skipped}),A.jsx("td",{children:A.jsx(rr,{size:"sm",variant:"danger",onClick:()=>H("quizHistory",Z.id,f),children:"Delete"})})]},Z.id))})]})})})]})]})]})},yW=({q:n,idx:t,setQuestions:e,handleDelete:r})=>{const[i,a]=Y.useState(!1),[l,c]=Y.useState(n.q),[h,f]=Y.useState(n.options||["","","",""]),[p,w]=Y.useState(n.answer||""),_=async()=>{const v=ro(Wr,"questions",n.id);await z0(v,{q:l,options:h,answer:p}),e(N=>N.map(I=>I.id===n.id?{...I,q:l,options:h,answer:p}:I)),a(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs("tr",{children:[A.jsx("td",{children:t+1}),A.jsx("td",{children:n.q}),A.jsx("td",{children:n.cat||"General"}),A.jsxs("td",{className:"d-flex gap-2",children:[A.jsx(rr,{size:"sm",variant:"danger",onClick:()=>r("questions",n.id,e),children:"Delete"}),A.jsx(rr,{size:"sm",variant:"primary",onClick:()=>a(!0),children:"Edit"})]})]}),A.jsxs(Ol,{show:i,onHide:()=>a(!1),children:[A.jsx(Ol.Header,{closeButton:!0,children:A.jsx(Ol.Title,{children:"Edit Question"})}),A.jsx(Ol.Body,{children:A.jsxs(_e,{children:[A.jsxs(_e.Group,{className:"mb-2",children:[A.jsx(_e.Label,{children:"Question"}),A.jsx(_e.Control,{type:"text",value:l,onChange:v=>c(v.target.value)})]}),h.map((v,N)=>A.jsxs(_e.Group,{className:"mb-2",children:[A.jsxs(_e.Label,{children:["Option ",N+1]}),A.jsx(_e.Control,{type:"text",value:v,onChange:I=>{const k=[...h];k[N]=I.target.value,f(k)}})]},N)),A.jsxs(_e.Group,{className:"mb-2",children:[A.jsx(_e.Label,{children:"Answer"}),A.jsx(_e.Control,{type:"text",value:p,onChange:v=>w(v.target.value)})]})]})}),A.jsxs(Ol.Footer,{children:[A.jsx(rr,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),A.jsx(rr,{variant:"success",onClick:_,children:"Update"})]})]})]})},vW=({c:n,idx:t,setContents:e,handleDelete:r})=>{const[i,a]=Y.useState(!1),[l,c]=Y.useState(n.title),[h,f]=Y.useState(n.category||""),[p,w]=Y.useState(n.content||""),_=async()=>{const v=ro(Wr,"features",n.id);await z0(v,{title:l,category:h,content:p}),e(N=>N.map(I=>I.id===n.id?{...I,title:l,category:h,content:p}:I)),a(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs("tr",{children:[A.jsx("td",{children:t+1}),A.jsx("td",{children:n.title}),A.jsx("td",{children:n.category||"General"}),A.jsx("td",{children:n.content||""}),A.jsxs("td",{className:"d-flex gap-2",children:[A.jsx(rr,{size:"sm",variant:"danger",onClick:()=>r("features",n.id,e),children:"Delete"}),A.jsx(rr,{size:"sm",variant:"primary",onClick:()=>a(!0),children:"Edit"})]})]}),A.jsxs(Ol,{show:i,onHide:()=>a(!1),children:[A.jsx(Ol.Header,{closeButton:!0,children:A.jsx(Ol.Title,{children:"Edit Study Material"})}),A.jsx(Ol.Body,{children:A.jsxs(_e,{children:[A.jsxs(_e.Group,{className:"mb-2",children:[A.jsx(_e.Label,{children:"Title"}),A.jsx(_e.Control,{type:"text",value:l,onChange:v=>c(v.target.value)})]}),A.jsxs(_e.Group,{className:"mb-2",children:[A.jsx(_e.Label,{children:"Category"}),A.jsx(_e.Control,{type:"text",value:h,onChange:v=>f(v.target.value)})]}),A.jsxs(_e.Group,{className:"mb-2",children:[A.jsx(_e.Label,{children:"Content"}),A.jsx(_e.Control,{as:"textarea",rows:3,value:p,onChange:v=>w(v.target.value)})]})]})}),A.jsxs(Ol.Footer,{children:[A.jsx(rr,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),A.jsx(rr,{variant:"success",onClick:_,children:"Update"})]})]})]})},bW=()=>{const[n,t]=Y.useState(!1);Y.useEffect(()=>{const r=MO(Aa,i=>{t(!!i)});return()=>r()},[]);const e=async()=>{await Aa.signOut(),t(!1)};return A.jsx(FL,{children:A.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[A.jsx(nq,{isLoggedIn:n,onLogout:e}),A.jsx("main",{className:"flex-grow-1",children:A.jsxs(vL,{children:[A.jsx(Jr,{path:"/",element:A.jsx(tq,{})}),!n&&A.jsx(Jr,{path:"/login",element:A.jsx(aF,{})}),n&&A.jsxs(A.Fragment,{children:[A.jsx(Jr,{path:"/features",element:A.jsx(eq,{})}),A.jsx(Jr,{path:"/contact",element:A.jsx(pq,{})}),A.jsx(Jr,{path:"/quizestart",element:A.jsx(oF,{})}),A.jsx(Jr,{path:"/quizeQuest",element:A.jsx(sF,{})}),A.jsx(Jr,{path:"/account",element:A.jsx(lF,{})}),A.jsx(Jr,{path:"/admin",element:A.jsx(uF,{})}),A.jsx(Jr,{path:"/learning/:id",element:A.jsx(cF,{})}),A.jsx(Jr,{path:"/addquest",element:A.jsx(hF,{})}),A.jsx(Jr,{path:"/addcontent",element:A.jsx(pW,{})}),A.jsx(Jr,{path:"/contactshow",element:A.jsx(mW,{})}),A.jsx(Jr,{path:"/studentdetails",element:A.jsx(gW,{})})]}),!n&&A.jsxs(A.Fragment,{children:[A.jsx(Jr,{path:"/features",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/contact",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/quizestart",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/quizeQuest",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/account",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/admin",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/learning/:category",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/addquest",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/addcontent",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/contactshow",element:A.jsx(Qo,{to:"/"})}),A.jsx(Jr,{path:"/studentdetails",element:A.jsx(Qo,{to:"/"})})]})]})}),A.jsx(dq,{})]})})};NR.createRoot(document.getElementById("root")).render(A.jsx(Y.StrictMode,{children:A.jsx(bW,{})}));export{Nr as _,Sc as c,hd as g};
